{"version":3,"file":"tools.js","sourceRoot":"","sources":["../../src/tools/theme/ui.ts","../../src/tools/profiler/profile.ts","../../src/tools/profiler/timelineFrame.ts","../../src/tools/profiler/timelineBuffer.ts","../../src/tools/profiler/controller.ts","../../src/tools/profiler/mouseController.ts","../../src/tools/profiler/flameChartBase.ts","../../src/tools/profiler/flameChart.ts","../../src/tools/profiler/flameChartOverview.ts","../../src/tools/profiler/flameChartHeader.ts","../../src/tools/profiler/tracelogger/traceLogger.ts","../../src/tools/profiler/tracelogger/thread.ts","../../src/tools/profiler/references.ts","../../src/tools/terminal/terminal.ts","../../src/tools/terminal/references.ts","../../src/tools/mini/fps.ts","../../src/tools/mini/references.ts","../../src/tools/references.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nmodule Shumway.Tools.Theme {\n\n\texport interface UITheme {\n\n\t\t// Chrome Colors\n\t\ttabToolbar              (a: number): string;\n\n\t\ttoolbars                (a: number): string;\n\n\t\tselectionBackground     (a: number): string;\n\n\t\tselectionText           (a: number): string;\n\n\t\tsplitters               (a: number): string;\n\n\t\t// Content Colors\n\t\tbodyBackground          (a: number): string;\n\n\t\tsidebarBackground       (a: number): string;\n\n\t\tattentionBackground     (a: number): string;\n\n\t\t// Text Colors\n\t\tbodyText                (a: number): string;\n\n\t\tforegroundTextGrey      (a: number): string;\n\n\t\tcontentTextHighContrast (a: number): string;\n\n\t\tcontentTextGrey         (a: number): string;\n\n\t\tcontentTextDarkGrey     (a: number): string;\n\n\t\t// Highlight Colors\n\t\tblueHighlight           (a: number): string;\n\n\t\tpurpleHighlight         (a: number): string;\n\n\t\tpinkHighlight           (a: number): string;\n\n\t\tredHighlight            (a: number): string;\n\n\t\torangeHighlight         (a: number): string;\n\n\t\tlightOrangeHighlight    (a: number): string;\n\n\t\tgreenHighlight          (a: number): string;\n\n\t\tblueGreyHighlight       (a: number): string;\n\n\t}\n\n\texport class UI {\n\t\tstatic toRGBA(r: number, g: number, b: number, a: number = 1): string {\n\t\t\treturn \"rgba(\" + r + \",\" + g + \",\" + b + \",\" + a + \")\";\n\t\t}\n\t}\n\n\texport class UIThemeDark implements UITheme {\n\n\t\tconstructor() {\n\t\t}\n\n\t\t// Chrome Colors\n\t\ttabToolbar(a: number = 1): string {\n\t\t\treturn UI.toRGBA(37, 44, 51, a);\n\t\t}\n\n\t\ttoolbars(a: number = 1): string {\n\t\t\treturn UI.toRGBA(52, 60, 69, a);\n\t\t}\n\n\t\tselectionBackground(a: number = 1): string {\n\t\t\treturn UI.toRGBA(29, 79, 115, a);\n\t\t}\n\n\t\tselectionText(a: number = 1): string {\n\t\t\treturn UI.toRGBA(245, 247, 250, a);\n\t\t}\n\n\t\tsplitters(a: number = 1): string {\n\t\t\treturn UI.toRGBA(0, 0, 0, a);\n\t\t}\n\n\t\t// Content Colors\n\t\tbodyBackground(a: number = 1): string {\n\t\t\treturn UI.toRGBA(17, 19, 21, a);\n\t\t}\n\n\t\tsidebarBackground(a: number = 1): string {\n\t\t\treturn UI.toRGBA(24, 29, 32, a);\n\t\t}\n\n\t\tattentionBackground(a: number = 1): string {\n\t\t\treturn UI.toRGBA(161, 134, 80, a);\n\t\t}\n\n\t\t// Text Colors\n\t\tbodyText(a: number = 1): string {\n\t\t\treturn UI.toRGBA(143, 161, 178, a);\n\t\t}\n\n\t\tforegroundTextGrey(a: number = 1): string {\n\t\t\treturn UI.toRGBA(182, 186, 191, a);\n\t\t}\n\n\t\tcontentTextHighContrast(a: number = 1): string {\n\t\t\treturn UI.toRGBA(169, 186, 203, a);\n\t\t}\n\n\t\tcontentTextGrey(a: number = 1): string {\n\t\t\treturn UI.toRGBA(143, 161, 178, a);\n\t\t}\n\n\t\tcontentTextDarkGrey(a: number = 1): string {\n\t\t\treturn UI.toRGBA(95, 115, 135, a);\n\t\t}\n\n\t\t// Highlight Colors\n\t\tblueHighlight(a: number = 1): string {\n\t\t\treturn UI.toRGBA(70, 175, 227, a);\n\t\t}\n\n\t\tpurpleHighlight(a: number = 1): string {\n\t\t\treturn UI.toRGBA(107, 122, 187, a);\n\t\t}\n\n\t\tpinkHighlight(a: number = 1): string {\n\t\t\treturn UI.toRGBA(223, 128, 255, a);\n\t\t}\n\n\t\tredHighlight(a: number = 1): string {\n\t\t\treturn UI.toRGBA(235, 83, 104, a);\n\t\t}\n\n\t\torangeHighlight(a: number = 1): string {\n\t\t\treturn UI.toRGBA(217, 102, 41, a);\n\t\t}\n\n\t\tlightOrangeHighlight(a: number = 1): string {\n\t\t\treturn UI.toRGBA(217, 155, 40, a);\n\t\t}\n\n\t\tgreenHighlight(a: number = 1): string {\n\t\t\treturn UI.toRGBA(112, 191, 83, a);\n\t\t}\n\n\t\tblueGreyHighlight(a: number = 1): string {\n\t\t\treturn UI.toRGBA(94, 136, 176, a);\n\t\t}\n\n\t}\n\n\texport class UIThemeLight implements UITheme {\n\n\t\tconstructor() {\n\t\t}\n\n\t\t// Chrome Colors\n\t\ttabToolbar(a: number = 1): string {\n\t\t\treturn UI.toRGBA(235, 236, 237, a);\n\t\t}\n\n\t\ttoolbars(a: number = 1): string {\n\t\t\treturn UI.toRGBA(240, 241, 242, a);\n\t\t}\n\n\t\tselectionBackground(a: number = 1): string {\n\t\t\treturn UI.toRGBA(76, 158, 217, a);\n\t\t}\n\n\t\tselectionText(a: number = 1): string {\n\t\t\treturn UI.toRGBA(245, 247, 250, a);\n\t\t}\n\n\t\tsplitters(a: number = 1): string {\n\t\t\treturn UI.toRGBA(170, 170, 170, a);\n\t\t}\n\n\t\t// Content Colors\n\t\tbodyBackground(a: number = 1): string {\n\t\t\treturn UI.toRGBA(252, 252, 252, a);\n\t\t}\n\n\t\tsidebarBackground(a: number = 1): string {\n\t\t\treturn UI.toRGBA(247, 247, 247, a);\n\t\t}\n\n\t\tattentionBackground(a: number = 1): string {\n\t\t\treturn UI.toRGBA(161, 134, 80, a);\n\t\t}\n\n\t\t// Text Colors\n\t\tbodyText(a: number = 1): string {\n\t\t\treturn UI.toRGBA(24, 25, 26, a);\n\t\t}\n\n\t\tforegroundTextGrey(a: number = 1): string {\n\t\t\treturn UI.toRGBA(88, 89, 89, a);\n\t\t}\n\n\t\tcontentTextHighContrast(a: number = 1): string {\n\t\t\treturn UI.toRGBA(41, 46, 51, a);\n\t\t}\n\n\t\tcontentTextGrey(a: number = 1): string {\n\t\t\treturn UI.toRGBA(143, 161, 178, a);\n\t\t}\n\n\t\tcontentTextDarkGrey(a: number = 1): string {\n\t\t\treturn UI.toRGBA(102, 115, 128, a);\n\t\t}\n\n\t\t// Highlight Colors\n\t\tblueHighlight(a: number = 1): string {\n\t\t\treturn UI.toRGBA(0, 136, 204, a);\n\t\t}\n\n\t\tpurpleHighlight(a: number = 1): string {\n\t\t\treturn UI.toRGBA(91, 95, 255, a);\n\t\t}\n\n\t\tpinkHighlight(a: number = 1): string {\n\t\t\treturn UI.toRGBA(184, 46, 229, a);\n\t\t}\n\n\t\tredHighlight(a: number = 1): string {\n\t\t\treturn UI.toRGBA(237, 38, 85, a);\n\t\t}\n\n\t\torangeHighlight(a: number = 1): string {\n\t\t\treturn UI.toRGBA(241, 60, 0, a);\n\t\t}\n\n\t\tlightOrangeHighlight(a: number = 1): string {\n\t\t\treturn UI.toRGBA(217, 126, 0, a);\n\t\t}\n\n\t\tgreenHighlight(a: number = 1): string {\n\t\t\treturn UI.toRGBA(44, 187, 15, a);\n\t\t}\n\n\t\tblueGreyHighlight(a: number = 1): string {\n\t\t\treturn UI.toRGBA(95, 136, 176, a);\n\t\t}\n\n\t}\n\n}\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nmodule Shumway.Tools.Profiler {\n\n\texport class Profile {\n\t\tprivate _snapshots: TimelineBufferSnapshot [];\n\t\tprivate _buffers: TimelineBuffer [];\n\t\tprivate _startTime: number;\n\t\tprivate _endTime: number;\n\t\tprivate _windowStart: number;\n\t\tprivate _windowEnd: number;\n\t\tprivate _maxDepth: number;\n\n\t\tconstructor(buffers: TimelineBuffer [], startTime: number) {\n\t\t\tthis._buffers = buffers || [];\n\t\t\tthis._snapshots = [];\n\t\t\tthis._startTime = startTime;\n\t\t\tthis._windowStart = startTime;\n\t\t\tthis._maxDepth = 0;\n\t\t}\n\n\t\taddBuffer(buffer: TimelineBuffer) {\n\t\t\tthis._buffers.push(buffer);\n\t\t}\n\n\t\tgetSnapshotAt(index: number): TimelineBufferSnapshot {\n\t\t\treturn this._snapshots[index];\n\t\t}\n\n\t\tget hasSnapshots(): boolean {\n\t\t\treturn (this.snapshotCount > 0);\n\t\t}\n\n\t\tget snapshotCount(): number {\n\t\t\treturn this._snapshots.length;\n\t\t}\n\n\t\tget startTime(): number {\n\t\t\treturn this._startTime;\n\t\t}\n\n\t\tget endTime(): number {\n\t\t\treturn this._endTime;\n\t\t}\n\n\t\tget totalTime(): number {\n\t\t\treturn this.endTime - this.startTime;\n\t\t}\n\n\t\tget windowStart(): number {\n\t\t\treturn this._windowStart;\n\t\t}\n\n\t\tget windowEnd(): number {\n\t\t\treturn this._windowEnd;\n\t\t}\n\n\t\tget windowLength(): number {\n\t\t\treturn this.windowEnd - this.windowStart;\n\t\t}\n\n\t\tget maxDepth(): number {\n\t\t\treturn this._maxDepth;\n\t\t}\n\n\t\tforEachSnapshot(visitor: (snapshot: TimelineBufferSnapshot, index: number) => void) {\n\t\t\tfor (let i = 0, n = this.snapshotCount; i < n; i++) {\n\t\t\t\tvisitor(this._snapshots[i], i);\n\t\t\t}\n\t\t}\n\n\t\tcreateSnapshots() {\n\t\t\tlet endTime = Number.MIN_VALUE;\n\t\t\tlet maxDepth = 0;\n\t\t\tthis._snapshots = [];\n\t\t\twhile (this._buffers.length > 0) {\n\t\t\t\tlet buffer = this._buffers.shift();\n\t\t\t\tlet snapshot = buffer.createSnapshot();\n\t\t\t\tif (snapshot) {\n\t\t\t\t\tif (endTime < snapshot.endTime) {\n\t\t\t\t\t\tendTime = snapshot.endTime;\n\t\t\t\t\t}\n\t\t\t\t\tif (maxDepth < snapshot.maxDepth) {\n\t\t\t\t\t\tmaxDepth = snapshot.maxDepth;\n\t\t\t\t\t}\n\t\t\t\t\tthis._snapshots.push(snapshot);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._endTime = endTime;\n\t\t\tthis._windowEnd = endTime;\n\t\t\tthis._maxDepth = maxDepth;\n\t\t}\n\n\t\tsetWindow(start: number, end: number) {\n\t\t\tif (start > end) {\n\t\t\t\tlet tmp = start;\n\t\t\t\tstart = end;\n\t\t\t\tend = tmp;\n\t\t\t}\n\t\t\tlet length = Math.min(end - start, this.totalTime);\n\t\t\tif (start < this._startTime) {\n\t\t\t\tstart = this._startTime;\n\t\t\t\tend = this._startTime + length;\n\t\t\t} else if (end > this._endTime) {\n\t\t\t\tstart = this._endTime - length;\n\t\t\t\tend = this._endTime;\n\t\t\t}\n\t\t\tthis._windowStart = start;\n\t\t\tthis._windowEnd = end;\n\t\t}\n\n\t\tmoveWindowTo(time: number) {\n\t\t\tthis.setWindow(time - this.windowLength / 2, time + this.windowLength / 2);\n\t\t}\n\n\t}\n}\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nmodule Shumway.Tools.Profiler {\n\n\texport interface TimelineFrameRange {\n\t\tstartIndex: number;\n\t\tendIndex: number;\n\t\tstartTime: number;\n\t\tendTime: number;\n\t\ttotalTime: number;\n\t}\n\n\texport class TimelineFrameStatistics {\n\t\tcount: number = 0;\n\t\tselfTime: number = 0;\n\t\ttotalTime: number = 0;\n\n\t\tconstructor(public kind: TimelineItemKind) {\n\n\t\t}\n\t}\n\n\t/**\n\t * Represents a single timeline frame range and makes it easier to work with the compacted\n\t * timeline buffer data.\n\t */\n\texport class TimelineFrame {\n\t\tpublic statistics: TimelineFrameStatistics [];\n\t\tpublic children: TimelineFrame [];\n\t\tpublic total: number;\n\t\tpublic maxDepth: number;\n\t\tpublic depth: number;\n\n\t\tconstructor(public parent: TimelineFrame,\n\t\t            public kind: TimelineItemKind,\n\t\t            public startData: any,\n\t\t            public endData: any,\n\t\t            public startTime: number,\n\t\t            public endTime: number) {\n\t\t\tthis.maxDepth = 0;\n\t\t}\n\n\t\tget totalTime(): number {\n\t\t\treturn this.endTime - this.startTime;\n\t\t}\n\n\t\tget selfTime(): number {\n\t\t\tlet selfTime = this.totalTime;\n\t\t\tif (this.children) {\n\t\t\t\tfor (let i = 0, n = this.children.length; i < n; i++) {\n\t\t\t\t\tlet child = this.children[i];\n\t\t\t\t\tselfTime -= (child.endTime - child.startTime);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn selfTime;\n\t\t}\n\n\t\t/**\n\t\t * Gets the child index of the first child to overlap the specified time.\n\t\t */\n\t\tpublic getChildIndex(time: number): number {\n\t\t\tlet children = this.children;\n\t\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\t\tlet child = children[i];\n\t\t\t\tif (child.endTime > time) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn 0;\n\t\t}\n\n\t\t/**\n\t\t * Gets the high and low index of the children that intersect the specified time range.\n\t\t */\n\t\tpublic getChildRange(startTime: number, endTime: number): TimelineFrameRange {\n\t\t\tif (this.children && startTime <= this.endTime && endTime >= this.startTime && endTime >= startTime) {\n\t\t\t\tlet startIdx = this._getNearestChild(startTime);\n\t\t\t\tlet endIdx = this._getNearestChildReverse(endTime);\n\t\t\t\tif (startIdx <= endIdx) {\n\t\t\t\t\tlet startTime = this.children[startIdx].startTime;\n\t\t\t\t\tlet endTime = this.children[endIdx].endTime;\n\t\t\t\t\treturn {\n\t\t\t\t\t\tstartIndex: startIdx,\n\t\t\t\t\t\tendIndex: endIdx,\n\t\t\t\t\t\tstartTime: startTime,\n\t\t\t\t\t\tendTime: endTime,\n\t\t\t\t\t\ttotalTime: endTime - startTime\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tprivate _getNearestChild(time: number): number {\n\t\t\tlet children = this.children;\n\t\t\tif (children && children.length) {\n\t\t\t\tif (time <= children[0].endTime) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t\tlet imid;\n\t\t\t\tlet imin = 0;\n\t\t\t\tlet imax = children.length - 1;\n\t\t\t\twhile (imax > imin) {\n\t\t\t\t\timid = ((imin + imax) / 2) | 0;\n\t\t\t\t\tlet child = children[imid];\n\t\t\t\t\tif (time >= child.startTime && time <= child.endTime) {\n\t\t\t\t\t\treturn imid;\n\t\t\t\t\t} else if (time > child.endTime) {\n\t\t\t\t\t\timin = imid + 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\timax = imid;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn Math.ceil((imin + imax) / 2);\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\n\t\tprivate _getNearestChildReverse(time: number): number {\n\t\t\tlet children = this.children;\n\t\t\tif (children && children.length) {\n\t\t\t\tlet imax = children.length - 1;\n\t\t\t\tif (time >= children[imax].startTime) {\n\t\t\t\t\treturn imax;\n\t\t\t\t}\n\t\t\t\tlet imid;\n\t\t\t\tlet imin = 0;\n\t\t\t\twhile (imax > imin) {\n\t\t\t\t\timid = Math.ceil((imin + imax) / 2);\n\t\t\t\t\tlet child = children[imid];\n\t\t\t\t\tif (time >= child.startTime && time <= child.endTime) {\n\t\t\t\t\t\treturn imid;\n\t\t\t\t\t} else if (time > child.endTime) {\n\t\t\t\t\t\timin = imid;\n\t\t\t\t\t} else {\n\t\t\t\t\t\timax = imid - 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn ((imin + imax) / 2) | 0;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Finds the deepest child that intersects with the specified time.\n\t\t */\n\t\tpublic query(time: number): TimelineFrame {\n\t\t\tif (time < this.startTime || time > this.endTime) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tlet children = this.children;\n\t\t\tif (children && children.length > 0) {\n\t\t\t\tlet child: TimelineFrame;\n\t\t\t\tlet imin = 0;\n\t\t\t\tlet imax = children.length - 1;\n\t\t\t\twhile (imax > imin) {\n\t\t\t\t\tlet imid = ((imin + imax) / 2) | 0;\n\t\t\t\t\tchild = children[imid];\n\t\t\t\t\tif (time >= child.startTime && time <= child.endTime) {\n\t\t\t\t\t\treturn child.query(time);\n\t\t\t\t\t} else if (time > child.endTime) {\n\t\t\t\t\t\timin = imid + 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\timax = imid;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tchild = children[imax];\n\t\t\t\tif (time >= child.startTime && time <= child.endTime) {\n\t\t\t\t\treturn child.query(time);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n\t\t * When querying a series of samples, if the deepest child for the previous time is known,\n\t\t * it is faster to go up the tree from there, until a frame is found that contains the next time,\n\t\t * and then go back down.\n\t\t *\n\t\t * More often than not we don't have to start at the very top.\n\t\t */\n\t\tpublic queryNext(time: number): TimelineFrame {\n\t\t\tlet frame = this as TimelineFrame;\n\t\t\twhile (time > frame.endTime) {\n\t\t\t\tif (frame.parent) {\n\t\t\t\t\tframe = frame.parent;\n\t\t\t\t} else {\n\t\t\t\t\treturn frame.query(time);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn frame.query(time);\n\t\t}\n\n\t\t/**\n\t\t * Gets this frame's distance to the root.\n\t\t */\n\t\tpublic getDepth(): number {\n\t\t\tlet depth = 0;\n\t\t\tlet self = this as TimelineFrame;\n\t\t\twhile (self) {\n\t\t\t\tdepth++;\n\t\t\t\tself = self.parent;\n\t\t\t}\n\t\t\treturn depth;\n\t\t}\n\n\t\tpublic calculateStatistics() {\n\t\t\tlet statistics: Array<TimelineFrameStatistics> = this.statistics = [];\n\n\t\t\tfunction visit(frame: TimelineFrame) {\n\t\t\t\tif (frame.kind) {\n\t\t\t\t\tlet s = statistics[frame.kind.id] || (statistics[frame.kind.id] = new TimelineFrameStatistics(frame.kind));\n\t\t\t\t\ts.count++;\n\t\t\t\t\ts.selfTime += frame.selfTime;\n\t\t\t\t\ts.totalTime += frame.totalTime;\n\t\t\t\t}\n\t\t\t\tif (frame.children) {\n\t\t\t\t\tframe.children.forEach(visit);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvisit(this);\n\t\t}\n\n\t\tpublic trace(writer: IndentingWriter) {\n\t\t\tlet s = (this.kind ? this.kind.name + \": \" : \"Profile: \") +\n\t\t\t\t(this.endTime - this.startTime).toFixed(2);\n\t\t\tif (this.children && this.children.length) {\n\t\t\t\twriter.enter(s);\n\t\t\t\tfor (let i = 0; i < this.children.length; i++) {\n\t\t\t\t\tthis.children[i].trace(writer);\n\t\t\t\t}\n\t\t\t\twriter.outdent();\n\t\t\t} else {\n\t\t\t\twriter.writeLn(s);\n\t\t\t}\n\t\t}\n\t}\n\n\texport class TimelineBufferSnapshot extends TimelineFrame {\n\t\tconstructor(public name: string) {\n\t\t\tsuper(null, null, null, null, NaN, NaN);\n\t\t}\n\t}\n\n}\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nmodule Shumway.Tools.Profiler {\n\n\texport interface TimelineItemKind {\n\t\tid: number;\n\t\tname: string;\n\t\tbgColor: string;\n\t\ttextColor: string;\n\t\tvisible: boolean;\n\t}\n\n\t/**\n\t * Records enter / leave events in two circular buffers.\n\t * The goal here is to be able to handle large amounts of data.\n\t */\n\texport class TimelineBuffer {\n\n\t\tstatic ENTER = 0 << 31;\n\t\tstatic LEAVE = 1 << 31;\n\n\t\tstatic MAX_KINDID = 0xffff;\n\t\tstatic MAX_DATAID = 0x7fff;\n\n\t\tprivate _depth: number;\n\t\tprivate _data: any [];\n\t\tprivate _kinds: TimelineItemKind [];\n\t\tprivate _kindNameMap: Shumway.MapObject<TimelineItemKind>;\n\t\tprivate _marks: Shumway.CircularBuffer;\n\t\tprivate _times: Shumway.CircularBuffer;\n\t\tprivate _stack: number [];\n\t\tprivate _startTime: number;\n\n\t\tpublic name: string;\n\n\t\tconstructor(name: string = \"\", startTime?: number) {\n\t\t\tthis.name = name || \"\";\n\t\t\tthis._startTime = isNullOrUndefined(startTime) ? jsGlobal.START_TIME : startTime;\n\t\t}\n\n\t\tgetKind(kind: number): TimelineItemKind {\n\t\t\treturn this._kinds[kind];\n\t\t}\n\n\t\tget kinds(): TimelineItemKind [] {\n\t\t\treturn this._kinds.concat();\n\t\t}\n\n\t\tget depth(): number {\n\t\t\treturn this._depth;\n\t\t}\n\n\t\tprivate _initialize() {\n\t\t\tthis._depth = 0;\n\t\t\tthis._stack = [];\n\t\t\tthis._data = [];\n\t\t\tthis._kinds = [];\n\t\t\tthis._kindNameMap = Object.create(null);\n\t\t\tthis._marks = new Shumway.CircularBuffer(Int32Array, 20);\n\t\t\tthis._times = new Shumway.CircularBuffer(Float64Array, 20);\n\t\t}\n\n\t\tprivate _getKindId(name: string): number {\n\t\t\tlet kindId = TimelineBuffer.MAX_KINDID;\n\t\t\tif (this._kindNameMap[name] === undefined) {\n\t\t\t\tkindId = this._kinds.length;\n\t\t\t\tif (kindId < TimelineBuffer.MAX_KINDID) {\n\t\t\t\t\tlet kind: TimelineItemKind = <TimelineItemKind>{\n\t\t\t\t\t\tid: kindId,\n\t\t\t\t\t\tname: name,\n\t\t\t\t\t\tvisible: true\n\t\t\t\t\t};\n\t\t\t\t\tthis._kinds.push(kind);\n\t\t\t\t\tthis._kindNameMap[name] = kind;\n\t\t\t\t} else {\n\t\t\t\t\tkindId = TimelineBuffer.MAX_KINDID;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tkindId = this._kindNameMap[name].id;\n\t\t\t}\n\t\t\treturn kindId;\n\t\t}\n\n\t\tprivate _getMark(type: number, kindId: number, data?: any): number {\n\t\t\tlet dataId = TimelineBuffer.MAX_DATAID;\n\t\t\tif (!isNullOrUndefined(data) && kindId !== TimelineBuffer.MAX_KINDID) {\n\t\t\t\tdataId = this._data.length;\n\t\t\t\tif (dataId < TimelineBuffer.MAX_DATAID) {\n\t\t\t\t\tthis._data.push(data);\n\t\t\t\t} else {\n\t\t\t\t\tdataId = TimelineBuffer.MAX_DATAID;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn type | (dataId << 16) | kindId;\n\t\t}\n\n\t\tenter(name: string, data?: any, time?: number) {\n\t\t\ttime = (isNullOrUndefined(time) ? performance.now() : time) - this._startTime;\n\t\t\tif (!this._marks) {\n\t\t\t\tthis._initialize();\n\t\t\t}\n\t\t\tthis._depth++;\n\t\t\tlet kindId = this._getKindId(name);\n\t\t\tthis._marks.write(this._getMark(TimelineBuffer.ENTER, kindId, data));\n\t\t\tthis._times.write(time);\n\t\t\tthis._stack.push(kindId);\n\t\t}\n\n\t\tleave(name?: string, data?: any, time?: number) {\n\t\t\ttime = (isNullOrUndefined(time) ? performance.now() : time) - this._startTime;\n\t\t\tlet kindId = this._stack.pop();\n\t\t\tif (name) {\n\t\t\t\tkindId = this._getKindId(name);\n\t\t\t}\n\t\t\tthis._marks.write(this._getMark(TimelineBuffer.LEAVE, kindId, data));\n\t\t\tthis._times.write(time);\n\t\t\tthis._depth--;\n\t\t}\n\n\t\tcount(name: string, value: number, data?: any) {\n\t\t\t// Not Implemented\n\t\t}\n\n\t\t/**\n\t\t * Constructs an easier to work with TimelineFrame data structure.\n\t\t */\n\t\tcreateSnapshot(count: number = Number.MAX_VALUE): TimelineBufferSnapshot {\n\t\t\tif (!this._marks) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tlet times = this._times;\n\t\t\tlet kinds = this._kinds;\n\t\t\tlet datastore = this._data;\n\t\t\tlet snapshot = new TimelineBufferSnapshot(this.name);\n\t\t\tlet stack: TimelineFrame [] = [snapshot];\n\t\t\tlet topLevelFrameCount = 0;\n\n\t\t\tif (!this._marks) {\n\t\t\t\tthis._initialize();\n\t\t\t}\n\n\t\t\tthis._marks.forEachInReverse(function (mark: number, i: number) {\n\t\t\t\tlet dataId = (mark >>> 16) & TimelineBuffer.MAX_DATAID;\n\t\t\t\tlet data = datastore[dataId];\n\t\t\t\tlet kindId = mark & TimelineBuffer.MAX_KINDID;\n\t\t\t\tlet kind = kinds[kindId];\n\t\t\t\tif (isNullOrUndefined(kind) || kind.visible) {\n\t\t\t\t\tlet action = mark & 0x80000000;\n\t\t\t\t\tlet time = times.get(i);\n\t\t\t\t\tlet stackLength = stack.length;\n\t\t\t\t\tif (action === TimelineBuffer.LEAVE) {\n\t\t\t\t\t\tif (stackLength === 1) {\n\t\t\t\t\t\t\ttopLevelFrameCount++;\n\t\t\t\t\t\t\tif (topLevelFrameCount > count) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstack.push(new TimelineFrame(stack[stackLength - 1], kind, null, data, NaN, time));\n\t\t\t\t\t} else if (action === TimelineBuffer.ENTER) {\n\t\t\t\t\t\tlet node = stack.pop();\n\t\t\t\t\t\tlet top = stack[stack.length - 1];\n\t\t\t\t\t\tif (top) {\n\t\t\t\t\t\t\tif (!top.children) {\n\t\t\t\t\t\t\t\ttop.children = [node];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttop.children.unshift(node);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet currentDepth = stack.length;\n\t\t\t\t\t\t\tnode.depth = currentDepth;\n\t\t\t\t\t\t\tnode.startData = data;\n\t\t\t\t\t\t\tnode.startTime = time;\n\t\t\t\t\t\t\twhile (node) {\n\t\t\t\t\t\t\t\tif (node.maxDepth < currentDepth) {\n\t\t\t\t\t\t\t\t\tnode.maxDepth = currentDepth;\n\t\t\t\t\t\t\t\t\tnode = node.parent;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\tif (snapshot.children && snapshot.children.length) {\n\t\t\t\tsnapshot.startTime = snapshot.children[0].startTime;\n\t\t\t\tsnapshot.endTime = snapshot.children[snapshot.children.length - 1].endTime;\n\t\t\t}\n\t\t\treturn snapshot;\n\t\t}\n\n\t\treset(startTime?: number) {\n\t\t\tthis._startTime = isNullOrUndefined(startTime) ? performance.now() : startTime;\n\t\t\tif (!this._marks) {\n\t\t\t\tthis._initialize();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._depth = 0;\n\t\t\tthis._data = [];\n\t\t\tthis._marks.reset();\n\t\t\tthis._times.reset();\n\t\t}\n\n\t\tstatic FromFirefoxProfile(profile: any, name?: string) {\n\t\t\tlet samples = profile.profile.threads[0].samples;\n\t\t\tlet buffer = new TimelineBuffer(name, samples[0].time);\n\t\t\tlet currentStack : any = [];\n\t\t\tlet sample;\n\t\t\tlet time;\n\t\t\tfor (let i = 0; i < samples.length; i++) {\n\t\t\t\tsample = samples[i];\n\t\t\t\ttime = sample.time;\n\t\t\t\tlet stack = sample.frames;\n\t\t\t\tlet j = 0;\n\t\t\t\tlet minStackLen = Math.min(stack.length, currentStack.length);\n\t\t\t\twhile (j < minStackLen && stack[j].location === currentStack[j].location) {\n\t\t\t\t\tj++;\n\t\t\t\t}\n\t\t\t\tlet leaveCount = currentStack.length - j;\n\t\t\t\tfor (let k = 0; k < leaveCount; k++) {\n\t\t\t\t\tsample = currentStack.pop();\n\t\t\t\t\tbuffer.leave(sample.location, null, time);\n\t\t\t\t}\n\t\t\t\twhile (j < stack.length) {\n\t\t\t\t\tsample = stack[j++];\n\t\t\t\t\tbuffer.enter(sample.location, null, time);\n\t\t\t\t}\n\t\t\t\tcurrentStack = stack;\n\t\t\t}\n\t\t\twhile (sample = currentStack.pop()) {\n\t\t\t\tbuffer.leave(sample.location, null, time);\n\t\t\t}\n\t\t\treturn buffer;\n\t\t}\n\n\t\tstatic FromChromeProfile(profile: any, name?: string) {\n\t\t\tlet timestamps = profile.timestamps;\n\t\t\tlet samples = profile.samples;\n\t\t\tlet buffer = new TimelineBuffer(name, timestamps[0] / 1000);\n\t\t\tlet currentStack: any = [];\n\t\t\tlet idMap: MapObject<any> = {};\n\t\t\tlet sample;\n\t\t\tlet time;\n\t\t\tTimelineBuffer._resolveIds(profile.head, idMap);\n\t\t\tfor (let i = 0; i < timestamps.length; i++) {\n\t\t\t\ttime = timestamps[i] / 1000;\n\t\t\t\tlet stack: any = [];\n\t\t\t\tsample = idMap[samples[i]];\n\t\t\t\twhile (sample) {\n\t\t\t\t\tstack.unshift(sample);\n\t\t\t\t\tsample = sample.parent;\n\t\t\t\t}\n\t\t\t\tlet j = 0;\n\t\t\t\tlet minStackLen = Math.min(stack.length, currentStack.length);\n\t\t\t\twhile (j < minStackLen && stack[j] === currentStack[j]) {\n\t\t\t\t\tj++;\n\t\t\t\t}\n\t\t\t\tlet leaveCount = currentStack.length - j;\n\t\t\t\tfor (let k = 0; k < leaveCount; k++) {\n\t\t\t\t\tsample = currentStack.pop();\n\t\t\t\t\tbuffer.leave(sample.functionName, null, time);\n\t\t\t\t}\n\t\t\t\twhile (j < stack.length) {\n\t\t\t\t\tsample = stack[j++];\n\t\t\t\t\tbuffer.enter(sample.functionName, null, time);\n\t\t\t\t}\n\t\t\t\tcurrentStack = stack;\n\t\t\t}\n\t\t\twhile (sample = currentStack.pop()) {\n\t\t\t\tbuffer.leave(sample.functionName, null, time);\n\t\t\t}\n\t\t\treturn buffer;\n\t\t}\n\n\t\tprivate static _resolveIds(parent: any, idMap: any) {\n\t\t\tidMap[parent.id] = parent;\n\t\t\tif (parent.children) {\n\t\t\t\tfor (let i = 0; i < parent.children.length; i++) {\n\t\t\t\t\tparent.children[i].parent = parent;\n\t\t\t\t\tTimelineBuffer._resolveIds(parent.children[i], idMap);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n}\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nmodule Shumway.Tools.Profiler {\n\n\texport const enum UIThemeType {\n\t\tDARK,\n\t\tLIGHT\n\t}\n\n\texport class Controller {\n\n\t\tprivate _container: HTMLElement;\n\t\tprivate _profiles: Profile [];\n\t\tprivate _activeProfile: Profile;\n\n\t\tprivate _overviewHeader: FlameChartHeader;\n\t\tprivate _overview: FlameChartOverview;\n\t\tprivate _headers: FlameChartHeader [];\n\t\tprivate _charts: FlameChart [];\n\n\t\tprivate _themeType: UIThemeType;\n\t\tprivate _theme: Theme.UITheme;\n\n\t\tprivate _tooltip: HTMLElement;\n\n\t\tconstructor(container: HTMLElement, themeType: UIThemeType = UIThemeType.DARK) {\n\t\t\tthis._container = container;\n\t\t\tthis._headers = [];\n\t\t\tthis._charts = [];\n\t\t\tthis._profiles = [];\n\t\t\tthis._activeProfile = null;\n\t\t\tthis.themeType = themeType;\n\t\t\tthis._tooltip = this._createTooltip();\n\t\t}\n\n\t\tcreateProfile(buffers: TimelineBuffer [], startTime: number): Profile {\n\t\t\tlet profile = new Profile(buffers, startTime);\n\t\t\tprofile.createSnapshots();\n\t\t\tthis._profiles.push(profile);\n\t\t\tthis.activateProfile(profile);\n\t\t\treturn profile;\n\t\t}\n\n\t\tactivateProfile(profile: Profile) {\n\t\t\tthis.deactivateProfile();\n\t\t\tthis._activeProfile = profile;\n\t\t\tthis._createViews();\n\t\t\tthis._initializeViews();\n\t\t}\n\n\t\tactivateProfileAt(index: number) {\n\t\t\tthis.activateProfile(this.getProfileAt(index));\n\t\t}\n\n\t\tdeactivateProfile() {\n\t\t\tif (this._activeProfile) {\n\t\t\t\tthis._destroyViews();\n\t\t\t\tthis._activeProfile = null;\n\t\t\t}\n\t\t}\n\n\t\tresize() {\n\t\t\tthis._onResize();\n\t\t}\n\n\t\tgetProfileAt(index: number): Profile {\n\t\t\treturn this._profiles[index];\n\t\t}\n\n\t\tget activeProfile(): Profile {\n\t\t\treturn this._activeProfile;\n\t\t}\n\n\t\tget profileCount(): number {\n\t\t\treturn this._profiles.length;\n\t\t}\n\n\n\t\tget container(): HTMLElement {\n\t\t\treturn this._container;\n\t\t}\n\n\t\tset themeType(value: UIThemeType) {\n\t\t\tswitch (value) {\n\t\t\t\tcase UIThemeType.DARK:\n\t\t\t\t\tthis._theme = new Theme.UIThemeDark();\n\t\t\t\t\tbreak;\n\t\t\t\tcase UIThemeType.LIGHT:\n\t\t\t\t\tthis._theme = new Theme.UIThemeLight();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tget themeType(): UIThemeType {\n\t\t\treturn this._themeType;\n\t\t}\n\n\t\tget theme(): Theme.UITheme {\n\t\t\treturn this._theme;\n\t\t}\n\n\t\tgetSnapshotAt(index: number): TimelineBufferSnapshot {\n\t\t\treturn this._activeProfile.getSnapshotAt(index);\n\t\t}\n\n\t\tprivate _createViews() {\n\t\t\tif (this._activeProfile) {\n\t\t\t\tlet self = this;\n\t\t\t\tthis._overviewHeader = new Profiler.FlameChartHeader(this, FlameChartHeaderType.OVERVIEW);\n\t\t\t\tthis._overview = new Profiler.FlameChartOverview(this, FlameChartOverviewMode.OVERLAY);\n\t\t\t\tthis._activeProfile.forEachSnapshot(function (snapshot: TimelineBufferSnapshot, index: number) {\n\t\t\t\t\tself._headers.push(new Profiler.FlameChartHeader(self, FlameChartHeaderType.CHART));\n\t\t\t\t\tself._charts.push(new Profiler.FlameChart(self, snapshot));\n\t\t\t\t});\n\t\t\t\twindow.addEventListener(\"resize\", this._onResize.bind(this));\n\t\t\t}\n\t\t}\n\n\t\tprivate _destroyViews() {\n\t\t\tif (this._activeProfile) {\n\t\t\t\tthis._overviewHeader.destroy();\n\t\t\t\tthis._overview.destroy();\n\t\t\t\twhile (this._headers.length) {\n\t\t\t\t\tthis._headers.pop().destroy();\n\t\t\t\t}\n\t\t\t\twhile (this._charts.length) {\n\t\t\t\t\tthis._charts.pop().destroy();\n\t\t\t\t}\n\t\t\t\twindow.removeEventListener(\"resize\", this._onResize.bind(this));\n\t\t\t}\n\t\t}\n\n\t\tprivate _initializeViews() {\n\t\t\tif (this._activeProfile) {\n\t\t\t\tlet self = this;\n\t\t\t\tlet startTime = this._activeProfile.startTime;\n\t\t\t\tlet endTime = this._activeProfile.endTime;\n\t\t\t\tthis._overviewHeader.initialize(startTime, endTime);\n\t\t\t\tthis._overview.initialize(startTime, endTime);\n\t\t\t\tthis._activeProfile.forEachSnapshot(function (snapshot: TimelineBufferSnapshot, index: number) {\n\t\t\t\t\tself._headers[index].initialize(startTime, endTime);\n\t\t\t\t\tself._charts[index].initialize(startTime, endTime);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tprivate _onResize() {\n\t\t\tif (this._activeProfile) {\n\t\t\t\tlet self = this;\n\t\t\t\tlet width = this._container.offsetWidth;\n\t\t\t\tthis._overviewHeader.setSize(width);\n\t\t\t\tthis._overview.setSize(width);\n\t\t\t\tthis._activeProfile.forEachSnapshot(function (snapshot: TimelineBufferSnapshot, index: number) {\n\t\t\t\t\tself._headers[index].setSize(width);\n\t\t\t\t\tself._charts[index].setSize(width);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tprivate _updateViews() {\n\t\t\tif (this._activeProfile) {\n\t\t\t\tlet self = this;\n\t\t\t\tlet start = this._activeProfile.windowStart;\n\t\t\t\tlet end = this._activeProfile.windowEnd;\n\t\t\t\tthis._overviewHeader.setWindow(start, end);\n\t\t\t\tthis._overview.setWindow(start, end);\n\t\t\t\tthis._activeProfile.forEachSnapshot(function (snapshot: TimelineBufferSnapshot, index: number) {\n\t\t\t\t\tself._headers[index].setWindow(start, end);\n\t\t\t\t\tself._charts[index].setWindow(start, end);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tprivate _drawViews() {\n\t\t\t/*\n\t\t\tlet self = this;\n\t\t\tthis._overviewHeader.draw();\n\t\t\tthis._overview.setWindow(start, end);\n\t\t\tthis._profile.forEachBuffer(function(buffer: TimelineBufferSnapshot, index: number) {\n\t\t\t  self._headers[index].setWindow(start, end);\n\t\t\t  self._charts[index].setWindow(start, end);\n\t\t\t});\n\t\t\t*/\n\t\t}\n\n\t\tprivate _createTooltip() {\n\t\t\tlet el = document.createElement(\"div\");\n\t\t\tel.classList.add(\"profiler-tooltip\");\n\t\t\tel.style.display = \"none\";\n\t\t\tthis._container.insertBefore(el, this._container.firstChild);\n\t\t\treturn el;\n\t\t}\n\n\n\t\t/**\n\t\t * View callbacks\n\t\t */\n\n\t\tsetWindow(start: number, end: number) {\n\t\t\tthis._activeProfile.setWindow(start, end);\n\t\t\tthis._updateViews();\n\t\t}\n\n\t\tmoveWindowTo(time: number) {\n\t\t\tthis._activeProfile.moveWindowTo(time);\n\t\t\tthis._updateViews();\n\t\t}\n\n\t\tshowTooltip(chart: FlameChart, frame: TimelineFrame, x: number, y: number) {\n\t\t\tthis.removeTooltipContent();\n\t\t\tthis._tooltip.appendChild(this.createTooltipContent(chart, frame));\n\t\t\tthis._tooltip.style.display = \"block\";\n\t\t\tlet elContent = <HTMLElement>this._tooltip.firstChild;\n\t\t\tlet tooltipWidth = elContent.clientWidth;\n\t\t\tlet tooltipHeight = elContent.clientHeight;\n\t\t\tlet totalWidth = chart.canvas.clientWidth;\n\t\t\tx += (x + tooltipWidth >= totalWidth - 50) ? -(tooltipWidth + 20) : 25;\n\t\t\ty += chart.canvas.offsetTop - tooltipHeight / 2;\n\t\t\tthis._tooltip.style.left = x + \"px\";\n\t\t\tthis._tooltip.style.top = y + \"px\";\n\t\t}\n\n\t\thideTooltip() {\n\t\t\tthis._tooltip.style.display = \"none\";\n\t\t}\n\n\t\tcreateTooltipContent(chart: FlameChart, frame: TimelineFrame): HTMLElement {\n\t\t\tlet totalTime = Math.round(frame.totalTime * 100000) / 100000;\n\t\t\tlet selfTime = Math.round(frame.selfTime * 100000) / 100000;\n\t\t\tlet selfPercent = Math.round(frame.selfTime * 100 * 100 / frame.totalTime) / 100;\n\n\t\t\tlet elContent = document.createElement(\"div\");\n\n\t\t\tlet elName = document.createElement(\"h1\");\n\t\t\telName.textContent = frame.kind.name;\n\t\t\telContent.appendChild(elName);\n\n\t\t\tlet elTotalTime = document.createElement(\"p\");\n\t\t\telTotalTime.textContent = \"Total: \" + totalTime + \" ms\";\n\t\t\telContent.appendChild(elTotalTime);\n\n\t\t\tlet elSelfTime = document.createElement(\"p\");\n\t\t\telSelfTime.textContent = \"Self: \" + selfTime + \" ms (\" + selfPercent + \"%)\";\n\t\t\telContent.appendChild(elSelfTime);\n\n\t\t\tlet statistics = chart.getStatistics(frame.kind);\n\n\t\t\tif (statistics) {\n\t\t\t\tlet elAllCount = document.createElement(\"p\");\n\t\t\t\telAllCount.textContent = \"Count: \" + statistics.count;\n\t\t\t\telContent.appendChild(elAllCount);\n\n\t\t\t\tlet allTotalTime = Math.round(statistics.totalTime * 100000) / 100000;\n\t\t\t\tlet elAllTotalTime = document.createElement(\"p\");\n\t\t\t\telAllTotalTime.textContent = \"All Total: \" + allTotalTime + \" ms\";\n\t\t\t\telContent.appendChild(elAllTotalTime);\n\n\t\t\t\tlet allSelfTime = Math.round(statistics.selfTime * 100000) / 100000;\n\t\t\t\tlet elAllSelfTime = document.createElement(\"p\");\n\t\t\t\telAllSelfTime.textContent = \"All Self: \" + allSelfTime + \" ms\";\n\t\t\t\telContent.appendChild(elAllSelfTime);\n\t\t\t}\n\n\t\t\tthis.appendDataElements(elContent, frame.startData);\n\t\t\tthis.appendDataElements(elContent, frame.endData);\n\n\t\t\treturn elContent;\n\t\t}\n\n\t\tappendDataElements(el: HTMLElement, data: any) {\n\t\t\tif (!isNullOrUndefined(data)) {\n\t\t\t\tel.appendChild(document.createElement(\"hr\"));\n\t\t\t\tlet elData: HTMLElement;\n\t\t\t\tif (isObject(data)) {\n\t\t\t\t\tfor (let key in data) {\n\t\t\t\t\t\telData = document.createElement(\"p\");\n\t\t\t\t\t\telData.textContent = key + \": \" + data[key];\n\t\t\t\t\t\tel.appendChild(elData);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\telData = document.createElement(\"p\");\n\t\t\t\t\telData.textContent = data.toString();\n\t\t\t\t\tel.appendChild(elData);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tremoveTooltipContent() {\n\t\t\tlet el = this._tooltip;\n\t\t\twhile (el.firstChild) {\n\t\t\t\tel.removeChild(el.firstChild);\n\t\t\t}\n\t\t}\n\n\t}\n}\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nmodule Shumway.Tools.Profiler {\n\n\timport clamp = NumberUtilities.clamp;\n\n\tinterface Point {\n\t\tx: number;\n\t\ty: number;\n\t}\n\n\tinterface DragInfo {\n\t\tstart: Point;\n\t\tcurrent: Point;\n\t\tdelta: Point;\n\t\thasMoved: boolean;\n\t\toriginalTarget: HTMLElement;\n\t}\n\n\tinterface HoverInfo {\n\t\tpos: Point;\n\t\tisHovering: boolean;\n\t\ttimeoutHandle: number;\n\t}\n\n\texport interface MouseControllerTarget {\n\t\tonMouseDown(x: number, y: number): void;\n\n\t\tonMouseMove(x: number, y: number): void;\n\n\t\tonMouseOver(x: number, y: number): void;\n\n\t\tonMouseOut(): void;\n\n\t\tonMouseWheel(x: number, y: number, delta: number): void;\n\n\t\tonDrag(startX: number, startY: number, currentX: number, currentY: number, deltaX: number, deltaY: number): void;\n\n\t\tonDragEnd(startX: number, startY: number, currentX: number, currentY: number, deltaX: number, deltaY: number): void;\n\n\t\tonClick(x: number, y: number): void;\n\n\t\tonHoverStart(x: number, y: number): void;\n\n\t\tonHoverEnd(): void;\n\t}\n\n\texport class MouseCursor {\n\t\tconstructor(public value: string) {\n\t\t}\n\n\t\ttoString() {\n\t\t\treturn this.value;\n\t\t}\n\n\t\tstatic AUTO = new MouseCursor(\"auto\");\n\t\tstatic DEFAULT = new MouseCursor(\"default\");\n\t\tstatic NONE = new MouseCursor(\"none\");\n\t\tstatic HELP = new MouseCursor(\"help\");\n\t\tstatic POINTER = new MouseCursor(\"pointer\");\n\t\tstatic PROGRESS = new MouseCursor(\"progress\");\n\t\tstatic WAIT = new MouseCursor(\"wait\");\n\t\tstatic CELL = new MouseCursor(\"cell\");\n\t\tstatic CROSSHAIR = new MouseCursor(\"crosshair\");\n\t\tstatic TEXT = new MouseCursor(\"text\");\n\t\tstatic ALIAS = new MouseCursor(\"alias\");\n\t\tstatic COPY = new MouseCursor(\"copy\");\n\t\tstatic MOVE = new MouseCursor(\"move\");\n\t\tstatic NO_DROP = new MouseCursor(\"no-drop\");\n\t\tstatic NOT_ALLOWED = new MouseCursor(\"not-allowed\");\n\t\tstatic ALL_SCROLL = new MouseCursor(\"all-scroll\");\n\t\tstatic COL_RESIZE = new MouseCursor(\"col-resize\");\n\t\tstatic ROW_RESIZE = new MouseCursor(\"row-resize\");\n\t\tstatic N_RESIZE = new MouseCursor(\"n-resize\");\n\t\tstatic E_RESIZE = new MouseCursor(\"e-resize\");\n\t\tstatic S_RESIZE = new MouseCursor(\"s-resize\");\n\t\tstatic W_RESIZE = new MouseCursor(\"w-resize\");\n\t\tstatic NE_RESIZE = new MouseCursor(\"ne-resize\");\n\t\tstatic NW_RESIZE = new MouseCursor(\"nw-resize\");\n\t\tstatic SE_RESIZE = new MouseCursor(\"se-resize\");\n\t\tstatic SW_RESIZE = new MouseCursor(\"sw-resize\");\n\t\tstatic EW_RESIZE = new MouseCursor(\"ew-resize\");\n\t\tstatic NS_RESIZE = new MouseCursor(\"ns-resize\");\n\t\tstatic NESW_RESIZE = new MouseCursor(\"nesw-resize\");\n\t\tstatic NWSE_RESIZE = new MouseCursor(\"nwse-resize\");\n\t\tstatic ZOOM_IN = new MouseCursor(\"zoom-in\");\n\t\tstatic ZOOM_OUT = new MouseCursor(\"zoom-out\");\n\t\tstatic GRAB = new MouseCursor(\"grab\");\n\t\tstatic GRABBING = new MouseCursor(\"grabbing\");\n\t}\n\n\texport class MouseController {\n\n\t\tprivate _target: MouseControllerTarget;\n\t\tprivate _eventTarget: EventTarget;\n\n\t\tprivate _boundOnMouseDown: EventListener;\n\t\tprivate _boundOnMouseUp: EventListener;\n\t\tprivate _boundOnMouseOver: EventListener;\n\t\tprivate _boundOnMouseOut: EventListener;\n\t\tprivate _boundOnMouseMove: EventListener;\n\t\tprivate _boundOnMouseWheel: EventListener;\n\t\tprivate _boundOnDrag: EventListener;\n\t\tprivate _dragInfo: DragInfo;\n\t\tprivate _hoverInfo: HoverInfo;\n\t\tprivate _wheelDisabled: boolean;\n\n\t\tprivate static HOVER_TIMEOUT = 500;\n\n\t\tprivate static _cursor = MouseCursor.DEFAULT;\n\t\tprivate static _cursorOwner: MouseControllerTarget;\n\n\t\tconstructor(target: MouseControllerTarget, eventTarget: EventTarget) {\n\t\t\tthis._target = target;\n\t\t\tthis._eventTarget = eventTarget;\n\t\t\tthis._wheelDisabled = false;\n\t\t\tthis._boundOnMouseDown = this._onMouseDown.bind(this);\n\t\t\tthis._boundOnMouseUp = this._onMouseUp.bind(this);\n\t\t\tthis._boundOnMouseOver = this._onMouseOver.bind(this);\n\t\t\tthis._boundOnMouseOut = this._onMouseOut.bind(this);\n\t\t\tthis._boundOnMouseMove = this._onMouseMove.bind(this);\n\t\t\tthis._boundOnMouseWheel = this._onMouseWheel.bind(this);\n\t\t\tthis._boundOnDrag = this._onDrag.bind(this);\n\t\t\teventTarget.addEventListener(\"mousedown\", this._boundOnMouseDown, false);\n\t\t\teventTarget.addEventListener(\"mouseover\", this._boundOnMouseOver, false);\n\t\t\teventTarget.addEventListener(\"mouseout\", this._boundOnMouseOut, false);\n\t\t\teventTarget.addEventListener((\"onwheel\" in document ? \"wheel\" : \"mousewheel\"), this._boundOnMouseWheel, false);\n\t\t}\n\n\t\tdestroy() {\n\t\t\tlet eventTarget = this._eventTarget;\n\t\t\teventTarget.removeEventListener(\"mousedown\", this._boundOnMouseDown);\n\t\t\teventTarget.removeEventListener(\"mouseover\", this._boundOnMouseOver);\n\t\t\teventTarget.removeEventListener(\"mouseout\", this._boundOnMouseOut);\n\t\t\teventTarget.removeEventListener((\"onwheel\" in document ? \"wheel\" : \"mousewheel\"), this._boundOnMouseWheel);\n\t\t\twindow.removeEventListener(\"mousemove\", this._boundOnDrag);\n\t\t\twindow.removeEventListener(\"mouseup\", this._boundOnMouseUp);\n\t\t\tthis._killHoverCheck();\n\t\t\tthis._eventTarget = null;\n\t\t\tthis._target = null;\n\t\t}\n\n\t\tupdateCursor(cursor: MouseCursor) {\n\t\t\tif (!MouseController._cursorOwner || MouseController._cursorOwner === this._target) {\n\t\t\t\tlet el: HTMLElement = <HTMLElement>(<any>this._eventTarget).parentElement;\n\t\t\t\tif (MouseController._cursor !== cursor) {\n\t\t\t\t\tMouseController._cursor = cursor;\n\t\t\t\t\tlet self = this;\n\t\t\t\t\t[\"\", \"-moz-\", \"-webkit-\"].forEach(function (prefix) {\n\t\t\t\t\t\tel.style.cursor = prefix + cursor;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (MouseController._cursor === MouseCursor.DEFAULT) {\n\t\t\t\t\tMouseController._cursorOwner = null;\n\t\t\t\t} else {\n\t\t\t\t\tMouseController._cursorOwner = this._target;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprivate _onMouseDown(event: MouseEvent) {\n\t\t\tthis._killHoverCheck();\n\t\t\tif (event.button === 0) {\n\t\t\t\tlet pos = this._getTargetMousePos(event, <HTMLElement>(event.target));\n\t\t\t\tthis._dragInfo = <DragInfo>{\n\t\t\t\t\tstart: pos,\n\t\t\t\t\tcurrent: pos,\n\t\t\t\t\tdelta: {x: 0, y: 0},\n\t\t\t\t\thasMoved: false,\n\t\t\t\t\toriginalTarget: event.target\n\t\t\t\t};\n\t\t\t\twindow.addEventListener(\"mousemove\", this._boundOnDrag, false);\n\t\t\t\twindow.addEventListener(\"mouseup\", this._boundOnMouseUp, false);\n\t\t\t\tthis._target.onMouseDown(pos.x, pos.y);\n\t\t\t}\n\t\t}\n\n\t\tprivate _onDrag(event: MouseEvent) {\n\t\t\tlet dragInfo = this._dragInfo;\n\t\t\tlet current = this._getTargetMousePos(event, dragInfo.originalTarget);\n\t\t\tlet delta: Point = {\n\t\t\t\tx: current.x - dragInfo.start.x,\n\t\t\t\ty: current.y - dragInfo.start.y\n\t\t\t};\n\t\t\tdragInfo.current = current;\n\t\t\tdragInfo.delta = delta;\n\t\t\tdragInfo.hasMoved = true;\n\t\t\tthis._target.onDrag(dragInfo.start.x, dragInfo.start.y, current.x, current.y, delta.x, delta.y);\n\t\t}\n\n\t\tprivate _onMouseUp(event: MouseEvent) {\n\t\t\twindow.removeEventListener(\"mousemove\", this._boundOnDrag);\n\t\t\twindow.removeEventListener(\"mouseup\", this._boundOnMouseUp);\n\t\t\tlet self = this;\n\t\t\tlet dragInfo = this._dragInfo;\n\t\t\tif (dragInfo.hasMoved) {\n\t\t\t\tthis._target.onDragEnd(dragInfo.start.x, dragInfo.start.y, dragInfo.current.x, dragInfo.current.y, dragInfo.delta.x, dragInfo.delta.y);\n\t\t\t} else {\n\t\t\t\tthis._target.onClick(dragInfo.current.x, dragInfo.current.y);\n\t\t\t}\n\t\t\tthis._dragInfo = null;\n\t\t\tthis._wheelDisabled = true;\n\t\t\tsetTimeout(function () {\n\t\t\t\tself._wheelDisabled = false;\n\t\t\t}, 500);\n\t\t}\n\n\t\tprivate _onMouseOver(event: MouseEvent) {\n\t\t\tevent.target.addEventListener(\"mousemove\", this._boundOnMouseMove, false);\n\t\t\tif (!this._dragInfo) {\n\t\t\t\tlet pos = this._getTargetMousePos(event, <HTMLElement>(event.target));\n\t\t\t\tthis._target.onMouseOver(pos.x, pos.y);\n\t\t\t\tthis._startHoverCheck(event);\n\t\t\t}\n\t\t}\n\n\t\tprivate _onMouseOut(event: MouseEvent) {\n\t\t\tevent.target.removeEventListener(\"mousemove\", this._boundOnMouseMove, false);\n\t\t\tif (!this._dragInfo) {\n\t\t\t\tthis._target.onMouseOut();\n\t\t\t}\n\t\t\tthis._killHoverCheck();\n\t\t}\n\n\t\tprivate _onMouseMove(event: MouseEvent) {\n\t\t\tif (!this._dragInfo) {\n\t\t\t\tlet pos = this._getTargetMousePos(event, <HTMLElement>(event.target));\n\t\t\t\tthis._target.onMouseMove(pos.x, pos.y);\n\t\t\t\tthis._killHoverCheck();\n\t\t\t\tthis._startHoverCheck(event);\n\t\t\t}\n\t\t}\n\n\t\tprivate _onMouseWheel(event: MouseWheelEvent) {\n\t\t\tif (!event.altKey && !event.metaKey && !event.ctrlKey && !event.shiftKey) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (!this._dragInfo && !this._wheelDisabled) {\n\t\t\t\t\tlet pos = this._getTargetMousePos(event, <HTMLElement>(event.target));\n\t\t\t\t\tlet delta = clamp((typeof event.deltaY !== \"undefined\") ? event.deltaY / 16 : -event.wheelDelta / 40, -1, 1);\n\t\t\t\t\tlet zoom = Math.pow(1.2, delta) - 1;\n\t\t\t\t\tthis._target.onMouseWheel(pos.x, pos.y, zoom);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprivate _startHoverCheck(event: MouseEvent) {\n\t\t\tthis._hoverInfo = {\n\t\t\t\tisHovering: false,\n\t\t\t\ttimeoutHandle: setTimeout(this._onMouseMoveIdleHandler.bind(this), MouseController.HOVER_TIMEOUT),\n\t\t\t\tpos: this._getTargetMousePos(event, <HTMLElement>(event.target))\n\t\t\t};\n\t\t}\n\n\t\tprivate _killHoverCheck() {\n\t\t\tif (this._hoverInfo) {\n\t\t\t\tclearTimeout(this._hoverInfo.timeoutHandle);\n\t\t\t\tif (this._hoverInfo.isHovering) {\n\t\t\t\t\tthis._target.onHoverEnd();\n\t\t\t\t}\n\t\t\t\tthis._hoverInfo = null;\n\t\t\t}\n\t\t}\n\n\t\tprivate _onMouseMoveIdleHandler() {\n\t\t\tlet hoverInfo = this._hoverInfo;\n\t\t\thoverInfo.isHovering = true;\n\t\t\tthis._target.onHoverStart(hoverInfo.pos.x, hoverInfo.pos.y);\n\t\t}\n\n\t\tprivate _getTargetMousePos(event: MouseEvent, target: HTMLElement): Point {\n\t\t\tlet rect = target.getBoundingClientRect();\n\t\t\treturn {\n\t\t\t\tx: event.clientX - rect.left,\n\t\t\t\ty: event.clientY - rect.top\n\t\t\t};\n\t\t}\n\n\t}\n}\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nmodule Shumway.Tools.Profiler {\n\n\texport const enum FlameChartDragTarget {\n\t\tNONE,\n\t\tWINDOW,\n\t\tHANDLE_LEFT,\n\t\tHANDLE_RIGHT,\n\t\tHANDLE_BOTH\n\t}\n\n\texport interface FlameChartDragInfo {\n\t\twindowStartInitial: number;\n\t\twindowEndInitial: number;\n\t\ttarget: FlameChartDragTarget;\n\t}\n\n\texport class FlameChartBase implements MouseControllerTarget {\n\n\t\t_controller: Controller;\n\t\t_mouseController: MouseController;\n\n\t\t_canvas: HTMLCanvasElement;\n\t\t_context: CanvasRenderingContext2D;\n\n\t\t_width: number;\n\t\t_height: number;\n\n\t\t_windowStart: number;\n\t\t_windowEnd: number;\n\t\t_rangeStart: number;\n\t\t_rangeEnd: number;\n\n\t\t_initialized: boolean;\n\n\t\t_dragInfo: FlameChartDragInfo;\n\n\t\tstatic DRAGHANDLE_WIDTH = 4;\n\t\tstatic MIN_WINDOW_LEN = 0.1;\n\n\t\tpreConstructor() {\n\n\t\t}\n\n\t\tconstructor(controller: Controller, ...preArgs: Array<any>) {\n\t\t\tthis.preConstructor.apply(this, preArgs);\n\t\t\tthis._controller = controller;\n\t\t\tthis._initialized = false;\n\t\t\tthis._canvas = document.createElement(\"canvas\");\n\t\t\tthis._context = this._canvas.getContext(\"2d\");\n\t\t\tthis._mouseController = new MouseController(this, this._canvas);\n\t\t\tlet container = controller.container;\n\t\t\tcontainer.appendChild(this._canvas);\n\t\t\tlet rect = container.getBoundingClientRect();\n\t\t\tthis.setSize(rect.width);\n\t\t}\n\n\t\tget canvas(): HTMLCanvasElement {\n\t\t\treturn this._canvas;\n\t\t}\n\n\t\tpublic setSize(width: number, height: number = 20) {\n\t\t\tthis._width = width;\n\t\t\tthis._height = height;\n\t\t\tthis._resetCanvas();\n\t\t\tthis.draw();\n\t\t}\n\n\t\tpublic initialize(rangeStart: number, rangeEnd: number) {\n\t\t\tthis._initialized = true;\n\t\t\tthis.setRange(rangeStart, rangeEnd, false);\n\t\t\tthis.setWindow(rangeStart, rangeEnd, false);\n\t\t\tthis.draw();\n\t\t}\n\n\t\tpublic setWindow(start: number, end: number, draw: boolean = true) {\n\t\t\tthis._windowStart = start;\n\t\t\tthis._windowEnd = end;\n\t\t\t!draw || this.draw();\n\t\t}\n\n\t\tpublic setRange(start: number, end: number, draw: boolean = true) {\n\t\t\tthis._rangeStart = start;\n\t\t\tthis._rangeEnd = end;\n\t\t\t!draw || this.draw();\n\t\t}\n\n\t\tpublic destroy() {\n\t\t\tthis._mouseController.destroy();\n\t\t\tthis._mouseController = null;\n\t\t\tthis._controller.container.removeChild(this._canvas);\n\t\t\tthis._controller = null;\n\t\t}\n\n\t\t_resetCanvas() {\n\t\t\tlet ratio = window.devicePixelRatio;\n\t\t\tlet canvas = this._canvas;\n\t\t\tcanvas.width = this._width * ratio;\n\t\t\tcanvas.height = this._height * ratio;\n\t\t\tcanvas.style.width = this._width + \"px\";\n\t\t\tcanvas.style.height = this._height + \"px\";\n\t\t}\n\n\t\tdraw() {\n\t\t}\n\n\t\t_almostEq(a: number, b: number, precision: number = 10): boolean {\n\t\t\tlet pow10 = Math.pow(10, precision);\n\t\t\treturn Math.abs(a - b) < (1 / pow10);\n\t\t}\n\n\t\t_windowEqRange(): boolean {\n\t\t\treturn (this._almostEq(this._windowStart, this._rangeStart) && this._almostEq(this._windowEnd, this._rangeEnd));\n\t\t}\n\n\t\t_decimalPlaces(value: number): number {\n\t\t\treturn ((+value).toFixed(10)).replace(/^-?\\d*\\.?|0+$/g, '').length;\n\t\t}\n\n\t\t_toPixelsRelative(time: number): number {\n\t\t\treturn 0;\n\t\t}\n\n\t\t_toPixels(time: number): number {\n\t\t\treturn 0;\n\t\t}\n\n\t\t_toTimeRelative(px: number): number {\n\t\t\treturn 0;\n\t\t}\n\n\t\t_toTime(px: number): number {\n\t\t\treturn 0;\n\t\t}\n\n\t\tonMouseWheel(x: number, y: number, delta: number) {\n\t\t\tlet time = this._toTime(x);\n\t\t\tlet windowStart = this._windowStart;\n\t\t\tlet windowEnd = this._windowEnd;\n\t\t\tlet windowLen = windowEnd - windowStart;\n\t\t\t/*\n\t\t\t * Find maximum allowed delta\n\t\t\t * (windowEnd + (windowEnd - time) * delta) - (windowStart + (windowStart - time) * delta) = LEN\n\t\t\t * (windowEnd - windowStart) + ((windowEnd - time) * delta) - ((windowStart - time) * delta) = LEN\n\t\t\t * (windowEnd - windowStart) + ((windowEnd - time) - (windowStart - time)) * delta = LEN\n\t\t\t * (windowEnd - windowStart) + (windowEnd - windowStart) * delta = LEN\n\t\t\t * (windowEnd - windowStart) * delta = LEN - (windowEnd - windowStart)\n\t\t\t * delta = (LEN - (windowEnd - windowStart)) / (windowEnd - windowStart)\n\t\t\t */\n\t\t\tlet maxDelta = Math.max((FlameChartBase.MIN_WINDOW_LEN - windowLen) / windowLen, delta);\n\t\t\tlet start = windowStart + (windowStart - time) * maxDelta;\n\t\t\tlet end = windowEnd + (windowEnd - time) * maxDelta;\n\t\t\tthis._controller.setWindow(start, end);\n\t\t\tthis.onHoverEnd();\n\t\t}\n\n\t\tonMouseDown(x: number, y: number): void {\n\t\t}\n\n\t\tonMouseMove(x: number, y: number): void {\n\t\t}\n\n\t\tonMouseOver(x: number, y: number): void {\n\t\t}\n\n\t\tonMouseOut(): void {\n\t\t}\n\n\t\tonDrag(startX: number, startY: number, currentX: number, currentY: number, deltaX: number, deltaY: number): void {\n\t\t}\n\n\t\tonDragEnd(startX: number, startY: number, currentX: number, currentY: number, deltaX: number, deltaY: number): void {\n\t\t}\n\n\t\tonClick(x: number, y: number): void {\n\t\t}\n\n\t\tonHoverStart(x: number, y: number): void {\n\t\t}\n\n\t\tonHoverEnd(): void {\n\t\t}\n\n\t}\n\n}\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nmodule Shumway.Tools.Profiler {\n\n\timport clamp = NumberUtilities.clamp;\n\timport trimMiddle = StringUtilities.trimMiddle;\n\n\tinterface KindStyle {\n\t\tbgColor: string;\n\t\ttextColor: string;\n\t}\n\n\texport class FlameChart extends FlameChartBase implements MouseControllerTarget {\n\n\t\tprivate _snapshot: TimelineBufferSnapshot;\n\n\t\tprivate _kindStyle: Shumway.MapObject<KindStyle>;\n\t\tprivate _textWidth : MapObject<number> = {};\n\n\t\tprivate _maxDepth: number;\n\t\tprivate _hoveredFrame: TimelineFrame;\n\n\t\t/**\n\t\t * Don't paint frames whose width is smaller than this value. This helps a lot when drawing\n\t\t * large ranges. This can be < 1 since anti-aliasing can look quite nice.\n\t\t */\n\t\tprivate _minFrameWidthInPixels = 1;\n\n\t\tconstructor(controller: Controller, snapshot: TimelineBufferSnapshot) {\n\t\t\tsuper(controller);\n\t\t\tthis._snapshot = snapshot;\n\t\t\tthis._kindStyle = Object.create(null);\n\t\t}\n\n\t\tsetSize(width: number, height?: number) {\n\t\t\tsuper.setSize(width, height || this._initialized ? this._maxDepth * 12.5 : 100);\n\t\t}\n\n\t\tinitialize(rangeStart: number, rangeEnd: number) {\n\t\t\tthis._initialized = true;\n\t\t\tthis._maxDepth = this._snapshot.maxDepth;\n\t\t\tthis.setRange(rangeStart, rangeEnd, false);\n\t\t\tthis.setWindow(rangeStart, rangeEnd, false);\n\t\t\tthis.setSize(this._width, this._maxDepth * 12.5);\n\t\t}\n\n\t\tdestroy() {\n\t\t\tsuper.destroy();\n\t\t\tthis._snapshot = null;\n\t\t}\n\n\t\tdraw() {\n\t\t\tlet context = this._context;\n\t\t\tlet ratio = window.devicePixelRatio;\n\n\t\t\tColorStyle.reset();\n\n\t\t\tcontext.save();\n\t\t\tcontext.scale(ratio, ratio);\n\t\t\tcontext.fillStyle = this._controller.theme.bodyBackground(1);\n\t\t\tcontext.fillRect(0, 0, this._width, this._height);\n\n\t\t\tif (this._initialized) {\n\t\t\t\tthis._drawChildren(this._snapshot);\n\t\t\t}\n\n\t\t\tcontext.restore();\n\t\t}\n\n\t\tprivate _drawChildren(parent: TimelineFrame, depth: number = 0) {\n\t\t\tlet range = parent.getChildRange(this._windowStart, this._windowEnd);\n\t\t\tif (range) {\n\t\t\t\tfor (let i = range.startIndex; i <= range.endIndex; i++) {\n\t\t\t\t\tlet child = parent.children[i];\n\t\t\t\t\tif (this._drawFrame(child, depth)) {\n\t\t\t\t\t\tthis._drawChildren(child, depth + 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprivate _drawFrame(frame: TimelineFrame, depth: number): boolean {\n\t\t\tlet context = this._context;\n\t\t\tlet frameHPadding = 0.5;\n\t\t\tlet left = this._toPixels(frame.startTime);\n\t\t\tlet right = this._toPixels(frame.endTime);\n\t\t\tlet width = right - left;\n\t\t\tif (width <= this._minFrameWidthInPixels) {\n\t\t\t\tcontext.fillStyle = this._controller.theme.tabToolbar(1);\n\t\t\t\tcontext.fillRect(left, depth * (12 + frameHPadding), this._minFrameWidthInPixels, 12 + (frame.maxDepth - frame.depth) * 12.5);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (left < 0) {\n\t\t\t\tright = width + left;\n\t\t\t\tleft = 0;\n\t\t\t}\n\t\t\tlet adjustedWidth = right - left;\n\t\t\tlet style = this._kindStyle[frame.kind.id];\n\t\t\tif (!style) {\n\t\t\t\tlet background = ColorStyle.randomStyle();\n\t\t\t\tstyle = this._kindStyle[frame.kind.id] = {\n\t\t\t\t\tbgColor: background,\n\t\t\t\t\ttextColor: ColorStyle.contrastStyle(background)\n\t\t\t\t};\n\t\t\t}\n\t\t\tcontext.save();\n\t\t\t//if (this._hoveredFrame && this._hoveredFrame.kind !== frame.kind) {\n\t\t\t//  context.globalAlpha = 0.4;\n\t\t\t//}\n\t\t\tcontext.fillStyle = style.bgColor;\n\t\t\tcontext.fillRect(left, depth * (12 + frameHPadding), adjustedWidth, 12);\n\n\t\t\tif (width > 12) {\n\t\t\t\tlet label = frame.kind.name;\n\t\t\t\tif (label && label.length) {\n\t\t\t\t\tlet labelHPadding = 2;\n\t\t\t\t\tlabel = this._prepareText(context, label, adjustedWidth - labelHPadding * 2);\n\t\t\t\t\tif (label.length) {\n\t\t\t\t\t\tcontext.fillStyle = style.textColor;\n\t\t\t\t\t\tcontext.textBaseline = \"bottom\";\n\t\t\t\t\t\tcontext.fillText(label, left + labelHPadding, (depth + 1) * (12 + frameHPadding) - 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tcontext.restore();\n\t\t\treturn true;\n\t\t}\n\n\t\tprivate _prepareText(context: CanvasRenderingContext2D, title: string, maxSize: number): string {\n\t\t\tlet titleWidth = this._measureWidth(context, title);\n\t\t\tif (maxSize > titleWidth) {\n\t\t\t\treturn title;\n\t\t\t}\n\t\t\tlet l = 3;\n\t\t\tlet r = title.length;\n\t\t\twhile (l < r) {\n\t\t\t\tlet m = (l + r) >> 1;\n\t\t\t\tif (this._measureWidth(context, trimMiddle(title, m)) < maxSize) {\n\t\t\t\t\tl = m + 1;\n\t\t\t\t} else {\n\t\t\t\t\tr = m;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttitle = trimMiddle(title, r - 1);\n\t\t\ttitleWidth = this._measureWidth(context, title);\n\t\t\tif (titleWidth <= maxSize) {\n\t\t\t\treturn title;\n\t\t\t}\n\t\t\treturn \"\";\n\t\t}\n\n\t\tprivate _measureWidth(context: CanvasRenderingContext2D, text: string): number {\n\t\t\tlet width = this._textWidth[text];\n\t\t\tif (!width) {\n\t\t\t\twidth = context.measureText(text).width;\n\t\t\t\tthis._textWidth[text] = width;\n\t\t\t}\n\t\t\treturn width;\n\t\t}\n\n\t\t_toPixelsRelative(time: number): number {\n\t\t\treturn time * this._width / (this._windowEnd - this._windowStart);\n\t\t}\n\n\t\t_toPixels(time: number): number {\n\t\t\treturn this._toPixelsRelative(time - this._windowStart);\n\t\t}\n\n\t\t_toTimeRelative(px: number): number {\n\t\t\treturn px * (this._windowEnd - this._windowStart) / this._width;\n\t\t}\n\n\t\t_toTime(px: number): number {\n\t\t\treturn this._toTimeRelative(px) + this._windowStart;\n\t\t}\n\n\t\tprivate _getFrameAtPosition(x: number, y: number): TimelineFrame {\n\t\t\tlet time = this._toTime(x);\n\t\t\tlet depth = 1 + (y / 12.5) | 0;\n\t\t\tlet frame = this._snapshot.query(time);\n\t\t\tif (frame && frame.depth >= depth) {\n\t\t\t\twhile (frame && frame.depth > depth) {\n\t\t\t\t\tframe = frame.parent;\n\t\t\t\t}\n\t\t\t\treturn frame;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tonMouseDown(x: number, y: number) {\n\t\t\tif (!this._windowEqRange()) {\n\t\t\t\tthis._mouseController.updateCursor(MouseCursor.ALL_SCROLL);\n\t\t\t\tthis._dragInfo = <FlameChartDragInfo>{\n\t\t\t\t\twindowStartInitial: this._windowStart,\n\t\t\t\t\twindowEndInitial: this._windowEnd,\n\t\t\t\t\ttarget: FlameChartDragTarget.WINDOW\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tonMouseMove(x: number, y: number) {\n\t\t}\n\n\t\tonMouseOver(x: number, y: number) {\n\t\t}\n\n\t\tonMouseOut() {\n\t\t}\n\n\t\tonDrag(startX: number, startY: number, currentX: number, currentY: number, deltaX: number, deltaY: number) {\n\t\t\tlet dragInfo = this._dragInfo;\n\t\t\tif (dragInfo) {\n\t\t\t\tlet delta = this._toTimeRelative(-deltaX);\n\t\t\t\tlet windowStart = dragInfo.windowStartInitial + delta;\n\t\t\t\tlet windowEnd = dragInfo.windowEndInitial + delta;\n\t\t\t\tthis._controller.setWindow(windowStart, windowEnd);\n\t\t\t}\n\t\t}\n\n\t\tonDragEnd(startX: number, startY: number, currentX: number, currentY: number, deltaX: number, deltaY: number) {\n\t\t\tthis._dragInfo = null;\n\t\t\tthis._mouseController.updateCursor(MouseCursor.DEFAULT);\n\t\t}\n\n\t\tonClick(x: number, y: number) {\n\t\t\tthis._dragInfo = null;\n\t\t\tthis._mouseController.updateCursor(MouseCursor.DEFAULT);\n\t\t}\n\n\t\tonHoverStart(x: number, y: number) {\n\t\t\tlet frame = this._getFrameAtPosition(x, y);\n\t\t\tif (frame) {\n\t\t\t\tthis._hoveredFrame = frame;\n\t\t\t\tthis._controller.showTooltip(this, frame, x, y);\n\t\t\t\t//this._draw();\n\t\t\t}\n\t\t}\n\n\t\tonHoverEnd() {\n\t\t\tif (this._hoveredFrame) {\n\t\t\t\tthis._hoveredFrame = null;\n\t\t\t\tthis._controller.hideTooltip();\n\t\t\t\t//this._draw();\n\t\t\t}\n\t\t}\n\n\t\tgetStatistics(kind: TimelineItemKind): TimelineFrameStatistics {\n\t\t\tlet snapshot = this._snapshot;\n\t\t\tif (!snapshot.statistics) {\n\t\t\t\tsnapshot.calculateStatistics();\n\t\t\t}\n\t\t\treturn snapshot.statistics[kind.id];\n\t\t}\n\t}\n}\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nmodule Shumway.Tools.Profiler {\n\n\timport clamp = NumberUtilities.clamp;\n\n\texport const enum FlameChartOverviewMode {\n\t\tOVERLAY,\n\t\tSTACK,\n\t\tUNION\n\t}\n\n\tinterface Selection {\n\t\tleft: number;\n\t\tright: number;\n\t}\n\n\texport class FlameChartOverview extends FlameChartBase implements MouseControllerTarget {\n\n\t\tprivate _overviewCanvasDirty: boolean;\n\t\tprivate _overviewCanvas: HTMLCanvasElement;\n\t\tprivate _overviewContext: CanvasRenderingContext2D;\n\n\t\tprivate _selection: Selection;\n\t\tprivate _mode: FlameChartOverviewMode;\n\n\t\tconstructor(controller: Controller, mode: FlameChartOverviewMode) {\n\t\t\tsuper(controller, mode);\n\t\t}\n\n\t\tpreConstructor(mode: FlameChartOverviewMode = FlameChartOverviewMode.STACK) {\n\t\t\tthis._mode = mode;\n\t\t\tthis._overviewCanvasDirty = true;\n\t\t\tthis._overviewCanvas = document.createElement(\"canvas\");\n\t\t\tthis._overviewContext = this._overviewCanvas.getContext(\"2d\");\n\t\t}\n\n\t\tsetSize(width: number, height?: number) {\n\t\t\tsuper.setSize(width, height || 64);\n\t\t}\n\n\t\tset mode(value: FlameChartOverviewMode) {\n\t\t\tthis._mode = value;\n\t\t\tthis.draw();\n\t\t}\n\n\t\t_resetCanvas() {\n\t\t\tsuper._resetCanvas();\n\t\t\tthis._overviewCanvas.width = this._canvas.width;\n\t\t\tthis._overviewCanvas.height = this._canvas.height;\n\t\t\tthis._overviewCanvasDirty = true;\n\t\t}\n\n\t\tdraw() {\n\t\t\tlet context = this._context;\n\t\t\tlet ratio = window.devicePixelRatio;\n\t\t\tlet width = this._width;\n\t\t\tlet height = this._height;\n\n\t\t\tcontext.save();\n\t\t\tcontext.scale(ratio, ratio);\n\t\t\tcontext.fillStyle = this._controller.theme.bodyBackground(1); //\"rgba(17, 19, 21, 1)\";\n\t\t\tcontext.fillRect(0, 0, width, height);\n\t\t\tcontext.restore();\n\n\t\t\tif (this._initialized) {\n\t\t\t\tif (this._overviewCanvasDirty) {\n\t\t\t\t\tthis._drawChart();\n\t\t\t\t\tthis._overviewCanvasDirty = false;\n\t\t\t\t}\n\t\t\t\tcontext.drawImage(this._overviewCanvas, 0, 0);\n\t\t\t\tthis._drawSelection();\n\t\t\t}\n\t\t}\n\n\t\tprivate _drawSelection() {\n\t\t\tlet context = this._context;\n\t\t\tlet height = this._height;\n\t\t\tlet ratio = window.devicePixelRatio;\n\t\t\tlet left = this._selection ? this._selection.left : this._toPixels(this._windowStart);\n\t\t\tlet right = this._selection ? this._selection.right : this._toPixels(this._windowEnd);\n\t\t\tlet theme = this._controller.theme;\n\n\t\t\tcontext.save();\n\t\t\tcontext.scale(ratio, ratio);\n\n\t\t\t// Draw fills\n\t\t\tif (this._selection) {\n\t\t\t\tcontext.fillStyle = theme.selectionText(0.15); //\"rgba(245, 247, 250, 0.15)\";\n\t\t\t\tcontext.fillRect(left, 1, right - left, height - 1);\n\t\t\t\tcontext.fillStyle = \"rgba(133, 0, 0, 1)\";\n\t\t\t\tcontext.fillRect(left + 0.5, 0, right - left - 1, 4);\n\t\t\t\tcontext.fillRect(left + 0.5, height - 4, right - left - 1, 4);\n\t\t\t} else {\n\t\t\t\tcontext.fillStyle = theme.bodyBackground(0.4); //\"rgba(17, 19, 21, 0.4)\";\n\t\t\t\tcontext.fillRect(0, 1, left, height - 1);\n\t\t\t\tcontext.fillRect(right, 1, this._width, height - 1);\n\t\t\t}\n\n\t\t\t// Draw border lines\n\t\t\tcontext.beginPath();\n\t\t\tcontext.moveTo(left, 0);\n\t\t\tcontext.lineTo(left, height);\n\t\t\tcontext.moveTo(right, 0);\n\t\t\tcontext.lineTo(right, height);\n\t\t\tcontext.lineWidth = 0.5;\n\t\t\tcontext.strokeStyle = theme.foregroundTextGrey(1); //\"rgba(245, 247, 250, 1)\";\n\t\t\tcontext.stroke();\n\n\t\t\t// Draw info labels\n\t\t\tlet start = this._selection ? this._toTime(this._selection.left) : this._windowStart;\n\t\t\tlet end = this._selection ? this._toTime(this._selection.right) : this._windowEnd;\n\t\t\tlet time = Math.abs(end - start);\n\t\t\tcontext.fillStyle = theme.selectionText(0.5); //\"rgba(255, 255, 255, 0.5)\";\n\t\t\tcontext.font = '8px sans-serif';\n\t\t\tcontext.textBaseline = \"alphabetic\";\n\t\t\tcontext.textAlign = \"end\";\n\t\t\t// Selection Range in MS\n\t\t\tcontext.fillText(time.toFixed(2), Math.min(left, right) - 4, 10);\n\t\t\t// Selection Range in Frames\n\t\t\tcontext.fillText((time / 60).toFixed(2), Math.min(left, right) - 4, 20);\n\t\t\tcontext.restore();\n\t\t}\n\n\t\tprivate _drawChart() {\n\t\t\tlet ratio = window.devicePixelRatio;\n\t\t\tlet width = this._width;\n\t\t\tlet height = this._height;\n\t\t\tlet profile = this._controller.activeProfile;\n\t\t\tlet samplesPerPixel = 4;\n\t\t\tlet samplesCount = width * samplesPerPixel;\n\t\t\tlet sampleTimeInterval = profile.totalTime / samplesCount;\n\t\t\tlet contextOverview = this._overviewContext;\n\t\t\tlet overviewChartColor: string = this._controller.theme.blueHighlight(1);\n\n\t\t\tcontextOverview.save();\n\t\t\tcontextOverview.translate(0, ratio * height);\n\t\t\tlet yScale = -ratio * height / (profile.maxDepth - 1);\n\t\t\tcontextOverview.scale(ratio / samplesPerPixel, yScale);\n\t\t\tcontextOverview.clearRect(0, 0, samplesCount, profile.maxDepth - 1);\n\t\t\tif (this._mode == FlameChartOverviewMode.STACK) {\n\t\t\t\tcontextOverview.scale(1, 1 / profile.snapshotCount);\n\t\t\t}\n\t\t\tfor (let i = 0, n = profile.snapshotCount; i < n; i++) {\n\t\t\t\tlet snapshot = profile.getSnapshotAt(i);\n\t\t\t\tif (snapshot) {\n\t\t\t\t\tlet deepestFrame = null;\n\t\t\t\t\tlet depth = 0;\n\t\t\t\t\tcontextOverview.beginPath();\n\t\t\t\t\tcontextOverview.moveTo(0, 0);\n\t\t\t\t\tlet x;\n\t\t\t\t\tfor (x = 0; x < samplesCount; x++) {\n\t\t\t\t\t\tlet time = profile.startTime + x * sampleTimeInterval;\n\t\t\t\t\t\tif (!deepestFrame) {\n\t\t\t\t\t\t\tdeepestFrame = snapshot.query(time);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdeepestFrame = deepestFrame.queryNext(time);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdepth = deepestFrame ? deepestFrame.getDepth() - 1 : 0;\n\t\t\t\t\t\tcontextOverview.lineTo(x, depth);\n\t\t\t\t\t}\n\t\t\t\t\tcontextOverview.lineTo(x, 0);\n\t\t\t\t\tcontextOverview.fillStyle = overviewChartColor;\n\t\t\t\t\tcontextOverview.fill();\n\t\t\t\t\tif (this._mode == FlameChartOverviewMode.STACK) {\n\t\t\t\t\t\tcontextOverview.translate(0, -height * ratio / yScale);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcontextOverview.restore();\n\t\t}\n\n\t\t_toPixelsRelative(time: number): number {\n\t\t\treturn time * this._width / (this._rangeEnd - this._rangeStart);\n\t\t}\n\n\t\t_toPixels(time: number): number {\n\t\t\treturn this._toPixelsRelative(time - this._rangeStart);\n\t\t}\n\n\t\t_toTimeRelative(px: number): number {\n\t\t\treturn px * (this._rangeEnd - this._rangeStart) / this._width;\n\t\t}\n\n\t\t_toTime(px: number): number {\n\t\t\treturn this._toTimeRelative(px) + this._rangeStart;\n\t\t}\n\n\t\tprivate _getDragTargetUnderCursor(x: number, y: number): FlameChartDragTarget {\n\t\t\tif (y >= 0 && y < this._height) {\n\t\t\t\tlet left = this._toPixels(this._windowStart);\n\t\t\t\tlet right = this._toPixels(this._windowEnd);\n\t\t\t\tlet radius = 2 + (FlameChartBase.DRAGHANDLE_WIDTH) / 2;\n\t\t\t\tlet leftHandle = (x >= left - radius && x <= left + radius);\n\t\t\t\tlet rightHandle = (x >= right - radius && x <= right + radius);\n\t\t\t\tif (leftHandle && rightHandle) {\n\t\t\t\t\treturn FlameChartDragTarget.HANDLE_BOTH;\n\t\t\t\t} else if (leftHandle) {\n\t\t\t\t\treturn FlameChartDragTarget.HANDLE_LEFT;\n\t\t\t\t} else if (rightHandle) {\n\t\t\t\t\treturn FlameChartDragTarget.HANDLE_RIGHT;\n\t\t\t\t} else if (!this._windowEqRange() && x > left + radius && x < right - radius) {\n\t\t\t\t\treturn FlameChartDragTarget.WINDOW;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn FlameChartDragTarget.NONE;\n\t\t}\n\n\t\tonMouseDown(x: number, y: number) {\n\t\t\tlet dragTarget = this._getDragTargetUnderCursor(x, y);\n\t\t\tif (dragTarget === FlameChartDragTarget.NONE) {\n\t\t\t\tthis._selection = {left: x, right: x};\n\t\t\t\tthis.draw();\n\t\t\t} else {\n\t\t\t\tif (dragTarget === FlameChartDragTarget.WINDOW) {\n\t\t\t\t\tthis._mouseController.updateCursor(MouseCursor.GRABBING);\n\t\t\t\t}\n\t\t\t\tthis._dragInfo = <FlameChartDragInfo>{\n\t\t\t\t\twindowStartInitial: this._windowStart,\n\t\t\t\t\twindowEndInitial: this._windowEnd,\n\t\t\t\t\ttarget: dragTarget\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tonMouseMove(x: number, y: number) {\n\t\t\tlet cursor = MouseCursor.DEFAULT;\n\t\t\tlet dragTarget = this._getDragTargetUnderCursor(x, y);\n\t\t\tif (dragTarget !== FlameChartDragTarget.NONE && !this._selection) {\n\t\t\t\tcursor = (dragTarget === FlameChartDragTarget.WINDOW) ? MouseCursor.GRAB : MouseCursor.EW_RESIZE;\n\t\t\t}\n\t\t\tthis._mouseController.updateCursor(cursor);\n\t\t}\n\n\t\tonMouseOver(x: number, y: number) {\n\t\t\tthis.onMouseMove(x, y);\n\t\t}\n\n\t\tonMouseOut() {\n\t\t\tthis._mouseController.updateCursor(MouseCursor.DEFAULT);\n\t\t}\n\n\t\tonDrag(startX: number, startY: number, currentX: number, currentY: number, deltaX: number, deltaY: number) {\n\t\t\tif (this._selection) {\n\t\t\t\tthis._selection = {left: startX, right: clamp(currentX, 0, this._width - 1)};\n\t\t\t\tthis.draw();\n\t\t\t} else {\n\t\t\t\tlet dragInfo = this._dragInfo;\n\t\t\t\tif (dragInfo.target === FlameChartDragTarget.HANDLE_BOTH) {\n\t\t\t\t\tif (deltaX !== 0) {\n\t\t\t\t\t\tdragInfo.target = (deltaX < 0) ? FlameChartDragTarget.HANDLE_LEFT : FlameChartDragTarget.HANDLE_RIGHT;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlet windowStart = this._windowStart;\n\t\t\t\tlet windowEnd = this._windowEnd;\n\t\t\t\tlet delta = this._toTimeRelative(deltaX);\n\t\t\t\tswitch (dragInfo.target) {\n\t\t\t\t\tcase FlameChartDragTarget.WINDOW:\n\t\t\t\t\t\twindowStart = dragInfo.windowStartInitial + delta;\n\t\t\t\t\t\twindowEnd = dragInfo.windowEndInitial + delta;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase FlameChartDragTarget.HANDLE_LEFT:\n\t\t\t\t\t\twindowStart = clamp(dragInfo.windowStartInitial + delta, this._rangeStart, windowEnd - FlameChartBase.MIN_WINDOW_LEN);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase FlameChartDragTarget.HANDLE_RIGHT:\n\t\t\t\t\t\twindowEnd = clamp(dragInfo.windowEndInitial + delta, windowStart + FlameChartBase.MIN_WINDOW_LEN, this._rangeEnd);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._controller.setWindow(windowStart, windowEnd);\n\t\t\t}\n\t\t}\n\n\t\tonDragEnd(startX: number, startY: number, currentX: number, currentY: number, deltaX: number, deltaY: number) {\n\t\t\tif (this._selection) {\n\t\t\t\tthis._selection = null;\n\t\t\t\tthis._controller.setWindow(this._toTime(startX), this._toTime(currentX));\n\t\t\t}\n\t\t\tthis._dragInfo = null;\n\t\t\tthis.onMouseMove(currentX, currentY);\n\t\t}\n\n\t\tonClick(x: number, y: number) {\n\t\t\tthis._dragInfo = null;\n\t\t\tthis._selection = null;\n\t\t\tif (!this._windowEqRange()) {\n\t\t\t\tlet dragTarget = this._getDragTargetUnderCursor(x, y);\n\t\t\t\tif (dragTarget === FlameChartDragTarget.NONE) {\n\t\t\t\t\tthis._controller.moveWindowTo(this._toTime(x));\n\t\t\t\t}\n\t\t\t\tthis.onMouseMove(x, y);\n\t\t\t}\n\t\t\tthis.draw();\n\t\t}\n\n\t\tonHoverStart(x: number, y: number) {\n\t\t}\n\n\t\tonHoverEnd() {\n\t\t}\n\n\t}\n}\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nmodule Shumway.Tools.Profiler {\n\timport clamp = NumberUtilities.clamp;\n\n\texport const enum FlameChartHeaderType {\n\t\tOVERVIEW,\n\t\tCHART\n\t}\n\n\texport class FlameChartHeader extends FlameChartBase implements MouseControllerTarget {\n\n\t\tprivate _type: FlameChartHeaderType;\n\n\t\tprivate static TICK_MAX_WIDTH = 75;\n\n\t\tconstructor(controller: Controller, type: FlameChartHeaderType) {\n\t\t\tsuper(controller, type);\n\t\t}\n\n\t\tpreConstructor(type: FlameChartHeaderType = null) {\n\t\t\tthis._type = type;\n\t\t}\n\n\t\tdraw() {\n\t\t\tlet context = this._context;\n\t\t\tlet ratio = window.devicePixelRatio;\n\t\t\tlet width = this._width;\n\t\t\tlet height = this._height;\n\n\t\t\tcontext.save();\n\t\t\tcontext.scale(ratio, ratio);\n\t\t\tcontext.fillStyle = this._controller.theme.tabToolbar(1); //\"#252c33\";\n\t\t\tcontext.fillRect(0, 0, width, height);\n\n\t\t\tif (this._initialized) {\n\t\t\t\tif (this._type == FlameChartHeaderType.OVERVIEW) {\n\t\t\t\t\tlet left = this._toPixels(this._windowStart);\n\t\t\t\t\tlet right = this._toPixels(this._windowEnd);\n\t\t\t\t\tcontext.fillStyle = this._controller.theme.bodyBackground(1); //\"#14171a\";\n\t\t\t\t\tcontext.fillRect(left, 0, right - left, height);\n\t\t\t\t\tthis._drawLabels(this._rangeStart, this._rangeEnd);\n\t\t\t\t\tthis._drawDragHandle(left);\n\t\t\t\t\tthis._drawDragHandle(right);\n\t\t\t\t} else {\n\t\t\t\t\tthis._drawLabels(this._windowStart, this._windowEnd);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcontext.restore();\n\t\t}\n\n\t\tprivate _drawLabels(rangeStart: number, rangeEnd: number) {\n\t\t\tlet context = this._context;\n\t\t\tlet tickInterval = this._calculateTickInterval(rangeStart, rangeEnd);\n\t\t\tlet tick = Math.ceil(rangeStart / tickInterval) * tickInterval;\n\t\t\tlet showSeconds = (tickInterval >= 500);\n\t\t\tlet divisor = showSeconds ? 1000 : 1;\n\t\t\tlet precision = this._decimalPlaces(tickInterval / divisor);\n\t\t\tlet unit = showSeconds ? \"s\" : \"ms\";\n\t\t\tlet x = this._toPixels(tick);\n\t\t\tlet y = this._height / 2;\n\t\t\tlet theme = this._controller.theme;\n\t\t\tcontext.lineWidth = 1;\n\t\t\tcontext.strokeStyle = theme.contentTextDarkGrey(0.5); //\"rgba(95, 115, 135, 0.5)\";\n\t\t\tcontext.fillStyle = theme.contentTextDarkGrey(1); //\"rgba(95, 115, 135, 1)\";\n\t\t\tcontext.textAlign = \"right\";\n\t\t\tcontext.textBaseline = \"middle\";\n\t\t\tcontext.font = '11px sans-serif';\n\t\t\tlet maxWidth = this._width + FlameChartHeader.TICK_MAX_WIDTH;\n\t\t\twhile (x < maxWidth) {\n\t\t\t\tlet tickStr = (tick / divisor).toFixed(precision) + \" \" + unit;\n\t\t\t\tcontext.fillText(tickStr, x - 7, y + 1);\n\t\t\t\tcontext.beginPath();\n\t\t\t\tcontext.moveTo(x, 0);\n\t\t\t\tcontext.lineTo(x, this._height + 1);\n\t\t\t\tcontext.closePath();\n\t\t\t\tcontext.stroke();\n\t\t\t\ttick += tickInterval;\n\t\t\t\tx = this._toPixels(tick);\n\t\t\t}\n\t\t}\n\n\t\tprivate _calculateTickInterval(rangeStart: number, rangeEnd: number) {\n\t\t\t// http://stackoverflow.com/a/361687\n\t\t\tlet tickCount = this._width / FlameChartHeader.TICK_MAX_WIDTH;\n\t\t\tlet range = rangeEnd - rangeStart;\n\t\t\tlet minimum = range / tickCount;\n\t\t\tlet magnitude = Math.pow(10, Math.floor(Math.log(minimum) / Math.LN10));\n\t\t\tlet residual = minimum / magnitude;\n\t\t\tif (residual > 5) {\n\t\t\t\treturn 10 * magnitude;\n\t\t\t} else if (residual > 2) {\n\t\t\t\treturn 5 * magnitude;\n\t\t\t} else if (residual > 1) {\n\t\t\t\treturn 2 * magnitude;\n\t\t\t}\n\t\t\treturn magnitude;\n\t\t}\n\n\t\tprivate _drawDragHandle(pos: number) {\n\t\t\tlet context = this._context;\n\t\t\tcontext.lineWidth = 2;\n\t\t\tcontext.strokeStyle = this._controller.theme.bodyBackground(1); //\"#14171a\";\n\t\t\tcontext.fillStyle = this._controller.theme.foregroundTextGrey(0.7); //\"rgba(182, 186, 191, 0.7)\";\n\t\t\tthis._drawRoundedRect(context, pos - FlameChartBase.DRAGHANDLE_WIDTH / 2, 1, FlameChartBase.DRAGHANDLE_WIDTH, this._height - 2, 2, true);\n\t\t}\n\n\t\tprivate _drawRoundedRect(context: CanvasRenderingContext2D, x: number, y: number, width: number, height: number, radius: number, stroke: boolean = true, fill: boolean = true) {\n\t\t\tcontext.beginPath();\n\t\t\tcontext.moveTo(x + radius, y);\n\t\t\tcontext.lineTo(x + width - radius, y);\n\t\t\tcontext.quadraticCurveTo(x + width, y, x + width, y + radius);\n\t\t\tcontext.lineTo(x + width, y + height - radius);\n\t\t\tcontext.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n\t\t\tcontext.lineTo(x + radius, y + height);\n\t\t\tcontext.quadraticCurveTo(x, y + height, x, y + height - radius);\n\t\t\tcontext.lineTo(x, y + radius);\n\t\t\tcontext.quadraticCurveTo(x, y, x + radius, y);\n\t\t\tcontext.closePath();\n\t\t\tif (stroke) {\n\t\t\t\tcontext.stroke();\n\t\t\t}\n\t\t\tif (fill) {\n\t\t\t\tcontext.fill();\n\t\t\t}\n\t\t}\n\n\t\t_toPixelsRelative(time: number): number {\n\t\t\tlet range = (this._type === FlameChartHeaderType.OVERVIEW)\n\t\t\t\t? this._rangeEnd - this._rangeStart\n\t\t\t\t: this._windowEnd - this._windowStart;\n\t\t\treturn time * this._width / range;\n\t\t}\n\n\t\t_toPixels(time: number): number {\n\t\t\tlet start = (this._type === FlameChartHeaderType.OVERVIEW) ? this._rangeStart : this._windowStart;\n\t\t\treturn this._toPixelsRelative(time - start);\n\t\t}\n\n\t\t_toTimeRelative(px: number): number {\n\t\t\tlet range = (this._type === FlameChartHeaderType.OVERVIEW)\n\t\t\t\t? this._rangeEnd - this._rangeStart\n\t\t\t\t: this._windowEnd - this._windowStart;\n\t\t\treturn px * range / this._width;\n\t\t}\n\n\t\t_toTime(px: number): number {\n\t\t\tlet start = (this._type === FlameChartHeaderType.OVERVIEW) ? this._rangeStart : this._windowStart;\n\t\t\treturn this._toTimeRelative(px) + start;\n\t\t}\n\n\t\tprivate _getDragTargetUnderCursor(x: number, y: number): FlameChartDragTarget {\n\t\t\tif (y >= 0 && y < this._height) {\n\t\t\t\tif (this._type === FlameChartHeaderType.OVERVIEW) {\n\t\t\t\t\tlet left = this._toPixels(this._windowStart);\n\t\t\t\t\tlet right = this._toPixels(this._windowEnd);\n\t\t\t\t\tlet radius = 2 + (FlameChartBase.DRAGHANDLE_WIDTH) / 2;\n\t\t\t\t\tlet leftHandle = (x >= left - radius && x <= left + radius);\n\t\t\t\t\tlet rightHandle = (x >= right - radius && x <= right + radius);\n\t\t\t\t\tif (leftHandle && rightHandle) {\n\t\t\t\t\t\treturn FlameChartDragTarget.HANDLE_BOTH;\n\t\t\t\t\t} else if (leftHandle) {\n\t\t\t\t\t\treturn FlameChartDragTarget.HANDLE_LEFT;\n\t\t\t\t\t} else if (rightHandle) {\n\t\t\t\t\t\treturn FlameChartDragTarget.HANDLE_RIGHT;\n\t\t\t\t\t} else if (!this._windowEqRange()) {\n\t\t\t\t\t\treturn FlameChartDragTarget.WINDOW;\n\t\t\t\t\t}\n\t\t\t\t} else if (!this._windowEqRange()) {\n\t\t\t\t\treturn FlameChartDragTarget.WINDOW;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn FlameChartDragTarget.NONE;\n\t\t}\n\n\t\tonMouseDown(x: number, y: number) {\n\t\t\tlet dragTarget = this._getDragTargetUnderCursor(x, y);\n\t\t\tif (dragTarget === FlameChartDragTarget.WINDOW) {\n\t\t\t\tthis._mouseController.updateCursor(MouseCursor.GRABBING);\n\t\t\t}\n\t\t\tthis._dragInfo = <FlameChartDragInfo>{\n\t\t\t\twindowStartInitial: this._windowStart,\n\t\t\t\twindowEndInitial: this._windowEnd,\n\t\t\t\ttarget: dragTarget\n\t\t\t};\n\t\t}\n\n\t\tonMouseMove(x: number, y: number) {\n\t\t\tlet cursor = MouseCursor.DEFAULT;\n\t\t\tlet dragTarget = this._getDragTargetUnderCursor(x, y);\n\t\t\tif (dragTarget !== FlameChartDragTarget.NONE) {\n\t\t\t\tif (dragTarget !== FlameChartDragTarget.WINDOW) {\n\t\t\t\t\tcursor = MouseCursor.EW_RESIZE;\n\t\t\t\t} else if (dragTarget === FlameChartDragTarget.WINDOW && !this._windowEqRange()) {\n\t\t\t\t\tcursor = MouseCursor.GRAB;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._mouseController.updateCursor(cursor);\n\t\t}\n\n\t\tonMouseOver(x: number, y: number) {\n\t\t\tthis.onMouseMove(x, y);\n\t\t}\n\n\t\tonMouseOut() {\n\t\t\tthis._mouseController.updateCursor(MouseCursor.DEFAULT);\n\t\t}\n\n\t\tonDrag(startX: number, startY: number, currentX: number, currentY: number, deltaX: number, deltaY: number) {\n\t\t\tlet dragInfo = this._dragInfo;\n\t\t\tif (dragInfo.target === FlameChartDragTarget.HANDLE_BOTH) {\n\t\t\t\tif (deltaX !== 0) {\n\t\t\t\t\tdragInfo.target = (deltaX < 0) ? FlameChartDragTarget.HANDLE_LEFT : FlameChartDragTarget.HANDLE_RIGHT;\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet windowStart = this._windowStart;\n\t\t\tlet windowEnd = this._windowEnd;\n\t\t\tlet delta = this._toTimeRelative(deltaX);\n\t\t\tswitch (dragInfo.target) {\n\t\t\t\tcase FlameChartDragTarget.WINDOW:\n\t\t\t\t\tlet mult = (this._type === FlameChartHeaderType.OVERVIEW) ? 1 : -1;\n\t\t\t\t\twindowStart = dragInfo.windowStartInitial + mult * delta;\n\t\t\t\t\twindowEnd = dragInfo.windowEndInitial + mult * delta;\n\t\t\t\t\tbreak;\n\t\t\t\tcase FlameChartDragTarget.HANDLE_LEFT:\n\t\t\t\t\twindowStart = clamp(dragInfo.windowStartInitial + delta, this._rangeStart, windowEnd - FlameChartBase.MIN_WINDOW_LEN);\n\t\t\t\t\tbreak;\n\t\t\t\tcase FlameChartDragTarget.HANDLE_RIGHT:\n\t\t\t\t\twindowEnd = clamp(dragInfo.windowEndInitial + delta, windowStart + FlameChartBase.MIN_WINDOW_LEN, this._rangeEnd);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._controller.setWindow(windowStart, windowEnd);\n\t\t}\n\n\t\tonDragEnd(startX: number, startY: number, currentX: number, currentY: number, deltaX: number, deltaY: number) {\n\t\t\tthis._dragInfo = null;\n\t\t\tthis.onMouseMove(currentX, currentY);\n\t\t}\n\n\t\tonClick(x: number, y: number) {\n\t\t\tif (this._dragInfo.target === FlameChartDragTarget.WINDOW) {\n\t\t\t\tthis._mouseController.updateCursor(MouseCursor.GRAB);\n\t\t\t}\n\t\t}\n\n\t\tonHoverStart(x: number, y: number) {\n\t\t}\n\n\t\tonHoverEnd() {\n\t\t}\n\n\t}\n\n}\n\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nmodule Shumway.Tools.Profiler.TraceLogger {\n\n\texport class TraceLoggerProgressInfo {\n\t\tconstructor(public pageLoaded: boolean,\n\t\t            public threadsTotal: number,\n\t\t            public threadsLoaded: number,\n\t\t            public threadFilesTotal: number,\n\t\t            public threadFilesLoaded: number) {\n\t\t}\n\n\t\ttoString(): string {\n\t\t\treturn \"[\" + [\"pageLoaded\", \"threadsTotal\", \"threadsLoaded\", \"threadFilesTotal\", \"threadFilesLoaded\"].map(function (value, i, arr) {\n\t\t\t\treturn value + \":\" + this[value];\n\t\t\t}, this).join(\", \") + \"]\";\n\t\t}\n\t}\n\n\texport class TraceLogger {\n\n\t\tprivate _baseUrl: string;\n\t\tprivate _threads: Thread [];\n\t\tprivate _pageLoadCallback: (err: any, result: any []) => void;\n\t\tprivate _pageLoadProgressCallback: (info: TraceLoggerProgressInfo) => void;\n\t\tprivate _progressInfo: TraceLoggerProgressInfo;\n\n\t\tconstructor(baseUrl: string) {\n\t\t\tthis._baseUrl = baseUrl;\n\t\t\tthis._threads = [];\n\t\t\tthis._progressInfo = null;\n\t\t}\n\n\t\tloadPage(url: string, callback: (err: any, result: any []) => void, progress?: (info: TraceLoggerProgressInfo) => void) {\n\t\t\tthis._threads = [];\n\t\t\tthis._pageLoadCallback = callback;\n\t\t\tthis._pageLoadProgressCallback = progress;\n\t\t\tthis._progressInfo = new TraceLoggerProgressInfo(false, 0, 0, 0, 0);\n\t\t\tthis._loadData([url], this._onLoadPage.bind(this));\n\t\t}\n\n\t\tget buffers(): TimelineBuffer [] {\n\t\t\tlet buffers = [];\n\t\t\tfor (let i = 0, n = this._threads.length; i < n; i++) {\n\t\t\t\tbuffers.push(this._threads[i].buffer);\n\t\t\t}\n\t\t\treturn buffers;\n\t\t}\n\n\t\tprivate _onProgress() {\n\t\t\tif (this._pageLoadProgressCallback) {\n\t\t\t\tthis._pageLoadProgressCallback.call(this, this._progressInfo);\n\t\t\t}\n\t\t}\n\n\t\tprivate _onLoadPage(result: any []) {\n\t\t\tif (result && result.length == 1) {\n\t\t\t\tlet self = this;\n\t\t\t\tlet count = 0;\n\t\t\t\tlet threads = result[0];\n\t\t\t\tlet threadCount = threads.length;\n\t\t\t\tthis._threads = Array(threadCount);\n\t\t\t\tthis._progressInfo.pageLoaded = true;\n\t\t\t\tthis._progressInfo.threadsTotal = threadCount;\n\t\t\t\tfor (let i = 0; i < threads.length; i++) {\n\t\t\t\t\tlet thread = threads[i];\n\t\t\t\t\tlet urls = [thread.dict, thread.tree];\n\t\t\t\t\tif (thread.corrections) {\n\t\t\t\t\t\turls.push(thread.corrections);\n\t\t\t\t\t}\n\t\t\t\t\tthis._progressInfo.threadFilesTotal += urls.length;\n\t\t\t\t\tthis._loadData(\n\t\t\t\t\t\turls,\n\t\t\t\t\t\t(function (index: number) {\n\t\t\t\t\t\t\treturn function (result: any []): any {\n\t\t\t\t\t\t\t\tif (result) {\n\t\t\t\t\t\t\t\t\tlet thread = new Thread(result);\n\t\t\t\t\t\t\t\t\tthread.buffer.name = \"Thread \" + index;\n\t\t\t\t\t\t\t\t\tself._threads[index] = thread;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t\tself._progressInfo.threadsLoaded++;\n\t\t\t\t\t\t\t\tself._onProgress();\n\t\t\t\t\t\t\t\tif (count === threadCount) {\n\t\t\t\t\t\t\t\t\tself._pageLoadCallback.call(self, null, self._threads);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t})(i),\n\t\t\t\t\t\tfunction (count) {\n\t\t\t\t\t\t\tself._progressInfo.threadFilesLoaded++;\n\t\t\t\t\t\t\tself._onProgress();\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tthis._onProgress();\n\t\t\t} else {\n\t\t\t\tthis._pageLoadCallback.call(this, \"Error loading page.\", null);\n\t\t\t}\n\t\t}\n\n\t\tprivate _loadData(urls: string [], callback: (result: any []) => void, progress?: (count: number) => void) {\n\t\t\tlet count = 0;\n\t\t\tlet errors = 0;\n\t\t\tlet expected = urls.length;\n\t\t\tlet received: Array<any> = [];\n\t\t\treceived.length = expected;\n\t\t\tfor (let i = 0; i < expected; i++) {\n\t\t\t\tlet url = this._baseUrl + urls[i];\n\t\t\t\tlet isTL = /\\.tl$/i.test(url);\n\t\t\t\tlet xhr = new XMLHttpRequest();\n\t\t\t\tlet responseType: XMLHttpRequestResponseType = isTL ? \"arraybuffer\" : \"json\";\n\t\t\t\txhr.open('GET', url, true);\n\t\t\t\txhr.responseType = responseType;\n\t\t\t\txhr.onload = (function (index: number, type: string) {\n\t\t\t\t\treturn function (event: Event): any {\n\t\t\t\t\t\tif (type === \"json\") {\n\t\t\t\t\t\t\tlet json = this.response;\n\t\t\t\t\t\t\tif (typeof json === \"string\") {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tjson = JSON.parse(json);\n\t\t\t\t\t\t\t\t\treceived[index] = json;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\t\t\t\terrors++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treceived[index] = json;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treceived[index] = this.response;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t++count;\n\t\t\t\t\t\tif (progress) {\n\t\t\t\t\t\t\tprogress(count);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (count === expected) {\n\t\t\t\t\t\t\tcallback(received);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t})(i, responseType);\n\t\t\t\txhr.send();\n\t\t\t}\n\t\t}\n\n\t\tprivate static colors = [\n\t\t\t\"#0044ff\", \"#8c4b00\", \"#cc5c33\", \"#ff80c4\", \"#ffbfd9\", \"#ff8800\", \"#8c5e00\", \"#adcc33\", \"#b380ff\", \"#bfd9ff\",\n\t\t\t\"#ffaa00\", \"#8c0038\", \"#bf8f30\", \"#f780ff\", \"#cc99c9\", \"#aaff00\", \"#000073\", \"#452699\", \"#cc8166\", \"#cca799\",\n\t\t\t\"#000066\", \"#992626\", \"#cc6666\", \"#ccc299\", \"#ff6600\", \"#526600\", \"#992663\", \"#cc6681\", \"#99ccc2\", \"#ff0066\",\n\t\t\t\"#520066\", \"#269973\", \"#61994d\", \"#739699\", \"#ffcc00\", \"#006629\", \"#269199\", \"#94994d\", \"#738299\", \"#ff0000\",\n\t\t\t\"#590000\", \"#234d8c\", \"#8c6246\", \"#7d7399\", \"#ee00ff\", \"#00474d\", \"#8c2385\", \"#8c7546\", \"#7c8c69\", \"#eeff00\",\n\t\t\t\"#4d003d\", \"#662e1a\", \"#62468c\", \"#8c6969\", \"#6600ff\", \"#4c2900\", \"#1a6657\", \"#8c464f\", \"#8c6981\", \"#44ff00\",\n\t\t\t\"#401100\", \"#1a2466\", \"#663355\", \"#567365\", \"#d90074\", \"#403300\", \"#101d40\", \"#59562d\", \"#66614d\", \"#cc0000\",\n\t\t\t\"#002b40\", \"#234010\", \"#4c2626\", \"#4d5e66\", \"#00a3cc\", \"#400011\", \"#231040\", \"#4c3626\", \"#464359\", \"#0000bf\",\n\t\t\t\"#331b00\", \"#80e6ff\", \"#311a33\", \"#4d3939\", \"#a69b00\", \"#003329\", \"#80ffb2\", \"#331a20\", \"#40303d\", \"#00a658\",\n\t\t\t\"#40ffd9\", \"#ffc480\", \"#ffe1bf\", \"#332b26\", \"#8c2500\", \"#9933cc\", \"#80fff6\", \"#ffbfbf\", \"#303326\", \"#005e8c\",\n\t\t\t\"#33cc47\", \"#b2ff80\", \"#c8bfff\", \"#263332\", \"#00708c\", \"#cc33ad\", \"#ffe680\", \"#f2ffbf\", \"#262a33\", \"#388c00\",\n\t\t\t\"#335ccc\", \"#8091ff\", \"#bfffd9\"\n\t\t];\n\n\t\t/*\n\t\tstatic TextToColor(text: string): number {\n\n\t\tthis.map = []\n\n\t\tlet usedColors = 0;\n\t\tfor(let i=0; i<textmap.length; i++) {\n\t\t  let color = \"\";\n\t\t  switch(textmap[i]) {\n\t\t\tcase \"IonCompilation\": color = \"green\"; break;\n\t\t\tcase \"IonLinking\": color = \"green\"; break;\n\t\t\tcase \"YarrCompile\": color = \"#BE8CFF\"; break;\n\t\t\tcase \"YarrJIT\": color = \"#BE8CFF\"; break;\n\t\t\tcase \"YarrInterpreter\": color = \"#BE8CFF\"; break;\n\t\t\tcase \"MinorGC\": color = \"#CCCCCC\"; break;\n\t\t\tcase \"GC\": color = \"#666666\"; break;\n\t\t\tcase \"GCSweeping\": color = \"#666666\"; break;\n\t\t\tcase \"GCAllocation\": color = \"#666666\"; break;\n\t\t\tcase \"Interpreter\": color = \"#FFFFFF\"; break;\n\t\t\tcase \"Baseline\": color = \"#FFE75E\"; break;\n\t\t\tcase \"IonMonkey\": color = \"#54D93D\"; break;\n\t\t\tcase \"ParserCompileScript\": color = \"#DB0000\"; break;\n\t\t\tcase \"ParserCompileLazy\": color = \"#A30000\"; break;\n\t\t\tcase \"ParserCompileFunction\": color = \"#CC8585\"; break;\n\t\t\tcase \"VM\": color = \"#00aaff\"; break;\n\t\t\tdefault:\n\t\t\t  if (textmap[i].substring(0,6) == \"script\")\n\t\t\t\tcolor = \"white\";\n\t\t\t  else\n\t\t\t\tcolor = colors[usedColors++];\n\t\t\t  break;\n\t\t  }\n\t\t  this.map[textmap[i]] = color;\n\t\t}\n\t\t}*/\n\n\t}\n\n}\n\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nmodule Shumway.Tools.Profiler.TraceLogger {\n\n\texport interface TreeItem {\n\t\tstart: number;\n\t\tstop: number;\n\t\ttextId: number;\n\t\tnextId: number;\n\t\thasChildren: boolean;\n\t}\n\n\tenum Offsets {\n\t\tSTART_HI = 0,\n\t\tSTART_LO = 4,\n\t\tSTOP_HI = 8,\n\t\tSTOP_LO = 12,\n\t\tTEXTID = 16,\n\t\tNEXTID = 20\n\t}\n\n\texport class Thread {\n\n\t\tprivate _data: DataView;\n\t\tprivate _text: Shumway.MapObject<string>;\n\t\tprivate _buffer: TimelineBuffer;\n\n\t\tprivate static ITEM_SIZE = 8 + 8 + 4 + 4;\n\n\t\tconstructor(data: any []) {\n\t\t\tif (data.length >= 2) {\n\t\t\t\tthis._text = data[0];\n\t\t\t\tthis._data = new DataView(data[1]);\n\t\t\t\tthis._buffer = new TimelineBuffer();\n\t\t\t\tthis._walkTree(0);\n\t\t\t}\n\t\t}\n\n\t\tget buffer(): TimelineBuffer {\n\t\t\treturn this._buffer;\n\t\t}\n\n\t\tprivate _walkTree(id: number) {\n\t\t\tlet data = this._data;\n\t\t\tlet buffer = this._buffer;\n\t\t\tdo {\n\t\t\t\tlet index = id * Thread.ITEM_SIZE;\n\t\t\t\tlet start = data.getUint32(index + Offsets.START_HI, false) * 4294967295 + data.getUint32(index + Offsets.START_LO, false);\n\t\t\t\tlet stop = data.getUint32(index + Offsets.STOP_HI, false) * 4294967295 + data.getUint32(index + Offsets.STOP_LO, false);\n\t\t\t\tlet textId = data.getUint32(index + Offsets.TEXTID, false);\n\t\t\t\tlet nextId = data.getUint32(index + Offsets.NEXTID, false);\n\t\t\t\tlet hasChildren = ((textId & 1) === 1);\n\t\t\t\ttextId >>>= 1;\n\t\t\t\tlet text = this._text[textId];\n\t\t\t\tbuffer.enter(text, null, start / 1000000);\n\t\t\t\tif (hasChildren) {\n\t\t\t\t\tthis._walkTree(id + 1);\n\t\t\t\t}\n\t\t\t\tbuffer.leave(text, null, stop / 1000000);\n\t\t\t\tid = nextId;\n\t\t\t} while (id !== 0);\n\t\t}\n\n\t}\n}\n","/// <reference path='../references.ts' />\n/// <reference path='profile.ts' />\n/// <reference path='timelineFrame.ts' />\n/// <reference path='timelineBuffer.ts' />\n/// <reference path='controller.ts' />\n/// <reference path='mouseController.ts' />\n/// <reference path='flameChartBase.ts' />\n/// <reference path='flameChart.ts' />\n/// <reference path='flameChartOverview.ts' />\n/// <reference path='flameChartHeader.ts' />\n/// <reference path='tracelogger/traceLogger.ts' />\n/// <reference path='tracelogger/thread.ts' />\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nmodule Shumway.Tools.Terminal {\n\n\timport clamp = NumberUtilities.clamp;\n\timport trimMiddle = StringUtilities.trimMiddle;\n\n\texport class Buffer {\n\t\tlines: string [];\n\t\tformat: any [];\n\t\ttime: number [];\n\t\trepeat: number [];\n\t\tlength = 0;\n\n\t\tconstructor() {\n\t\t\tthis.lines = [];\n\t\t\tthis.format = [];\n\t\t\tthis.time = [];\n\t\t\tthis.repeat = [];\n\t\t\tthis.length = 0;\n\t\t}\n\n\t\tappend(line: string, color: string) {\n\t\t\tlet lines = this.lines;\n\t\t\tif (lines.length > 0 && lines[lines.length - 1] === line) {\n\t\t\t\tthis.repeat[lines.length - 1]++;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.lines.push(line);\n\t\t\tthis.repeat.push(1);\n\t\t\tthis.format.push(color ? {backgroundFillStyle: color} : undefined);\n\t\t\tthis.time.push(performance.now());\n\t\t\tthis.length++;\n\t\t}\n\n\t\tget(i: number) {\n\t\t\treturn this.lines[i];\n\t\t}\n\n\t\tgetFormat(i: number) {\n\t\t\treturn this.format[i];\n\t\t}\n\n\t\tgetTime(i: number) {\n\t\t\treturn this.time[i];\n\t\t}\n\n\t\tgetRepeat(i: number) {\n\t\t\treturn this.repeat[i];\n\t\t}\n\t}\n\n\t/**\n\t * If you're going to write a lot of data to the browser console you're gonna have a bad time. This may make your\n\t * life a little more pleasant.\n\t */\n\texport class Terminal {\n\t\tlineColor = \"#2A2A2A\";\n\t\talternateLineColor = \"#262626\";\n\t\ttextColor = \"#FFFFFF\";\n\t\tselectionColor = \"#96C9F3\";\n\t\tselectionTextColor = \"#000000\";\n\t\tratio: number = 1;\n\t\tcanvas: HTMLCanvasElement;\n\t\tcontext: CanvasRenderingContext2D;\n\t\tfontSize: number;\n\t\tlineIndex: number;\n\t\tpageIndex: number;\n\t\tcolumnIndex: number;\n\t\tselection: any;\n\t\tlineHeight: number;\n\t\thasFocus: boolean;\n\t\tpageLineCount: number;\n\t\trefreshFrequency: number;\n\t\ttextMarginLeft: number;\n\t\ttextMarginBottom: number;\n\t\tbuffer: Buffer;\n\t\tshowLineNumbers = true;\n\t\tshowLineTime = false;\n\t\tshowLineCounter = false;\n\n\t\tconstructor(canvas: HTMLCanvasElement) {\n\t\t\tthis.canvas = canvas;\n\t\t\tthis.canvas.focus();\n\t\t\tthis.context = <any>canvas.getContext('2d', {original: true});\n\t\t\tthis.context.fillStyle = \"#FFFFFF\";\n\t\t\tthis.fontSize = 10;\n\t\t\tthis.lineIndex = 0;\n\t\t\tthis.pageIndex = 0;\n\t\t\tthis.columnIndex = 0;\n\t\t\tthis.selection = null;\n\t\t\tthis.lineHeight = 15;\n\t\t\tthis.hasFocus = false;\n\n\t\t\twindow.addEventListener('resize', this._resizeHandler.bind(this), false);\n\t\t\tthis._resizeHandler();\n\n\t\t\tthis.textMarginLeft = 4;\n\t\t\tthis.textMarginBottom = 4;\n\t\t\tthis.refreshFrequency = 0;\n\n\t\t\tthis.buffer = new Buffer();\n\n\t\t\tcanvas.addEventListener('keydown', onKeyDown.bind(this), false);\n\t\t\tcanvas.addEventListener('focus', onFocusIn.bind(this), false);\n\t\t\tcanvas.addEventListener('blur', onFocusOut.bind(this), false);\n\n\t\t\tlet PAGE_UP = 33;\n\t\t\tlet PAGE_DOWN = 34;\n\t\t\tlet HOME = 36;\n\t\t\tlet END = 35;\n\t\t\tlet UP = 38;\n\t\t\tlet DOWN = 40;\n\t\t\tlet LEFT = 37;\n\t\t\tlet RIGHT = 39;\n\t\t\tlet KEY_A = 65;\n\t\t\tlet KEY_C = 67;\n\t\t\tlet KEY_F = 70;\n\t\t\tlet ESCAPE = 27;\n\t\t\tlet KEY_N = 78;\n\t\t\tlet KEY_T = 84;\n\t\t\tlet KEY_H = 72;\n\t\t\tlet KEY_S = 83;\n\n\t\t\tfunction onFocusIn(event: any) {\n\t\t\t\tthis.hasFocus = true;\n\t\t\t}\n\n\t\t\tfunction onFocusOut(event: any) {\n\t\t\t\tthis.hasFocus = false;\n\t\t\t}\n\n\t\t\tfunction onKeyDown(event: KeyboardEvent) {\n\t\t\t\tlet delta = 0;\n\t\t\t\tswitch (event.keyCode) {\n\t\t\t\t\tcase KEY_H:\n\t\t\t\t\t\tthis.printHelp();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase KEY_N:\n\t\t\t\t\t\tthis.showLineNumbers = !this.showLineNumbers;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase KEY_T:\n\t\t\t\t\t\tthis.showLineTime = !this.showLineTime;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase UP:\n\t\t\t\t\t\tdelta = -1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase DOWN:\n\t\t\t\t\t\tdelta = +1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase PAGE_UP:\n\t\t\t\t\t\tdelta = -this.pageLineCount;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase PAGE_DOWN:\n\t\t\t\t\t\tdelta = this.pageLineCount;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase HOME:\n\t\t\t\t\t\tdelta = -this.lineIndex;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase END:\n\t\t\t\t\t\tdelta = this.buffer.length - this.lineIndex;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase LEFT:\n\t\t\t\t\t\tthis.columnIndex -= event.metaKey ? 10 : 1;\n\t\t\t\t\t\tif (this.columnIndex < 0) {\n\t\t\t\t\t\t\tthis.columnIndex = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase RIGHT:\n\t\t\t\t\t\tthis.columnIndex += event.metaKey ? 10 : 1;\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase KEY_A:\n\t\t\t\t\t\tif (event.metaKey || event.ctrlKey) {\n\t\t\t\t\t\t\tthis.selection = {start: 0, end: this.buffer.length - 1};\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase KEY_C:\n\t\t\t\t\tcase KEY_S:\n\t\t\t\t\t\tif (event.metaKey || event.ctrlKey) {\n\t\t\t\t\t\t\tlet str = \"\";\n\t\t\t\t\t\t\tif (this.selection) {\n\t\t\t\t\t\t\t\tfor (let i = this.selection.start; i <= this.selection.end; i++) {\n\t\t\t\t\t\t\t\t\tstr += this.buffer.get(i) + \"\\n\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tstr = this.buffer.get(this.lineIndex);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (event.keyCode === KEY_C) {\n\t\t\t\t\t\t\t\talert(str);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twindow.open(URL.createObjectURL(\n\t\t\t\t\t\t\t\t\tnew Blob([str], {type: 'text/plain'})), '_blank');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (event.metaKey) {\n\t\t\t\t\tdelta *= this.pageLineCount;\n\t\t\t\t}\n\t\t\t\tif (delta) {\n\t\t\t\t\tthis.scroll(delta);\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t\tif (delta && event.shiftKey) {\n\t\t\t\t\tif (!this.selection) {\n\t\t\t\t\t\tif (delta > 0) {\n\t\t\t\t\t\t\tthis.selection = {start: this.lineIndex - delta, end: this.lineIndex};\n\t\t\t\t\t\t} else if (delta < 0) {\n\t\t\t\t\t\t\tthis.selection = {start: this.lineIndex, end: this.lineIndex - delta};\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (this.lineIndex > this.selection.start) {\n\t\t\t\t\t\t\tthis.selection.end = this.lineIndex;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.selection.start = this.lineIndex;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (delta) {\n\t\t\t\t\tthis.selection = null;\n\t\t\t\t}\n\t\t\t\tthis.paint();\n\t\t\t}\n\t\t}\n\n\t\tpublic printHelp(): void {\n\t\t\tlet lines = [\n\t\t\t\t'h - help',\n\t\t\t\t'n - turn on/off line numbers',\n\t\t\t\t't - turn on/off line time',\n\t\t\t\t'arrow_keys - navigation',\n\t\t\t\t'cmd/ctrl+a - select all',\n\t\t\t\t'cmd/ctrl+c - copy/alert selection',\n\t\t\t\t'cmd/ctrl+s - open selection in new tab',\n\t\t\t\t'shift+arrow_keys - selection'\n\t\t\t];\n\t\t\tlines.forEach((l) => this.buffer.append(l, '#002000'));\n\t\t}\n\n\t\tpublic resize() {\n\t\t\tthis._resizeHandler();\n\t\t}\n\n\t\tprivate _resizeHandler() {\n\t\t\tlet parent = this.canvas.parentElement;\n\t\t\tlet cw = parent.clientWidth;\n\t\t\tlet ch = parent.clientHeight && (parent.clientHeight - 1);\n\n\t\t\tlet devicePixelRatio = window.devicePixelRatio || 1;\n\t\t\tlet backingStoreRatio = 1;\n\t\t\tif (devicePixelRatio !== backingStoreRatio) {\n\t\t\t\tthis.ratio = devicePixelRatio / backingStoreRatio;\n\t\t\t\tthis.canvas.width = cw * this.ratio;\n\t\t\t\tthis.canvas.height = ch * this.ratio;\n\t\t\t\tthis.canvas.style.width = cw + 'px';\n\t\t\t\tthis.canvas.style.height = ch + 'px';\n\t\t\t} else {\n\t\t\t\tthis.ratio = 1;\n\t\t\t\tthis.canvas.width = cw;\n\t\t\t\tthis.canvas.height = ch;\n\t\t\t}\n\t\t\tthis.pageLineCount = Math.floor(this.canvas.height / this.lineHeight);\n\t\t}\n\n\t\tgotoLine(index: number) {\n\t\t\tthis.lineIndex = clamp(index, 0, this.buffer.length - 1);\n\t\t}\n\n\t\tscrollIntoView() {\n\t\t\tif (this.lineIndex < this.pageIndex) {\n\t\t\t\tthis.pageIndex = this.lineIndex;\n\t\t\t} else if (this.lineIndex >= this.pageIndex + this.pageLineCount) {\n\t\t\t\tthis.pageIndex = this.lineIndex - this.pageLineCount + 1;\n\t\t\t}\n\t\t}\n\n\t\tscroll(delta: number) {\n\t\t\tthis.gotoLine(this.lineIndex + delta);\n\t\t\tthis.scrollIntoView();\n\t\t}\n\n\t\tpaint() {\n\t\t\tlet lineCount = this.pageLineCount;\n\t\t\tif (this.pageIndex + lineCount > this.buffer.length) {\n\t\t\t\tlineCount = this.buffer.length - this.pageIndex;\n\t\t\t}\n\n\t\t\tlet charSize = 5;\n\t\t\tlet lineNumberMargin = this.textMarginLeft;\n\t\t\tlet lineTimeMargin = lineNumberMargin + (this.showLineNumbers ? (String(this.buffer.length).length + 2) * charSize : 0);\n\t\t\tlet lineRepeatMargin = lineTimeMargin + (this.showLineTime ? charSize * 8 : 2 * charSize);\n\t\t\tlet lineMargin = lineRepeatMargin + charSize * 5;\n\t\t\tthis.context.font = this.fontSize + 'px Consolas, \"Liberation Mono\", Courier, monospace';\n\t\t\tthis.context.setTransform(this.ratio, 0, 0, this.ratio, 0, 0);\n\n\t\t\tlet w = this.canvas.width;\n\t\t\tlet h = this.lineHeight;\n\n\t\t\tfor (let i = 0; i < lineCount; i++) {\n\t\t\t\tlet y = i * this.lineHeight;\n\t\t\t\tlet lineIndex = this.pageIndex + i;\n\t\t\t\tlet line = this.buffer.get(lineIndex);\n\t\t\t\tlet lineFormat = this.buffer.getFormat(lineIndex);\n\t\t\t\tlet lineRepeat = this.buffer.getRepeat(lineIndex);\n\t\t\t\t// let lineTimeDelta = lineIndex > 1 ? this.buffer.getTime(lineIndex) - this.buffer.getTime(lineIndex - 1) : 0;\n\t\t\t\tlet lineTimeDelta = lineIndex > 1 ? this.buffer.getTime(lineIndex) - this.buffer.getTime(0) : 0;\n\n\t\t\t\tthis.context.fillStyle = lineIndex % 2 ? this.lineColor : this.alternateLineColor;\n\t\t\t\tif (lineFormat && lineFormat.backgroundFillStyle) {\n\t\t\t\t\tthis.context.fillStyle = lineFormat.backgroundFillStyle;\n\t\t\t\t}\n\t\t\t\tthis.context.fillRect(0, y, w, h);\n\t\t\t\tthis.context.fillStyle = this.selectionTextColor;\n\t\t\t\tthis.context.fillStyle = this.textColor;\n\n\t\t\t\tif (this.selection && lineIndex >= this.selection.start && lineIndex <= this.selection.end) {\n\t\t\t\t\tthis.context.fillStyle = this.selectionColor;\n\t\t\t\t\tthis.context.fillRect(0, y, w, h);\n\t\t\t\t\tthis.context.fillStyle = this.selectionTextColor;\n\t\t\t\t}\n\t\t\t\tif (this.hasFocus && lineIndex === this.lineIndex) {\n\t\t\t\t\tthis.context.fillStyle = this.selectionColor;\n\t\t\t\t\tthis.context.fillRect(0, y, w, h);\n\t\t\t\t\tthis.context.fillStyle = this.selectionTextColor;\n\t\t\t\t}\n\t\t\t\tif (this.columnIndex > 0) {\n\t\t\t\t\tline = line.substring(this.columnIndex);\n\t\t\t\t}\n\t\t\t\tlet marginTop = (i + 1) * this.lineHeight - this.textMarginBottom;\n\t\t\t\tif (this.showLineNumbers) {\n\t\t\t\t\tthis.context.fillText(String(lineIndex), lineNumberMargin, marginTop);\n\t\t\t\t}\n\t\t\t\tif (this.showLineTime) {\n\t\t\t\t\tthis.context.fillText(lineTimeDelta.toFixed(1).padLeft(' ', 6), lineTimeMargin, marginTop);\n\t\t\t\t}\n\t\t\t\tif (lineRepeat > 1) {\n\t\t\t\t\tthis.context.fillText(String(lineRepeat).padLeft(' ', 3), lineRepeatMargin, marginTop);\n\t\t\t\t}\n\t\t\t\tthis.context.fillText(line, lineMargin, marginTop);\n\t\t\t}\n\t\t}\n\n\t\trefreshEvery(ms: number) {\n\t\t\tlet that = this;\n\t\t\tthis.refreshFrequency = ms;\n\n\t\t\tfunction refresh() {\n\t\t\t\tthat.paint();\n\t\t\t\tif (that.refreshFrequency) {\n\t\t\t\t\tsetTimeout(refresh, that.refreshFrequency);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (that.refreshFrequency) {\n\t\t\t\tsetTimeout(refresh, that.refreshFrequency);\n\t\t\t}\n\t\t}\n\n\t\tisScrolledToBottom() {\n\t\t\treturn this.lineIndex === this.buffer.length - 1;\n\t\t}\n\t}\n}\n","/// <reference path='../references.ts' />\n/// <reference path='terminal.ts' />\n\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nmodule Shumway.Tools.Mini {\n\texport class FPS {\n\t\tprivate _container: HTMLDivElement;\n\t\tprivate _canvas: HTMLCanvasElement;\n\t\tprivate _context: CanvasRenderingContext2D;\n\t\tprivate _ratio: number;\n\n\t\tprivate _index = 0;\n\t\tprivate _lastTime: number = 0;\n\t\tprivate _lastWeightedTime = 0;\n\n\t\tprivate _gradient = [\n\t\t\t\"#FF0000\",  // Red\n\t\t\t\"#FF1100\",\n\t\t\t\"#FF2300\",\n\t\t\t\"#FF3400\",\n\t\t\t\"#FF4600\",\n\t\t\t\"#FF5700\",\n\t\t\t\"#FF6900\",\n\t\t\t\"#FF7B00\",\n\t\t\t\"#FF8C00\",\n\t\t\t\"#FF9E00\",\n\t\t\t\"#FFAF00\",\n\t\t\t\"#FFC100\",\n\t\t\t\"#FFD300\",\n\t\t\t\"#FFE400\",\n\t\t\t\"#FFF600\",\n\t\t\t\"#F7FF00\",\n\t\t\t\"#E5FF00\",\n\t\t\t\"#D4FF00\",\n\t\t\t\"#C2FF00\",\n\t\t\t\"#B0FF00\",\n\t\t\t\"#9FFF00\",\n\t\t\t\"#8DFF00\",\n\t\t\t\"#7CFF00\",\n\t\t\t\"#6AFF00\",\n\t\t\t\"#58FF00\",\n\t\t\t\"#47FF00\",\n\t\t\t\"#35FF00\",\n\t\t\t\"#24FF00\",\n\t\t\t\"#12FF00\",\n\t\t\t\"#00FF00\"   // Green\n\t\t];\n\n\t\tconstructor(container: HTMLDivElement) {\n\t\t\tthis._container = container;\n\t\t\tthis._canvas = document.createElement(\"canvas\");\n\t\t\tthis._container.appendChild(this._canvas);\n\t\t\tthis._context = this._canvas.getContext(\"2d\");\n\t\t\tthis._listenForContainerSizeChanges();\n\t\t}\n\n\t\tprivate _listenForContainerSizeChanges() {\n\t\t\tlet pollInterval = 10;\n\t\t\tlet w = this._containerWidth;\n\t\t\tlet h = this._containerHeight;\n\t\t\tthis._onContainerSizeChanged();\n\t\t\tlet self = this;\n\t\t\tsetInterval(function () {\n\t\t\t\tif (w !== self._containerWidth || h !== self._containerHeight) {\n\t\t\t\t\tself._onContainerSizeChanged();\n\t\t\t\t\tw = self._containerWidth;\n\t\t\t\t\th = self._containerHeight;\n\t\t\t\t}\n\t\t\t}, pollInterval);\n\t\t}\n\n\t\tprivate _onContainerSizeChanged() {\n\t\t\tlet cw = this._containerWidth;\n\t\t\tlet ch = this._containerHeight;\n\t\t\tlet devicePixelRatio = window.devicePixelRatio || 1;\n\t\t\tlet backingStoreRatio = 1;\n\t\t\tif (devicePixelRatio !== backingStoreRatio) {\n\t\t\t\tthis._ratio = devicePixelRatio / backingStoreRatio;\n\t\t\t\tthis._canvas.width = cw * this._ratio;\n\t\t\t\tthis._canvas.height = ch * this._ratio;\n\t\t\t\tthis._canvas.style.width = cw + 'px';\n\t\t\t\tthis._canvas.style.height = ch + 'px';\n\t\t\t} else {\n\t\t\t\tthis._ratio = 1;\n\t\t\t\tthis._canvas.width = cw;\n\t\t\t\tthis._canvas.height = ch;\n\t\t\t}\n\t\t}\n\n\t\tprivate get _containerWidth(): number {\n\t\t\treturn this._container.clientWidth;\n\t\t}\n\n\t\tprivate get _containerHeight(): number {\n\t\t\treturn this._container.clientHeight;\n\t\t}\n\n\t\tpublic tickAndRender(idle: boolean = false, renderTime: number = 0) {\n\t\t\tif (this._lastTime === 0) {\n\t\t\t\tthis._lastTime = performance.now();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet elapsedTime = performance.now() - this._lastTime;\n\t\t\tlet weightRatio = 0; // Use ratio here if you want smoothing.\n\t\t\tlet weightedTime = elapsedTime * (1 - weightRatio) + this._lastWeightedTime * weightRatio;\n\n\t\t\tlet context = this._context;\n\t\t\tlet w = 2 * this._ratio;\n\t\t\tlet wPadding = 1;\n\t\t\tlet fontSize = 8;\n\t\t\tlet tickOffset = this._ratio * 30;\n\t\t\tlet webkitPerformance: any = performance;\n\t\t\tif (webkitPerformance.memory) {\n\t\t\t\ttickOffset += this._ratio * 30;\n\t\t\t}\n\n\t\t\tlet count = ((this._canvas.width - tickOffset) / (w + wPadding)) | 0;\n\n\t\t\tlet index = this._index++;\n\t\t\tif (this._index > count) {\n\t\t\t\tthis._index = 0;\n\t\t\t}\n\n\t\t\tlet canvasHeight = this._canvas.height;\n\t\t\tcontext.globalAlpha = 1;\n\t\t\tcontext.fillStyle = \"black\";\n\t\t\tcontext.fillRect(tickOffset + index * (w + wPadding), 0, w * 4, this._canvas.height);\n\n\t\t\tlet r = Math.min((1000 / 60) / weightedTime, 1);\n\t\t\tcontext.fillStyle = \"#00FF00\"; // this._gradient[r * (this._gradient.length - 1) | 0];\n\t\t\tcontext.globalAlpha = idle ? 0.5 : 1;\n\t\t\tlet v = canvasHeight / 2 * r | 0;\n\t\t\tcontext.fillRect(tickOffset + index * (w + wPadding), canvasHeight - v, w, v);\n\n\t\t\tif (renderTime) {\n\t\t\t\tr = Math.min((1000 / 240) / renderTime, 1);\n\t\t\t\tcontext.fillStyle = \"#FF6347\"; // \"#58FF00\"; // \"#00FF00\"; // this._gradient[r * (this._gradient.length - 1) | 0];\n\t\t\t\tlet v = canvasHeight / 2 * r | 0;\n\t\t\t\tcontext.fillRect(tickOffset + index * (w + wPadding), (canvasHeight / 2) - v, w, v);\n\t\t\t}\n\n\t\t\tif (index % 16 === 0) {\n\t\t\t\tcontext.globalAlpha = 1;\n\t\t\t\tcontext.fillStyle = \"black\";\n\t\t\t\tcontext.fillRect(0, 0, tickOffset, this._canvas.height);\n\t\t\t\tcontext.fillStyle = \"white\";\n\t\t\t\tcontext.font = (this._ratio * fontSize) + \"px Arial\";\n\t\t\t\tcontext.textBaseline = \"middle\";\n\t\t\t\tlet s = (1000 / weightedTime).toFixed(0);\n\t\t\t\tif (renderTime) {\n\t\t\t\t\ts += \" \" + renderTime.toFixed(0);\n\t\t\t\t}\n\t\t\t\tif (webkitPerformance.memory) {\n\t\t\t\t\ts += \" \" + (webkitPerformance.memory.usedJSHeapSize / 1024 / 1024).toFixed(2);\n\t\t\t\t}\n\t\t\t\tcontext.fillText(s, 2 * this._ratio, this._containerHeight / 2 * this._ratio);\n\t\t\t}\n\n\t\t\tthis._lastTime = performance.now();\n\t\t\tthis._lastWeightedTime = weightedTime;\n\t\t}\n\t}\n}","\n/// <reference path='../references.ts' />\n/// <reference path='fps.ts' />\n\n","\n/// <reference path='../../build/ts/base.d.ts' />\n/// <reference path='theme/ui.ts' />\n/// <reference path='profiler/references.ts' />\n/// <reference path='terminal/references.ts' />\n/// <reference path='mini/references.ts' />\n"]}