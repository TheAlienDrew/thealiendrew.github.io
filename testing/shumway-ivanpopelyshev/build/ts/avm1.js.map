{"version":3,"file":"avm1.js","sourceRoot":"","sources":["../../src/avm1/settings.ts","../../src/avm1/stream.ts","../../src/avm1/parser.ts","../../src/avm1/analyze.ts","../../src/avm1/runtime.ts","../../src/avm1/natives.ts","../../src/avm1/context.ts","../../src/avm1/interpreter.ts","../../src/avm1/baseline.ts","../../src/avm1/lib/AVM1Utils.ts","../../src/avm1/lib/AVM1Globals.ts","../../src/avm1/lib/AVM1Broadcaster.ts","../../src/avm1/lib/AVM1Key.ts","../../src/avm1/lib/AVM1Mouse.ts","../../src/avm1/lib/AVM1Stage.ts","../../src/avm1/lib/AVM1MovieClip.ts","../../src/avm1/lib/AVM1Button.ts","../../src/avm1/lib/AVM1TextField.ts","../../src/avm1/lib/AVM1Color.ts","../../src/avm1/lib/AVM1ColorTransform.ts","../../src/avm1/lib/AVM1Matrix.ts","../../src/avm1/lib/AVM1Point.ts","../../src/avm1/lib/AVM1Rectangle.ts","../../src/avm1/lib/AVM1Transform.ts","../../src/avm1/lib/AVM1TextFormat.ts","../../src/avm1/lib/AVM1BitmapData.ts","../../src/avm1/lib/AVM1ExternalInterface.ts","../../src/avm1/lib/AVM1Sound.ts","../../src/avm1/lib/AVM1System.ts","../../src/avm1/lib/AVM1SharedObject.ts","../../src/avm1/lib/AVM1MovieClipLoader.ts","../../src/avm1/lib/AVM1Filters.ts","../../src/avm1/lib/AVM1LoadVars.ts","../../src/avm1/lib/AVM1XML.ts","../../src/avm1/references.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nmodule Shumway.AVM1 {\n\timport Option = Shumway.Options.Option;\n\timport OptionSet = Shumway.Options.OptionSet;\n\n\timport shumwayOptions = Shumway.Settings.shumwayOptions;\n\n\tlet avm1Options = shumwayOptions.register(new OptionSet(\"AVM1\"));\n\texport let avm1TraceEnabled = avm1Options.register(new Option(\"t1\", \"traceAvm1\", \"boolean\", false, \"trace AVM1 execution\"));\n\texport let avm1ErrorsEnabled = avm1Options.register(new Option(\"e1\", \"errorsAvm1\", \"boolean\", false, \"fail on AVM1 warnings and errors\"));\n\texport let avm1WarningsEnabled = avm1Options.register(new Option(\"w1\", \"warningsAvm1\", \"boolean\", false, \"Emit messages for AVM1 warnings and errors\"));\n\texport let avm1TimeoutDisabled = avm1Options.register(new Option(\"ha1\", \"nohangAvm1\", \"boolean\", false, \"disable fail on AVM1 hang\"));\n\texport let avm1CompilerEnabled = avm1Options.register(new Option(\"ca1\", \"compileAvm1\", \"boolean\", true, \"compiles AVM1 code\"));\n\texport let avm1DebuggerEnabled = avm1Options.register(new Option(\"da1\", \"debugAvm1\", \"boolean\", false, \"allows AVM1 code debugging\"));\n\texport let avm1WellknownActionsCompilationsEnabled = avm1Options.register(new Option(\"cw1\", \"wellknownAvm1\", \"boolean\", true, \"Replaces well-known actions patterns instead of compilation\"));\n}\n","/*\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nmodule Shumway.AVM1 {\n\texport class ActionsDataStream {\n\t\tprivate array: Uint8Array;\n\t\tpublic position: number;\n\t\tpublic end: number;\n\t\tprivate readANSI: boolean;\n\n\t\tconstructor(array: Uint8Array, swfVersion: any) {\n\t\t\tthis.array = array;\n\t\t\tthis.position = 0;\n\t\t\tthis.end = array.length;\n\n\t\t\t// TODO use system locale to determine if the shift-JIS\n\t\t\t// decoding is necessary\n\t\t\tthis.readANSI = swfVersion < 6;\n\n\t\t\t// endianess sanity check\n\t\t\tlet buffer = new ArrayBuffer(4);\n\t\t\t(new Int32Array(buffer))[0] = 1;\n\t\t\tif (!(new Uint8Array(buffer))[0]) {\n\t\t\t\tthrow new Error(\"big-endian platform\");\n\t\t\t}\n\t\t}\n\n\t\treadUI8(): number {\n\t\t\treturn this.array[this.position++];\n\t\t}\n\n\t\treadUI16(): number {\n\t\t\tlet position = this.position, array = this.array;\n\t\t\tlet value = (array[position + 1] << 8) | array[position];\n\t\t\tthis.position = position + 2;\n\t\t\treturn value;\n\t\t}\n\n\t\treadSI16(): number {\n\t\t\tlet position = this.position, array = this.array;\n\t\t\tlet value = (array[position + 1] << 8) | array[position];\n\t\t\tthis.position = position + 2;\n\t\t\treturn value < 0x8000 ? value : (value - 0x10000);\n\t\t}\n\n\t\treadInteger(): number {\n\t\t\tlet position = this.position, array = this.array;\n\t\t\tlet value = array[position] | (array[position + 1] << 8) |\n\t\t\t\t(array[position + 2] << 16) | (array[position + 3] << 24);\n\t\t\tthis.position = position + 4;\n\t\t\treturn value;\n\t\t}\n\n\t\treadFloat(): number {\n\t\t\tlet position = this.position;\n\t\t\tlet array = this.array;\n\t\t\tlet buffer = new ArrayBuffer(4);\n\t\t\tlet bytes = new Uint8Array(buffer);\n\t\t\tbytes[0] = array[position];\n\t\t\tbytes[1] = array[position + 1];\n\t\t\tbytes[2] = array[position + 2];\n\t\t\tbytes[3] = array[position + 3];\n\t\t\tthis.position = position + 4;\n\t\t\treturn (new Float32Array(buffer))[0];\n\t\t}\n\n\t\treadDouble(): number {\n\t\t\tlet position = this.position;\n\t\t\tlet array = this.array;\n\t\t\tlet buffer = new ArrayBuffer(8);\n\t\t\tlet bytes = new Uint8Array(buffer);\n\t\t\tbytes[4] = array[position];\n\t\t\tbytes[5] = array[position + 1];\n\t\t\tbytes[6] = array[position + 2];\n\t\t\tbytes[7] = array[position + 3];\n\t\t\tbytes[0] = array[position + 4];\n\t\t\tbytes[1] = array[position + 5];\n\t\t\tbytes[2] = array[position + 6];\n\t\t\tbytes[3] = array[position + 7];\n\t\t\tthis.position = position + 8;\n\t\t\treturn (new Float64Array(buffer))[0];\n\t\t}\n\n\t\treadBoolean(): boolean {\n\t\t\treturn !!this.readUI8();\n\t\t}\n\n\t\treadANSIString(): string {\n\t\t\tlet value = '';\n\t\t\tlet ch;\n\t\t\twhile ((ch = this.readUI8())) {\n\t\t\t\tvalue += String.fromCharCode(ch);\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\n\t\treadUTF8String(): string {\n\t\t\tlet value = '';\n\t\t\tlet ch;\n\t\t\twhile ((ch = this.readUI8())) {\n\t\t\t\tif (ch < 0x80) {\n\t\t\t\t\tvalue += String.fromCharCode(ch);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif ((ch & 0xC0) === 0x80) {\n\t\t\t\t\t// Invalid UTF8 encoding: initial char -- using it as is\n\t\t\t\t\tvalue += String.fromCharCode(ch);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tlet lastPosition = this.position - 1; // in case if we need to recover\n\t\t\t\tlet currentPrefix = 0xC0;\n\t\t\t\tlet validBits = 5;\n\t\t\t\tdo {\n\t\t\t\t\tlet mask = (currentPrefix >> 1) | 0x80;\n\t\t\t\t\tif ((ch & mask) === currentPrefix) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcurrentPrefix = mask;\n\t\t\t\t\t--validBits;\n\t\t\t\t} while (validBits >= 0);\n\n\t\t\t\tlet code = (ch & ((1 << validBits) - 1));\n\t\t\t\tfor (let i = 5; i >= validBits; --i) {\n\t\t\t\t\tch = this.readUI8();\n\t\t\t\t\tif ((ch & 0xC0) !== 0x80) {\n\t\t\t\t\t\t// Invalid UTF8 encoding: bad chars in the tail, using previous chars as is\n\t\t\t\t\t\tlet skipToPosition = this.position - 1;\n\t\t\t\t\t\tthis.position = lastPosition;\n\t\t\t\t\t\twhile (this.position < skipToPosition) {\n\t\t\t\t\t\t\tvalue += String.fromCharCode(this.readUI8());\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tcode = (code << 6) | (ch & 0x3F);\n\t\t\t\t}\n\n\t\t\t\tif (code >= 0x10000) {\n\t\t\t\t\tvalue += String.fromCharCode((((code - 0x10000) >> 10) & 0x3FF) |\n\t\t\t\t\t\t0xD800, (code & 0x3FF) | 0xDC00);\n\t\t\t\t} else {\n\t\t\t\t\tvalue += String.fromCharCode(code);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\n\t\treadString(): string {\n\t\t\treturn this.readANSI ? this.readANSIString() : this.readUTF8String();\n\t\t}\n\n\t\treadBytes(length: number): Uint8Array {\n\t\t\tlet position = this.position;\n\t\t\tlet remaining = Math.max(this.end - position, 0);\n\t\t\tif (remaining < length) {\n\t\t\t\tlength = remaining;\n\t\t\t}\n\t\t\tlet subarray = this.array.subarray(position, position + length);\n\t\t\tthis.position = position + length;\n\t\t\treturn subarray;\n\t\t}\n\t}\n}\n\n","/*\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule Shumway.AVM1 {\n\timport ActionsDataStream = Shumway.AVM1.ActionsDataStream;\n\n\texport const enum ActionCode {\n\t\tNone = 0x00,\n\t\tActionGotoFrame = 0x81,\n\t\tActionGetURL = 0x83,\n\t\tActionNextFrame = 0x04,\n\t\tActionPreviousFrame = 0x05,\n\t\tActionPlay = 0x06,\n\t\tActionStop = 0x07,\n\t\tActionToggleQuality = 0x08,\n\t\tActionStopSounds = 0x09,\n\t\tActionWaitForFrame = 0x8A,\n\t\tActionSetTarget = 0x8B,\n\t\tActionGoToLabel = 0x8C,\n\t\tActionPush = 0x96,\n\t\tActionPop = 0x17,\n\t\tActionAdd = 0x0A,\n\t\tActionSubtract = 0x0B,\n\t\tActionMultiply = 0x0C,\n\t\tActionDivide = 0x0D,\n\t\tActionEquals = 0x0E,\n\t\tActionLess = 0x0F,\n\t\tActionAnd = 0x10,\n\t\tActionOr = 0x11,\n\t\tActionNot = 0x12,\n\t\tActionStringEquals = 0x13,\n\t\tActionStringLength = 0x14,\n\t\tActionMBStringLength = 0x31,\n\t\tActionStringAdd = 0x21,\n\t\tActionStringExtract = 0x15,\n\t\tActionMBStringExtract = 0x35,\n\t\tActionStringLess = 0x29,\n\t\tActionToInteger = 0x18,\n\t\tActionCharToAscii = 0x32,\n\t\tActionMBCharToAscii = 0x36,\n\t\tActionAsciiToChar = 0x33,\n\t\tActionMBAsciiToChar = 0x37,\n\t\tActionJump = 0x99,\n\t\tActionIf = 0x9D,\n\t\tActionCall = 0x9E,\n\t\tActionGetVariable = 0x1C,\n\t\tActionSetVariable = 0x1D,\n\t\tActionGetURL2 = 0x9A,\n\t\tActionGotoFrame2 = 0x9F,\n\t\tActionSetTarget2 = 0x20,\n\t\tActionGetProperty = 0x22,\n\t\tActionSetProperty = 0x23,\n\t\tActionCloneSprite = 0x24,\n\t\tActionRemoveSprite = 0x25,\n\t\tActionStartDrag = 0x27,\n\t\tActionEndDrag = 0x28,\n\t\tActionWaitForFrame2 = 0x8D,\n\t\tActionTrace = 0x26,\n\t\tActionGetTime = 0x34,\n\t\tActionRandomNumber = 0x30,\n\t\tActionCallFunction = 0x3D,\n\t\tActionCallMethod = 0x52,\n\t\tActionConstantPool = 0x88,\n\t\tActionDefineFunction = 0x9B,\n\t\tActionDefineLocal = 0x3C,\n\t\tActionDefineLocal2 = 0x41,\n\t\tActionDelete = 0x3A,\n\t\tActionDelete2 = 0x3B,\n\t\tActionEnumerate = 0x46,\n\t\tActionEquals2 = 0x49,\n\t\tActionGetMember = 0x4E,\n\t\tActionInitArray = 0x42,\n\t\tActionInitObject = 0x43,\n\t\tActionNewMethod = 0x53,\n\t\tActionNewObject = 0x40,\n\t\tActionSetMember = 0x4F,\n\t\tActionTargetPath = 0x45,\n\t\tActionWith = 0x94,\n\t\tActionToNumber = 0x4A,\n\t\tActionToString = 0x4B,\n\t\tActionTypeOf = 0x44,\n\t\tActionAdd2 = 0x47,\n\t\tActionLess2 = 0x48,\n\t\tActionModulo = 0x3F,\n\t\tActionBitAnd = 0x60,\n\t\tActionBitLShift = 0x63,\n\t\tActionBitOr = 0x61,\n\t\tActionBitRShift = 0x64,\n\t\tActionBitURShift = 0x65,\n\t\tActionBitXor = 0x62,\n\t\tActionDecrement = 0x51,\n\t\tActionIncrement = 0x50,\n\t\tActionPushDuplicate = 0x4C,\n\t\tActionReturn = 0x3E,\n\t\tActionStackSwap = 0x4D,\n\t\tActionStoreRegister = 0x87,\n\t\tActionInstanceOf = 0x54,\n\t\tActionEnumerate2 = 0x55,\n\t\tActionStrictEquals = 0x66,\n\t\tActionGreater = 0x67,\n\t\tActionStringGreater = 0x68,\n\t\tActionDefineFunction2 = 0x8E,\n\t\tActionExtends = 0x69,\n\t\tActionCastOp = 0x2B,\n\t\tActionImplementsOp = 0x2C,\n\t\tActionTry = 0x8F,\n\t\tActionThrow = 0x2A,\n\t\tActionFSCommand2 = 0x2D,\n\t\tActionStrictMode = 0x89\n\t}\n\n\texport class ParsedPushRegisterAction {\n\t\tconstructor(public registerNumber: number) {\n\t\t}\n\t}\n\n\texport class ParsedPushConstantAction {\n\t\tconstructor(public constantIndex: number) {\n\t\t}\n\t}\n\n\texport interface ParsedAction {\n\t\tposition: number;\n\t\tactionCode: number;\n\t\tactionName: string;\n\t\targs: any[];\n\t}\n\n\texport interface ArgumentAssignment {\n\t\ttype: ArgumentAssignmentType;\n\t\tname?: string;\n\t\tindex?: number;\n\t}\n\n\texport const enum ArgumentAssignmentType {\n\t\tNone = 0,\n\t\tArgument = 1,\n\t\tThis = 2,\n\t\tArguments = 4,\n\t\tSuper = 8,\n\t\tGlobal = 16,\n\t\tParent = 32,\n\t\tRoot = 64\n\t}\n\n\texport class ActionsDataParser {\n\t\tpublic dataId: string;\n\t\tprivate _stream: ActionsDataStream;\n\t\tprivate _actionsData: AVM1ActionsData;\n\n\t\tconstructor(actionsData: AVM1ActionsData, swfVersion: number) {\n\t\t\tthis._actionsData = actionsData;\n\t\t\tthis.dataId = actionsData.id;\n\t\t\tthis._stream = new ActionsDataStream(actionsData.bytes, swfVersion);\n\t\t}\n\n\t\tget position(): number {\n\t\t\treturn this._stream.position;\n\t\t}\n\n\t\tset position(value: number) {\n\t\t\tthis._stream.position = value;\n\t\t}\n\n\t\tget eof(): boolean {\n\t\t\treturn this._stream.position >= this._stream.end;\n\t\t}\n\n\t\tget length(): number {\n\t\t\treturn this._stream.end;\n\t\t}\n\n\t\treadNext(): ParsedAction {\n\t\t\tlet stream = this._stream;\n\t\t\tlet currentPosition = stream.position;\n\t\t\tlet actionCode = stream.readUI8();\n\t\t\tlet length = actionCode >= 0x80 ? stream.readUI16() : 0;\n\t\t\tlet nextPosition = stream.position + length;\n\n\t\t\tlet args: any[] = null;\n\t\t\tswitch (actionCode | 0) {\n\t\t\t\tcase ActionCode.ActionGotoFrame:\n\t\t\t\t\tlet frame = stream.readUI16();\n\t\t\t\t\tlet nextActionCode = stream.readUI8();\n\t\t\t\t\tlet play = false;\n\t\t\t\t\tif (nextActionCode !== 0x06 && nextActionCode !== 0x07) {\n\t\t\t\t\t\tstream.position--;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnextPosition++;\n\t\t\t\t\t\tplay = nextActionCode === 0x06;\n\t\t\t\t\t}\n\t\t\t\t\targs = [frame, play];\n\t\t\t\t\tbreak;\n\t\t\t\tcase ActionCode.ActionGetURL:\n\t\t\t\t\tlet urlString = stream.readString();\n\t\t\t\t\tlet targetString = stream.readString();\n\t\t\t\t\targs = [urlString, targetString];\n\t\t\t\t\tbreak;\n\t\t\t\tcase ActionCode.ActionWaitForFrame:\n\t\t\t\t\tframe = stream.readUI16();\n\t\t\t\t\tlet count = stream.readUI8();\n\t\t\t\t\targs = [frame, count];\n\t\t\t\t\tbreak;\n\t\t\t\tcase ActionCode.ActionSetTarget:\n\t\t\t\t\tlet targetName = stream.readString();\n\t\t\t\t\targs = [targetName];\n\t\t\t\t\tbreak;\n\t\t\t\tcase ActionCode.ActionGoToLabel:\n\t\t\t\t\tlet label = stream.readString();\n\t\t\t\t\tnextActionCode = stream.readUI8();\n\t\t\t\t\tplay = false;\n\t\t\t\t\tif (nextActionCode !== 0x06 && nextActionCode !== 0x07) {\n\t\t\t\t\t\tstream.position--;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnextPosition++;\n\t\t\t\t\t\tplay = nextActionCode === 0x06;\n\t\t\t\t\t}\n\t\t\t\t\targs = [label, play];\n\t\t\t\t\tbreak;\n\t\t\t\tcase ActionCode.ActionPush:\n\t\t\t\t\tlet type, value;\n\t\t\t\t\targs = [];\n\t\t\t\t\twhile (stream.position < nextPosition) {\n\t\t\t\t\t\ttype = stream.readUI8();\n\t\t\t\t\t\tswitch (type | 0) {\n\t\t\t\t\t\t\tcase 0: // STRING\n\t\t\t\t\t\t\t\tvalue = stream.readString();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 1: // FLOAT\n\t\t\t\t\t\t\t\tvalue = stream.readFloat();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 2: // null\n\t\t\t\t\t\t\t\tvalue = null;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 3: // undefined\n\t\t\t\t\t\t\t\tvalue = void(0);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 4: // Register number\n\t\t\t\t\t\t\t\tvalue = new ParsedPushRegisterAction(stream.readUI8());\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 5: // Boolean\n\t\t\t\t\t\t\t\tvalue = stream.readBoolean();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 6: // Double\n\t\t\t\t\t\t\t\tvalue = stream.readDouble();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 7: // Integer\n\t\t\t\t\t\t\t\tvalue = stream.readInteger();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 8: // Constant8\n\t\t\t\t\t\t\t\tvalue = new ParsedPushConstantAction(stream.readUI8());\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 9: // Constant16\n\t\t\t\t\t\t\t\tvalue = new ParsedPushConstantAction(stream.readUI16());\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tconsole.error('Unknown value type: ' + type);\n\t\t\t\t\t\t\t\tstream.position = nextPosition;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\targs.push(value);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase ActionCode.ActionJump:\n\t\t\t\t\tlet offset = stream.readSI16();\n\t\t\t\t\targs = [offset];\n\t\t\t\t\tbreak;\n\t\t\t\tcase ActionCode.ActionIf:\n\t\t\t\t\toffset = stream.readSI16();\n\t\t\t\t\targs = [offset];\n\t\t\t\t\tbreak;\n\t\t\t\tcase ActionCode.ActionGetURL2:\n\t\t\t\t\tlet flags = stream.readUI8();\n\t\t\t\t\targs = [flags];\n\t\t\t\t\tbreak;\n\t\t\t\tcase ActionCode.ActionGotoFrame2:\n\t\t\t\t\tflags = stream.readUI8();\n\t\t\t\t\targs = [flags];\n\t\t\t\t\tif (!!(flags & 2)) {\n\t\t\t\t\t\targs.push(stream.readUI16());\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase ActionCode.ActionWaitForFrame2:\n\t\t\t\t\tcount = stream.readUI8();\n\t\t\t\t\targs = [count];\n\t\t\t\t\tbreak;\n\t\t\t\tcase ActionCode.ActionConstantPool:\n\t\t\t\t\tcount = stream.readUI16();\n\t\t\t\t\tlet constantPool = [];\n\t\t\t\t\tfor (let i = 0; i < count; i++) {\n\t\t\t\t\t\tconstantPool.push(stream.readString());\n\t\t\t\t\t}\n\t\t\t\t\targs = [constantPool];\n\t\t\t\t\tbreak;\n\t\t\t\tcase ActionCode.ActionDefineFunction:\n\t\t\t\t\tlet functionName = stream.readString();\n\t\t\t\t\tcount = stream.readUI16();\n\t\t\t\t\tlet functionParams = [];\n\t\t\t\t\tfor (let i = 0; i < count; i++) {\n\t\t\t\t\t\tfunctionParams.push(stream.readString());\n\t\t\t\t\t}\n\n\t\t\t\t\tlet codeSize = stream.readUI16();\n\t\t\t\t\tnextPosition += codeSize;\n\t\t\t\t\tlet functionBody = new AVM1ActionsData(stream.readBytes(codeSize),\n\t\t\t\t\t\tthis.dataId + '_f' + stream.position, this._actionsData);\n\n\t\t\t\t\targs = [functionBody, functionName, functionParams];\n\t\t\t\t\tbreak;\n\t\t\t\tcase ActionCode.ActionWith:\n\t\t\t\t\tcodeSize = stream.readUI16();\n\t\t\t\t\tnextPosition += codeSize;\n\t\t\t\t\tlet withBody = new AVM1ActionsData(stream.readBytes(codeSize),\n\t\t\t\t\t\tthis.dataId + '_w' + stream.position, this._actionsData);\n\t\t\t\t\targs = [withBody];\n\t\t\t\t\tbreak;\n\t\t\t\tcase ActionCode.ActionStoreRegister:\n\t\t\t\t\tlet register = stream.readUI8();\n\t\t\t\t\targs = [register];\n\t\t\t\t\tbreak;\n\t\t\t\tcase ActionCode.ActionDefineFunction2:\n\t\t\t\t\tfunctionName = stream.readString();\n\t\t\t\t\tcount = stream.readUI16();\n\t\t\t\t\tlet registerCount = stream.readUI8();\n\t\t\t\t\tflags = stream.readUI16();\n\t\t\t\t\tlet registerAllocation: ArgumentAssignment[] = [];\n\t\t\t\t\tfunctionParams = [];\n\t\t\t\t\tfor (let i = 0; i < count; i++) {\n\t\t\t\t\t\tlet register = stream.readUI8();\n\t\t\t\t\t\tlet paramName = stream.readString();\n\t\t\t\t\t\tfunctionParams.push(paramName);\n\t\t\t\t\t\tif (register) {\n\t\t\t\t\t\t\tregisterAllocation[register] = {\n\t\t\t\t\t\t\t\ttype: ArgumentAssignmentType.Argument,\n\t\t\t\t\t\t\t\tname: paramName,\n\t\t\t\t\t\t\t\tindex: i\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tlet j = 1;\n\t\t\t\t\t// order this, arguments, super, _root, _parent, and _global\n\t\t\t\t\tif (flags & 0x0001) { // preloadThis\n\t\t\t\t\t\tregisterAllocation[j++] = {type: ArgumentAssignmentType.This};\n\t\t\t\t\t}\n\t\t\t\t\tif (flags & 0x0004) { // preloadArguments\n\t\t\t\t\t\tregisterAllocation[j++] = {type: ArgumentAssignmentType.Arguments};\n\t\t\t\t\t}\n\t\t\t\t\tif (flags & 0x0010) { // preloadSuper\n\t\t\t\t\t\tregisterAllocation[j++] = {type: ArgumentAssignmentType.Super};\n\t\t\t\t\t}\n\t\t\t\t\tif (flags & 0x0040) { // preloadRoot\n\t\t\t\t\t\tregisterAllocation[j++] = {type: ArgumentAssignmentType.Root};\n\t\t\t\t\t}\n\t\t\t\t\tif (flags & 0x0080) { // preloadParent\n\t\t\t\t\t\tregisterAllocation[j++] = {type: ArgumentAssignmentType.Parent};\n\t\t\t\t\t}\n\t\t\t\t\tif (flags & 0x0100) { // preloadGlobal\n\t\t\t\t\t\tregisterAllocation[j++] = {type: ArgumentAssignmentType.Global};\n\t\t\t\t\t}\n\n\t\t\t\t\tlet suppressArguments: ArgumentAssignmentType = 0;\n\t\t\t\t\tif (flags & 0x0002) { // suppressThis\n\t\t\t\t\t\tsuppressArguments |= ArgumentAssignmentType.This;\n\t\t\t\t\t}\n\t\t\t\t\tif (flags & 0x0008) { // suppressArguments\n\t\t\t\t\t\tsuppressArguments |= ArgumentAssignmentType.Arguments;\n\t\t\t\t\t}\n\t\t\t\t\tif (flags & 0x0020) { // suppressSuper\n\t\t\t\t\t\tsuppressArguments |= ArgumentAssignmentType.Super;\n\t\t\t\t\t}\n\n\t\t\t\t\tcodeSize = stream.readUI16();\n\t\t\t\t\tnextPosition += codeSize;\n\t\t\t\t\tfunctionBody = new AVM1ActionsData(stream.readBytes(codeSize),\n\t\t\t\t\t\tthis.dataId + '_f' + stream.position, this._actionsData);\n\n\t\t\t\t\targs = [functionBody, functionName, functionParams, registerCount,\n\t\t\t\t\t\tregisterAllocation, suppressArguments];\n\t\t\t\t\tbreak;\n\t\t\t\tcase ActionCode.ActionTry:\n\t\t\t\t\tflags = stream.readUI8();\n\t\t\t\t\tlet catchIsRegisterFlag = !!(flags & 4);\n\t\t\t\t\tlet finallyBlockFlag = !!(flags & 2);\n\t\t\t\t\tlet catchBlockFlag = !!(flags & 1);\n\t\t\t\t\tlet trySize = stream.readUI16();\n\t\t\t\t\tlet catchSize = stream.readUI16();\n\t\t\t\t\tlet finallySize = stream.readUI16();\n\t\t\t\t\tlet catchTarget: any = catchIsRegisterFlag ? stream.readUI8() : stream.readString();\n\n\t\t\t\t\tnextPosition += trySize + catchSize + finallySize;\n\n\t\t\t\t\tlet tryBody = new AVM1ActionsData(stream.readBytes(trySize),\n\t\t\t\t\t\tthis.dataId + '_t' + stream.position, this._actionsData);\n\t\t\t\t\tlet catchBody = new AVM1ActionsData(stream.readBytes(catchSize),\n\t\t\t\t\t\tthis.dataId + '_c' + stream.position, this._actionsData);\n\t\t\t\t\tlet finallyBody = new AVM1ActionsData(stream.readBytes(finallySize),\n\t\t\t\t\t\tthis.dataId + '_z' + stream.position, this._actionsData);\n\n\t\t\t\t\targs = [catchIsRegisterFlag, catchTarget, tryBody,\n\t\t\t\t\t\tcatchBlockFlag, catchBody, finallyBlockFlag, finallyBody];\n\t\t\t\t\tbreak;\n\t\t\t\tcase ActionCode.ActionStrictMode:\n\t\t\t\t\tlet mode = stream.readUI8();\n\t\t\t\t\targs = [mode];\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tstream.position = nextPosition;\n\t\t\treturn {\n\t\t\t\tposition: currentPosition,\n\t\t\t\tactionCode: actionCode,\n\t\t\t\tactionName: ActionNamesMap[actionCode],\n\t\t\t\targs: args\n\t\t\t};\n\t\t}\n\n\t\tskip(count: number) {\n\t\t\tlet stream = this._stream;\n\t\t\twhile (count > 0 && stream.position < stream.end) {\n\t\t\t\tlet actionCode = stream.readUI8();\n\t\t\t\tlet length = actionCode >= 0x80 ? stream.readUI16() : 0;\n\t\t\t\tstream.position += length;\n\t\t\t\tcount--;\n\t\t\t}\n\t\t}\n\t}\n\n\tlet ActionNamesMap: any = {\n\t\t0x00: 'EOA',\n\t\t0x04: 'ActionNextFrame',\n\t\t0x05: 'ActionPreviousFrame',\n\t\t0x06: 'ActionPlay',\n\t\t0x07: 'ActionStop',\n\t\t0x08: 'ActionToggleQuality',\n\t\t0x09: 'ActionStopSounds',\n\t\t0x0A: 'ActionAdd',\n\t\t0x0B: 'ActionSubtract',\n\t\t0x0C: 'ActionMultiply',\n\t\t0x0D: 'ActionDivide',\n\t\t0x0E: 'ActionEquals',\n\t\t0x0F: 'ActionLess',\n\t\t0x10: 'ActionAnd',\n\t\t0x11: 'ActionOr',\n\t\t0x12: 'ActionNot',\n\t\t0x13: 'ActionStringEquals',\n\t\t0x14: 'ActionStringLength',\n\t\t0x15: 'ActionStringExtract',\n\t\t0x17: 'ActionPop',\n\t\t0x18: 'ActionToInteger',\n\t\t0x1C: 'ActionGetVariable',\n\t\t0x1D: 'ActionSetVariable',\n\t\t0x20: 'ActionSetTarget2',\n\t\t0x21: 'ActionStringAdd',\n\t\t0x22: 'ActionGetProperty',\n\t\t0x23: 'ActionSetProperty',\n\t\t0x24: 'ActionCloneSprite',\n\t\t0x25: 'ActionRemoveSprite',\n\t\t0x26: 'ActionTrace',\n\t\t0x27: 'ActionStartDrag',\n\t\t0x28: 'ActionEndDrag',\n\t\t0x29: 'ActionStringLess',\n\t\t0x2A: 'ActionThrow',\n\t\t0x2B: 'ActionCastOp',\n\t\t0x2C: 'ActionImplementsOp',\n\t\t0x2D: 'ActionFSCommand2',\n\t\t0x30: 'ActionRandomNumber',\n\t\t0x31: 'ActionMBStringLength',\n\t\t0x32: 'ActionCharToAscii',\n\t\t0x33: 'ActionAsciiToChar',\n\t\t0x34: 'ActionGetTime',\n\t\t0x35: 'ActionMBStringExtract',\n\t\t0x36: 'ActionMBCharToAscii',\n\t\t0x37: 'ActionMBAsciiToChar',\n\t\t0x3A: 'ActionDelete',\n\t\t0x3B: 'ActionDelete2',\n\t\t0x3C: 'ActionDefineLocal',\n\t\t0x3D: 'ActionCallFunction',\n\t\t0x3E: 'ActionReturn',\n\t\t0x3F: 'ActionModulo',\n\t\t0x40: 'ActionNewObject',\n\t\t0x41: 'ActionDefineLocal2',\n\t\t0x42: 'ActionInitArray',\n\t\t0x43: 'ActionInitObject',\n\t\t0x44: 'ActionTypeOf',\n\t\t0x45: 'ActionTargetPath',\n\t\t0x46: 'ActionEnumerate',\n\t\t0x47: 'ActionAdd2',\n\t\t0x48: 'ActionLess2',\n\t\t0x49: 'ActionEquals2',\n\t\t0x4A: 'ActionToNumber',\n\t\t0x4B: 'ActionToString',\n\t\t0x4C: 'ActionPushDuplicate',\n\t\t0x4D: 'ActionStackSwap',\n\t\t0x4E: 'ActionGetMember',\n\t\t0x4F: 'ActionSetMember',\n\t\t0x50: 'ActionIncrement',\n\t\t0x51: 'ActionDecrement',\n\t\t0x52: 'ActionCallMethod',\n\t\t0x53: 'ActionNewMethod',\n\t\t0x54: 'ActionInstanceOf',\n\t\t0x55: 'ActionEnumerate2',\n\t\t0x60: 'ActionBitAnd',\n\t\t0x61: 'ActionBitOr',\n\t\t0x62: 'ActionBitXor',\n\t\t0x63: 'ActionBitLShift',\n\t\t0x64: 'ActionBitRShift',\n\t\t0x65: 'ActionBitURShift',\n\t\t0x66: 'ActionStrictEquals',\n\t\t0x67: 'ActionGreater',\n\t\t0x68: 'ActionStringGreater',\n\t\t0x69: 'ActionExtends',\n\t\t0x81: 'ActionGotoFrame',\n\t\t0x83: 'ActionGetURL',\n\t\t0x87: 'ActionStoreRegister',\n\t\t0x88: 'ActionConstantPool',\n\t\t0x89: 'ActionStrictMode',\n\t\t0x8A: 'ActionWaitForFrame',\n\t\t0x8B: 'ActionSetTarget',\n\t\t0x8C: 'ActionGoToLabel',\n\t\t0x8D: 'ActionWaitForFrame2',\n\t\t0x8E: 'ActionDefineFunction2',\n\t\t0x8F: 'ActionTry',\n\t\t0x94: 'ActionWith',\n\t\t0x96: 'ActionPush',\n\t\t0x99: 'ActionJump',\n\t\t0x9A: 'ActionGetURL2',\n\t\t0x9B: 'ActionDefineFunction',\n\t\t0x9D: 'ActionIf',\n\t\t0x9E: 'ActionCall',\n\t\t0x9F: 'ActionGotoFrame2'\n\t};\n}\n","/*\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule Shumway.AVM1 {\n\n\texport interface ActionCodeBlock {\n\t\tlabel: number;\n\t\titems: ActionCodeBlockItem[];\n\t\tjump: number;\n\t}\n\n\texport interface ActionCodeBlockItem {\n\t\taction: ParsedAction;\n\t\tnext: number;\n\t\tconditionalJumpTo: number;\n\t}\n\n\texport interface AnalyzerResults {\n\t\t/** Sparsed array with compiled actions, index is an original location\n\t\t *  in the binary actions data */\n\t\tactions: ActionCodeBlockItem[];\n\t\tblocks: ActionCodeBlock[];\n\t\tdataId: string;\n\t\tsingleConstantPool: any[];\n\t\tregistersLimit: number\n\t\t/* int */\n\t\t;\n\t}\n\n\texport class ActionsDataAnalyzer {\n\t\tpublic parentResults: AnalyzerResults = null;\n\t\tpublic registersLimit: number /* int */ = 0;\n\n\t\tconstructor() {\n\t\t}\n\n\t\tanalyze(parser: ActionsDataParser): AnalyzerResults {\n\t\t\tlet actions: ActionCodeBlockItem[] = [];\n\t\t\tlet labels: number[] = [0];\n\t\t\tlet processedLabels: boolean[] = [true];\n\t\t\tlet constantPoolFound: boolean = false;\n\t\t\tlet singleConstantPoolAt0: any[] = null;\n\n\t\t\t// Parsing all actions we can reach. Every action will have next position\n\t\t\t// and conditional jump location.\n\t\t\tlet queue: number[] = [0];\n\t\t\twhile (queue.length > 0) {\n\t\t\t\tlet position = queue.shift();\n\t\t\t\tif (actions[position]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tparser.position = position;\n\n\t\t\t\t// reading block of actions until the first jump of end of actions\n\t\t\t\twhile (!parser.eof && !actions[position]) {\n\t\t\t\t\tlet action = parser.readNext();\n\t\t\t\t\tif (action.actionCode === 0) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet nextPosition = parser.position;\n\n\t\t\t\t\tlet item: ActionCodeBlockItem = {\n\t\t\t\t\t\taction: action,\n\t\t\t\t\t\tnext: nextPosition,\n\t\t\t\t\t\tconditionalJumpTo: -1\n\t\t\t\t\t};\n\n\t\t\t\t\tlet jumpPosition: number = 0;\n\t\t\t\t\tlet branching: boolean = false;\n\t\t\t\t\tlet nonConditionalBranching: boolean = false;\n\t\t\t\t\tswitch (action.actionCode) {\n\t\t\t\t\t\tcase ActionCode.ActionWaitForFrame:\n\t\t\t\t\t\tcase ActionCode.ActionWaitForFrame2:\n\t\t\t\t\t\t\tbranching = true;\n\t\t\t\t\t\t\t// skip is specified in amount of actions (instead of bytes)\n\t\t\t\t\t\t\tlet skipCount: number = action.actionCode === ActionCode.ActionWaitForFrame ?\n\t\t\t\t\t\t\t\taction.args[1] : action.args[0];\n\t\t\t\t\t\t\tparser.skip(skipCount);\n\t\t\t\t\t\t\tjumpPosition = parser.position;\n\t\t\t\t\t\t\tparser.position = nextPosition;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase ActionCode.ActionJump:\n\t\t\t\t\t\t\tnonConditionalBranching = true;\n\t\t\t\t\t\t\tbranching = true;\n\t\t\t\t\t\t\tjumpPosition = nextPosition + action.args[0];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase ActionCode.ActionIf:\n\t\t\t\t\t\t\tbranching = true;\n\t\t\t\t\t\t\tjumpPosition = nextPosition + action.args[0];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase ActionCode.ActionThrow:\n\t\t\t\t\t\tcase ActionCode.ActionReturn:\n\t\t\t\t\t\tcase ActionCode.None:\n\t\t\t\t\t\t\tnonConditionalBranching = true;\n\t\t\t\t\t\t\tbranching = true;\n\t\t\t\t\t\t\tjumpPosition = parser.length;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase ActionCode.ActionConstantPool:\n\t\t\t\t\t\t\tif (constantPoolFound) {\n\t\t\t\t\t\t\t\tsingleConstantPoolAt0 = null; // reset if more than one found\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconstantPoolFound = true;\n\t\t\t\t\t\t\tif (position === 0) {\n\t\t\t\t\t\t\t\t// For now only counting at position 0 of the block of actions\n\t\t\t\t\t\t\t\tsingleConstantPoolAt0 = action.args[0];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (branching) {\n\t\t\t\t\t\tif (jumpPosition < 0 || jumpPosition > parser.length) {\n\t\t\t\t\t\t\tconsole.error('jump outside the action block;');\n\t\t\t\t\t\t\tjumpPosition = parser.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (nonConditionalBranching) {\n\t\t\t\t\t\t\titem.next = jumpPosition;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.conditionalJumpTo = jumpPosition;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!processedLabels[jumpPosition]) {\n\t\t\t\t\t\t\tlabels.push(jumpPosition);\n\t\t\t\t\t\t\tqueue.push(jumpPosition);\n\t\t\t\t\t\t\tprocessedLabels[jumpPosition] = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tactions[position] = item;\n\t\t\t\t\tif (nonConditionalBranching) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tposition = nextPosition;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Creating blocks for every unique label\n\t\t\tlet blocks: ActionCodeBlock[] = [];\n\t\t\tlabels.forEach((position) => {\n\t\t\t\tif (!actions[position]) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet items: ActionCodeBlockItem[] = [];\n\t\t\t\tlet lastPosition = position;\n\n\t\t\t\t// continue grabbing items until other label or next code exist\n\t\t\t\tdo {\n\t\t\t\t\tlet item: ActionCodeBlockItem = actions[lastPosition];\n\t\t\t\t\titems.push(item);\n\t\t\t\t\tlastPosition = item.next;\n\t\t\t\t} while (!processedLabels[lastPosition] && actions[lastPosition]);\n\n\t\t\t\tblocks.push({\n\t\t\t\t\tlabel: position,\n\t\t\t\t\titems: items,\n\t\t\t\t\tjump: lastPosition\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t// Determines if action blocks (or defined function) is using the single\n\t\t\t// constants pool defined at the beginning of the action block.\n\t\t\tlet singleConstantPool: any[] = null;\n\t\t\tif (constantPoolFound) {\n\t\t\t\tsingleConstantPool = singleConstantPoolAt0;\n\t\t\t} else if (this.parentResults) {\n\t\t\t\t// Trying to use parent's constant pool if available.\n\t\t\t\tsingleConstantPool = this.parentResults.singleConstantPool;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tactions: actions,\n\t\t\t\tblocks: blocks,\n\t\t\t\tdataId: parser.dataId,\n\t\t\t\tsingleConstantPool: singleConstantPool,\n\t\t\t\tregistersLimit: this.registersLimit\n\t\t\t};\n\t\t}\n\t}\n}\n","/*\n * Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule Shumway.AVM1 {\n\n\t/**\n\t * Base class for object instances we prefer to not inherit Object.prototype properties.\n\t */\n\texport class NullPrototypeObject {\n\t}\n\n\t// Just assigning class prototype to null will not work, using next best thing.\n\tNullPrototypeObject.prototype = Object.create(null);\n\n\t// Implementing object structure and metaobject protocol very similar to\n\t// the one documented in the ECMAScript language 3.0 specification.\n\n\t// ActionScript properties flags.\n\t// DONT_ENUM, DONT_DELETE, and READ_ONLY are mapped to the the ASSetPropFlags.\n\texport const enum AVM1PropertyFlags {\n\t\tDONT_ENUM = 1,\n\t\tDONT_DELETE = 2,\n\t\tREAD_ONLY = 4,\n\t\tDATA = 64,\n\t\tACCESSOR = 128,\n\t\tASSETPROP_MASK = DONT_DELETE | DONT_ENUM | READ_ONLY\n\t}\n\n\texport const enum AVM1DefaultValueHint {\n\t\tNUMBER,\n\t\tSTRING\n\t}\n\n\texport interface IAVM1Callable {\n\t\talCall(thisArg: any, args?: any[]): any;\n\t}\n\n\texport interface IAVM1PropertyWatcher {\n\t\tname: any;\n\t\tcallback: IAVM1Callable;\n\t\tuserData: any;\n\t}\n\n\texport class AVM1PropertyDescriptor {\n\t\t[key: string]: any;\n\t\tpublic originalName: string;\n\n\t\tconstructor(public flags: AVM1PropertyFlags,\n\t\t            public value?: any,\n\t\t            public get?: IAVM1Callable,\n\t\t            public set?: IAVM1Callable,\n\t\t            public watcher?: IAVM1PropertyWatcher) {\n\t\t\t// Empty block\n\t\t}\n\t}\n\n\tlet DEBUG_PROPERTY_PREFIX = '$Bg';\n\n\texport interface IAVM1Builtins {\n\t\tObject: AVM1Object;\n\t\tFunction: AVM1Object;\n\t\tBoolean: AVM1Object;\n\t\tNumber: AVM1Object;\n\t\tString: AVM1Object;\n\t\tArray: AVM1Object;\n\t\tDate: AVM1Object;\n\t\tMath: AVM1Object;\n\t\tError: AVM1Object;\n\t}\n\n\texport interface IAVM1Context {\n\t\tbuiltins: IAVM1Builtins;\n\t\tswfVersion: number;\n\t\tisPropertyCaseSensitive: boolean;\n\n\t\tregisterClass(name: string, cls: AVM1Object): void;\n\t}\n\n\t/**\n\t * Base class for the ActionScript AVM1 object.\n\t */\n\texport class AVM1Object extends NullPrototypeObject {\n\t\t[key: string]: any;\n\t\t// Using our own bag of properties\n\t\tprivate _ownProperties: any;\n\t\tprivate _prototype: AVM1Object;\n\n\t\tprivate _avm1Context: IAVM1Context;\n\n\t\tpublic get context(): AVM1Context { // too painful to have it as IAVM1Context\n\t\t\treturn <AVM1Context>this._avm1Context;\n\t\t}\n\n\t\tpublic constructor(avm1Context: IAVM1Context) {\n\t\t\tsuper();\n\t\t\tthis._avm1Context = avm1Context;\n\t\t\tthis._ownProperties = Object.create(null);\n\t\t\tthis._prototype = null;\n\n\t\t\tlet self = this;\n\t\t\t// Using IAVM1Callable here to avoid circular calls between AVM1Object and\n\t\t\t// AVM1Function during constructions.\n\t\t\t// TODO do we need to support __proto__ for all SWF versions?\n\t\t\tlet getter = {\n\t\t\t\talCall: function (thisArg: any, args?: any[]): any {\n\t\t\t\t\treturn self.alPrototype;\n\t\t\t\t}\n\t\t\t};\n\t\t\tlet setter = {\n\t\t\t\talCall: function (thisArg: any, args?: any[]): any {\n\t\t\t\t\tself.alPrototype = args[0];\n\t\t\t\t}\n\t\t\t};\n\t\t\tlet desc = new AVM1PropertyDescriptor(AVM1PropertyFlags.ACCESSOR |\n\t\t\t\tAVM1PropertyFlags.DONT_DELETE |\n\t\t\t\tAVM1PropertyFlags.DONT_ENUM,\n\t\t\t\tnull,\n\t\t\t\tgetter,\n\t\t\t\tsetter);\n\t\t\tthis.alSetOwnProperty('__proto__', desc);\n\t\t}\n\n\t\tget alPrototype(): AVM1Object {\n\t\t\treturn this._prototype;\n\t\t}\n\n\t\tset alPrototype(v: AVM1Object) {\n\t\t\t// checking for circular references\n\t\t\tlet p = v;\n\t\t\twhile (p) {\n\t\t\t\tif (p === this) {\n\t\t\t\t\treturn; // possible loop in __proto__ chain is found\n\t\t\t\t}\n\t\t\t\tp = p.alPrototype;\n\t\t\t}\n\t\t\t// TODO recursive chain check\n\t\t\tthis._prototype = v;\n\t\t}\n\n\t\tpublic alGetPrototypeProperty(): AVM1Object {\n\t\t\treturn this.alGet('prototype');\n\t\t}\n\n\t\t// TODO shall we add mode for readonly/native flags of the prototype property?\n\t\tpublic alSetOwnPrototypeProperty(v: any): void {\n\t\t\tthis.alSetOwnProperty('prototype', new AVM1PropertyDescriptor(AVM1PropertyFlags.DATA |\n\t\t\t\tAVM1PropertyFlags.DONT_ENUM,\n\t\t\t\tv));\n\t\t}\n\n\t\tpublic alGetConstructorProperty(): AVM1Object {\n\t\t\treturn this.alGet('__constructor__');\n\t\t}\n\n\t\tpublic alSetOwnConstructorProperty(v: any): void {\n\t\t\tthis.alSetOwnProperty('__constructor__', new AVM1PropertyDescriptor(AVM1PropertyFlags.DATA |\n\t\t\t\tAVM1PropertyFlags.DONT_ENUM,\n\t\t\t\tv));\n\t\t}\n\n\t\t_debugEscapeProperty(p: any): string {\n\t\t\tlet context = this.context;\n\t\t\tlet name = alToString(context, p);\n\t\t\tif (!context.isPropertyCaseSensitive) {\n\t\t\t\tname = name.toLowerCase();\n\t\t\t}\n\t\t\treturn DEBUG_PROPERTY_PREFIX + name;\n\t\t}\n\n\t\tpublic alGetOwnProperty(name: any): AVM1PropertyDescriptor {\n\t\t\tif (typeof name === 'string' && !this.context.isPropertyCaseSensitive) {\n\t\t\t\tname = name.toLowerCase();\n\t\t\t}\n\t\t\trelease || Debug.assert(alIsName(this.context, name));\n\t\t\t// TODO __resolve\n\t\t\treturn this._ownProperties[name];\n\t\t}\n\n\t\tpublic alSetOwnProperty(p: any, desc: AVM1PropertyDescriptor): void {\n\t\t\tlet name = this.context.normalizeName(p);\n\t\t\tif (!desc.originalName && !this.context.isPropertyCaseSensitive) {\n\t\t\t\tdesc.originalName = p;\n\t\t\t}\n\t\t\tif (!release) {\n\t\t\t\tDebug.assert(desc instanceof AVM1PropertyDescriptor);\n\t\t\t\t// Ensure that a descriptor isn't used multiple times. If it were, we couldn't update\n\t\t\t\t// values in-place.\n\t\t\t\tDebug.assert(!desc['owningObject'] || desc['owningObject'] === this);\n\t\t\t\tdesc['owningObject'] = this;\n\t\t\t\t// adding data property on the main object for convenience of debugging.\n\t\t\t\tif ((desc.flags & AVM1PropertyFlags.DATA) &&\n\t\t\t\t\t!(desc.flags & AVM1PropertyFlags.DONT_ENUM)) {\n\t\t\t\t\tObject.defineProperty(this, this._debugEscapeProperty(name),\n\t\t\t\t\t\t{value: desc.value, enumerable: true, configurable: true});\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._ownProperties[name] = desc;\n\t\t}\n\n\t\tpublic alHasOwnProperty(p: any): boolean {\n\t\t\tlet name = this.context.normalizeName(p);\n\t\t\treturn !!this._ownProperties[name];\n\t\t}\n\n\t\tpublic alDeleteOwnProperty(p: any) {\n\t\t\tlet name = this.context.normalizeName(p);\n\t\t\tdelete this._ownProperties[name];\n\t\t\tif (!release) {\n\t\t\t\tdelete this[this._debugEscapeProperty(p)];\n\t\t\t}\n\t\t}\n\n\t\tpublic alGetOwnPropertiesKeys(): string[] {\n\t\t\tlet keys: string[] = [];\n\t\t\tif (!this.context.isPropertyCaseSensitive) {\n\t\t\t\tfor (let name in this._ownProperties) {\n\t\t\t\t\tlet desc = this._ownProperties[name];\n\t\t\t\t\trelease || Debug.assert(\"originalName\" in desc);\n\t\t\t\t\tif (!(desc.flags & AVM1PropertyFlags.DONT_ENUM)) {\n\t\t\t\t\t\tkeys.push(desc.originalName);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (let name in this._ownProperties) {\n\t\t\t\t\tlet desc = this._ownProperties[name];\n\t\t\t\t\tif (!(desc.flags & AVM1PropertyFlags.DONT_ENUM)) {\n\t\t\t\t\t\tkeys.push(name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn keys;\n\t\t}\n\n\t\tpublic alGetProperty(p: any): AVM1PropertyDescriptor {\n\t\t\tlet desc = this.alGetOwnProperty(p);\n\t\t\tif (desc) {\n\t\t\t\treturn desc;\n\t\t\t}\n\t\t\tif (!this._prototype) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn this._prototype.alGetProperty(p);\n\t\t}\n\n\t\tpublic alGet(p: any): any {\n\t\t\tlet name = this.context.normalizeName(p);\n\t\t\tlet desc = this.alGetProperty(name);\n\t\t\tif (!desc) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tif ((desc.flags & AVM1PropertyFlags.DATA)) {\n\t\t\t\treturn desc.value;\n\t\t\t}\n\t\t\trelease || Debug.assert((desc.flags & AVM1PropertyFlags.ACCESSOR));\n\t\t\tlet getter = desc.get;\n\t\t\tif (!getter) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn getter.alCall(this);\n\t\t}\n\n\t\tpublic alCanPut(p: any): boolean {\n\t\t\tlet desc = this.alGetOwnProperty(p);\n\t\t\tif (desc) {\n\t\t\t\tif ((desc.flags & AVM1PropertyFlags.ACCESSOR)) {\n\t\t\t\t\treturn !!desc.set;\n\t\t\t\t} else {\n\t\t\t\t\treturn !(desc.flags & AVM1PropertyFlags.READ_ONLY);\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet proto = this._prototype;\n\t\t\tif (!proto) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn proto.alCanPut(p);\n\t\t}\n\n\t\tpublic alPut(p: any, v: any) {\n\t\t\t// Perform all lookups with the canonicalized name, but keep the original name around to\n\t\t\t// pass it to `alSetOwnProperty`, which stores it on the descriptor.\n\t\t\tlet originalName = p;\n\t\t\tp = this.context.normalizeName(p);\n\t\t\tif (!this.alCanPut(p)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet ownDesc = this.alGetOwnProperty(p);\n\t\t\tif (ownDesc && (ownDesc.flags & AVM1PropertyFlags.DATA)) {\n\t\t\t\tif (ownDesc.watcher) {\n\t\t\t\t\tv = ownDesc.watcher.callback.alCall(this,\n\t\t\t\t\t\t[ownDesc.watcher.name, ownDesc.value, v, ownDesc.watcher.userData]);\n\t\t\t\t}\n\t\t\t\t// Real properties (i.e., not things like \"_root\" on MovieClips) can be updated in-place.\n\t\t\t\tif (p in this._ownProperties) {\n\t\t\t\t\townDesc.value = v;\n\t\t\t\t} else {\n\t\t\t\t\tthis.alSetOwnProperty(originalName, new AVM1PropertyDescriptor(ownDesc.flags, v));\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet desc = this.alGetProperty(p);\n\t\t\tif (desc && (desc.flags & AVM1PropertyFlags.ACCESSOR)) {\n\t\t\t\tif (desc.watcher) {\n\t\t\t\t\tlet oldValue = desc.get ? desc.get.alCall(this) : undefined;\n\t\t\t\t\tv = desc.watcher.callback.alCall(this,\n\t\t\t\t\t\t[desc.watcher.name, oldValue, v, desc.watcher.userData]);\n\t\t\t\t}\n\t\t\t\tlet setter = desc.set;\n\t\t\t\trelease || Debug.assert(setter);\n\t\t\t\tsetter.alCall(this, [v]);\n\t\t\t} else {\n\t\t\t\tif (desc && desc.watcher) {\n\t\t\t\t\trelease || Debug.assert(desc.flags & AVM1PropertyFlags.DATA);\n\t\t\t\t\tv = desc.watcher.callback.alCall(this,\n\t\t\t\t\t\t[desc.watcher.name, desc.value, v, desc.watcher.userData]);\n\t\t\t\t}\n\t\t\t\tlet newDesc = new AVM1PropertyDescriptor(desc ? desc.flags : AVM1PropertyFlags.DATA, v);\n\t\t\t\tthis.alSetOwnProperty(originalName, newDesc);\n\t\t\t}\n\t\t}\n\n\t\tpublic alHasProperty(p: any): boolean {\n\t\t\tlet desc = this.alGetProperty(p);\n\t\t\treturn !!desc;\n\t\t}\n\n\t\tpublic alDeleteProperty(p: any): boolean {\n\t\t\tlet desc = this.alGetOwnProperty(p);\n\t\t\tif (!desc) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif ((desc.flags & AVM1PropertyFlags.DONT_DELETE)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.alDeleteOwnProperty(p);\n\t\t\treturn true;\n\t\t}\n\n\t\tpublic alAddPropertyWatcher(p: any, callback: IAVM1Callable, userData: any): boolean {\n\t\t\t// TODO verify/test this functionality to match ActionScript\n\t\t\tlet desc = this.alGetProperty(p);\n\t\t\tif (!desc) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tdesc.watcher = {\n\t\t\t\tname: p,\n\t\t\t\tcallback: callback,\n\t\t\t\tuserData: userData\n\t\t\t};\n\t\t\treturn true;\n\t\t}\n\n\t\tpublic alRemotePropertyWatcher(p: any): boolean {\n\t\t\tlet desc = this.alGetProperty(p);\n\t\t\tif (!desc || !desc.watcher) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tdesc.watcher = undefined;\n\t\t\treturn true;\n\n\t\t}\n\n\t\tpublic alDefaultValue(hint: AVM1DefaultValueHint = AVM1DefaultValueHint.NUMBER): any {\n\t\t\tif (hint === AVM1DefaultValueHint.STRING) {\n\t\t\t\tlet toString = this.alGet(this.context.normalizeName('toString'));\n\t\t\t\tif (alIsFunction(toString)) {\n\t\t\t\t\tlet str = toString.alCall(this);\n\t\t\t\t\treturn str;\n\t\t\t\t}\n\t\t\t\tlet valueOf = this.alGet(this.context.normalizeName('valueOf'));\n\t\t\t\tif (alIsFunction(valueOf)) {\n\t\t\t\t\tlet val = valueOf.alCall(this);\n\t\t\t\t\treturn val;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\trelease || Debug.assert(hint === AVM1DefaultValueHint.NUMBER);\n\t\t\t\tlet valueOf = this.alGet(this.context.normalizeName('valueOf'));\n\t\t\t\tif (alIsFunction(valueOf)) {\n\t\t\t\t\tlet val = valueOf.alCall(this);\n\t\t\t\t\treturn val;\n\t\t\t\t}\n\t\t\t\tlet toString = this.alGet(this.context.normalizeName('toString'));\n\t\t\t\tif (alIsFunction(toString)) {\n\t\t\t\t\tlet str = toString.alCall(this);\n\t\t\t\t\treturn str;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// TODO is this a default?\n\t\t\treturn this;\n\t\t}\n\n\t\tpublic alGetKeys(): string[] {\n\t\t\tlet ownKeys = this.alGetOwnPropertiesKeys();\n\t\t\tlet proto = this._prototype;\n\t\t\tif (!proto) {\n\t\t\t\treturn ownKeys;\n\t\t\t}\n\n\t\t\tlet otherKeys = proto.alGetKeys();\n\t\t\tif (ownKeys.length === 0) {\n\t\t\t\treturn otherKeys;\n\t\t\t}\n\n\t\t\t// Merging two keys sets\n\t\t\t// TODO check if we shall worry about __proto__ usage here\n\t\t\tlet context = this.context;\n\t\t\t// If the context is case-insensitive, names only differing in their casing overwrite each\n\t\t\t// other. Iterating over the keys returns the first original, case-preserved key that was\n\t\t\t// ever used for the property, though.\n\t\t\tif (!context.isPropertyCaseSensitive) {\n\t\t\t\tlet keyLists = [ownKeys, otherKeys];\n\t\t\t\tlet canonicalKeysMap = Object.create(null);\n\t\t\t\tlet keys = [];\n\t\t\t\tfor (let k = 0; k < keyLists.length; k++) {\n\t\t\t\t\tlet keyList = keyLists[k];\n\t\t\t\t\tfor (let i = keyList.length; i--;) {\n\t\t\t\t\t\tlet key = keyList[i];\n\t\t\t\t\t\tlet canonicalKey = context.normalizeName(key);\n\t\t\t\t\t\tif (canonicalKeysMap[canonicalKey]) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcanonicalKeysMap[canonicalKey] = true;\n\t\t\t\t\t\tkeys.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn keys;\n\t\t\t} else {\n\t\t\t\tlet processed = Object.create(null);\n\t\t\t\tfor (let i = 0; i < ownKeys.length; i++) {\n\t\t\t\t\tprocessed[ownKeys[i]] = true;\n\t\t\t\t}\n\t\t\t\tfor (let i = 0; i < otherKeys.length; i++) {\n\t\t\t\t\tprocessed[otherKeys[i]] = true;\n\t\t\t\t}\n\t\t\t\treturn Object.getOwnPropertyNames(processed);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Base class for ActionsScript functions.\n\t */\n\texport class AVM1Function extends AVM1Object implements IAVM1Callable {\n\t\tpublic constructor(context: IAVM1Context) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Function.alGetPrototypeProperty();\n\t\t}\n\n\t\tpublic alConstruct(args?: any[]): AVM1Object {\n\t\t\tthrow new Error('not implemented AVM1Function.alConstruct');\n\t\t}\n\n\t\tpublic alCall(thisArg: any, args?: any[]): any {\n\t\t\tthrow new Error('not implemented AVM1Function.alCall');\n\t\t}\n\n\t\t/**\n\t\t * Wraps the function to the callable JavaScript function.\n\t\t * @returns {Function} a JavaScript function.\n\t\t */\n\t\tpublic toJSFunction(thisArg: AVM1Object = null): Function {\n\t\t\tlet fn = this;\n\t\t\tlet context = this.context;\n\t\t\treturn function () {\n\t\t\t\tlet args = Array.prototype.slice.call(arguments, 0);\n\t\t\t\treturn context.executeFunction(fn, thisArg, args);\n\t\t\t};\n\t\t}\n\t}\n\n\t/**\n\t * Base class for ActionScript functions with native JavaScript implementation.\n\t */\n\texport class AVM1NativeFunction extends AVM1Function {\n\t\tprivate _fn: Function;\n\t\tprivate _ctor: Function;\n\n\t\t/**\n\t\t * @param {IAVM1Context} context\n\t\t * @param {Function} fn The native function for regular calling.\n\t\t * @param {Function} ctor The native function for construction.\n\t\t */\n\t\tpublic constructor(context: IAVM1Context, fn: Function, ctor?: Function) {\n\t\t\tsuper(context);\n\t\t\tthis._fn = fn;\n\t\t\tif (ctor) {\n\t\t\t\tthis._ctor = ctor;\n\t\t\t}\n\t\t}\n\n\t\tpublic alConstruct(args?: any[]): AVM1Object {\n\t\t\tif (!this._ctor) {\n\t\t\t\tthrow new Error('not a constructor');\n\t\t\t}\n\t\t\treturn this._ctor.apply(this, args);\n\t\t}\n\n\t\tpublic alCall(thisArg: any, args?: any[]): any {\n\t\t\tif (!this._fn) {\n\t\t\t\tthrow new Error('not callable');\n\t\t\t}\n\t\t\treturn this._fn.apply(thisArg, args);\n\t\t}\n\t}\n\n\t/**\n\t * Base class the is used for the interpreter.\n\t * See {AVM1InterpretedFunction} implementation\n\t */\n\texport class AVM1EvalFunction extends AVM1Function {\n\t\tpublic constructor(context: IAVM1Context) {\n\t\t\tsuper(context);\n\t\t\tlet proto = new AVM1Object(context);\n\t\t\tproto.alPrototype = context.builtins.Object.alGetPrototypeProperty();\n\t\t\tproto.alSetOwnProperty('constructor', new AVM1PropertyDescriptor(AVM1PropertyFlags.DATA |\n\t\t\t\tAVM1PropertyFlags.DONT_ENUM |\n\t\t\t\tAVM1PropertyFlags.DONT_DELETE));\n\t\t\tthis.alSetOwnPrototypeProperty(proto);\n\t\t}\n\n\t\tpublic alConstruct(args?: any[]): AVM1Object {\n\t\t\tlet obj = new AVM1Object(this.context);\n\t\t\tlet objPrototype = this.alGetPrototypeProperty();\n\t\t\tif (!(objPrototype instanceof AVM1Object)) {\n\t\t\t\tobjPrototype = this.context.builtins.Object.alGetPrototypeProperty();\n\t\t\t}\n\t\t\tobj.alPrototype = objPrototype;\n\t\t\tobj.alSetOwnConstructorProperty(this);\n\t\t\tlet result = this.alCall(obj, args);\n\t\t\treturn result instanceof AVM1Object ? result : obj;\n\t\t}\n\t}\n\n\t// TODO create classes for the ActionScript errors.\n\n\tclass AVM1TypeError extends Error {\n\t\tconstructor(msg?: any) {\n\t\t\tsuper(msg);\n\t\t}\n\t}\n\n\texport function alToPrimitive(context: IAVM1Context, v: any, preferredType?: AVM1DefaultValueHint) {\n\t\tif (!(v instanceof AVM1Object)) {\n\t\t\treturn v;\n\t\t}\n\t\tlet obj: AVM1Object = v;\n\t\treturn preferredType !== undefined ? obj.alDefaultValue(preferredType) : obj.alDefaultValue();\n\t}\n\n\texport function alToBoolean(context: IAVM1Context, v: any): boolean {\n\t\tswitch (typeof v) {\n\t\t\tcase 'undefined':\n\t\t\t\treturn false;\n\t\t\tcase 'object':\n\t\t\t\treturn v !== null;\n\t\t\tcase 'boolean':\n\t\t\t\treturn v;\n\t\t\tcase 'string':\n\t\t\tcase 'number':\n\t\t\t\treturn !!v;\n\t\t\tdefault:\n\t\t\t\trelease || Debug.assert(false);\n\t\t}\n\t\treturn false;\n\t}\n\n\texport function alToNumber(context: IAVM1Context, v: any): number {\n\t\tif (typeof v === 'object' && v !== null) {\n\t\t\tv = alToPrimitive(context, v, AVM1DefaultValueHint.NUMBER);\n\t\t}\n\t\tswitch (typeof v) {\n\t\t\tcase 'undefined':\n\t\t\t\treturn context.swfVersion >= 7 ? NaN : 0;\n\t\t\tcase 'object':\n\t\t\t\tif (v === null) {\n\t\t\t\t\treturn context.swfVersion >= 7 ? NaN : 0;\n\t\t\t\t}\n\t\t\t\treturn context.swfVersion >= 5 ? NaN : 0;\n\t\t\tcase 'boolean':\n\t\t\t\treturn v ? 1 : 0;\n\t\t\tcase 'number':\n\t\t\t\treturn v;\n\t\t\tcase 'string':\n\t\t\t\tif (v === '' && context.swfVersion < 5) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t\treturn +v;\n\t\t\tdefault:\n\t\t\t\trelease || Debug.assert(false);\n\t\t}\n\t\treturn 0;\n\t}\n\n\texport function alToInteger(context: IAVM1Context, v: any): number {\n\t\tlet n = alToNumber(context, v);\n\t\tif (isNaN(n)) {\n\t\t\treturn 0;\n\t\t}\n\t\tif (n === 0 || n === Number.POSITIVE_INFINITY || n === Number.NEGATIVE_INFINITY) {\n\t\t\treturn n;\n\t\t}\n\t\treturn n < 0 ? Math.ceil(n) : Math.floor(n);\n\t}\n\n\texport function alToInt32(context: IAVM1Context, v: any): number {\n\t\tlet n = alToNumber(context, v);\n\t\treturn n | 0;\n\t}\n\n\texport function alToString(context: IAVM1Context, v: any): string {\n\t\tif (typeof v === 'object' && v !== null) {\n\t\t\tv = alToPrimitive(context, v, AVM1DefaultValueHint.STRING);\n\t\t}\n\t\tswitch (typeof v) {\n\t\t\tcase 'undefined':\n\t\t\t\treturn context.swfVersion >= 7 ? 'undefined' : '';\n\t\t\tcase 'object':\n\t\t\t\tif (v === null) {\n\t\t\t\t\treturn 'null';\n\t\t\t\t}\n\t\t\t\treturn '[type ' + alGetObjectClass(v) + ']';\n\t\t\tcase 'boolean':\n\t\t\t\treturn v ? 'true' : 'false';\n\t\t\tcase 'number':\n\t\t\t\treturn v + '';\n\t\t\tcase 'string':\n\t\t\t\treturn v;\n\t\t\tdefault:\n\t\t\t\trelease || Debug.assert(false);\n\t\t}\n\t\treturn '';\n\t}\n\n\texport function alIsName(context: IAVM1Context, v: any): boolean {\n\t\treturn typeof v === 'number' ||\n\t\t\ttypeof v === 'string' &&\n\t\t\t(context.isPropertyCaseSensitive || v === v.toLowerCase());\n\t}\n\n\texport function alToObject(context: IAVM1Context, v: any): AVM1Object {\n\t\tswitch (typeof v) {\n\t\t\tcase 'undefined':\n\t\t\t\tthrow new AVM1TypeError();\n\t\t\tcase 'object':\n\t\t\t\tif (v === null) {\n\t\t\t\t\tthrow new AVM1TypeError();\n\t\t\t\t}\n\t\t\t\t// TODO verify if all objects here are inherited from AVM1Object\n\t\t\t\tif (Array.isArray(v)) {\n\t\t\t\t\treturn new Natives.AVM1ArrayNative(context, v);\n\t\t\t\t}\n\t\t\t\treturn v;\n\t\t\tcase 'boolean':\n\t\t\t\treturn new Natives.AVM1BooleanNative(context, v);\n\t\t\tcase 'number':\n\t\t\t\treturn new Natives.AVM1NumberNative(context, v);\n\t\t\tcase 'string':\n\t\t\t\treturn new Natives.AVM1StringNative(context, v);\n\t\t\tdefault:\n\t\t\t\trelease || Debug.assert(false);\n\t\t}\n\t\treturn null;\n\t}\n\n\texport function alNewObject(context: IAVM1Context): AVM1Object {\n\t\tlet obj = new AVM1Object(context);\n\t\tobj.alPrototype = context.builtins.Object.alGetPrototypeProperty();\n\t\tobj.alSetOwnConstructorProperty(context.builtins.Object);\n\t\treturn obj;\n\t}\n\n\texport function alGetObjectClass(obj: AVM1Object): string {\n\t\tif (obj instanceof AVM1Function) {\n\t\t\treturn 'Function';\n\t\t}\n\t\t// TODO more cases\n\t\treturn 'Object';\n\t}\n\n\t/**\n\t * Non-standard string coercion function roughly matching the behavior of AVM2's axCoerceString.\n\t *\n\t * This is useful when dealing with AVM2 objects in the implementation of AVM1 builtins: they\n\t * frequently expect either a string or `null`, but not `undefined`.\n\t */\n\texport function alCoerceString(context: IAVM1Context, x: any): string {\n\t\tif (x instanceof AVM1Object) {\n\t\t\treturn alToString(context, x);\n\t\t}\n\t\treturn Shumway.AVMX.axCoerceString(x);\n\t}\n\n\texport function alCoerceNumber(context: IAVM1Context, x: any): number {\n\t\tif (isNullOrUndefined(x)) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn alToNumber(context, x);\n\t}\n\n\texport function alIsIndex(context: IAVM1Context, p: any) {\n\t\tif (p instanceof AVM1Object) {\n\t\t\treturn isIndex(alToString(context, p));\n\t\t}\n\t\treturn isIndex(p);\n\t}\n\n\texport function alForEachProperty(obj: AVM1Object, fn: (name: string) => void, thisArg?: any) {\n\t\tobj.alGetKeys().forEach(fn, thisArg);\n\t}\n\n\texport function alIsFunction(obj: any): boolean {\n\t\treturn obj instanceof AVM1Function;\n\t}\n\n\texport function alCallProperty(obj: AVM1Object, p: any, args?: any[]): any {\n\t\tlet callable: IAVM1Callable = obj.alGet(p);\n\t\tcallable.alCall(obj, args);\n\t}\n\n\texport function alInstanceOf(context: IAVM1Context, obj: any, cls: any): boolean {\n\t\tif (!(obj instanceof AVM1Object)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!(cls instanceof AVM1Object)) {\n\t\t\treturn false;\n\t\t}\n\t\tlet proto = cls.alGetPrototypeProperty();\n\t\tfor (let i = obj; i; i = i.alPrototype) {\n\t\t\tif (i === proto) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\texport function alIsArray(context: IAVM1Context, v: any): boolean {\n\t\treturn alInstanceOf(context, v, context.builtins.Array);\n\t}\n\n\texport function alIsArrayLike(context: IAVM1Context, v: any): boolean {\n\t\tif (!(v instanceof AVM1Object)) {\n\t\t\treturn false;\n\t\t}\n\t\tlet length = alToInteger(context, v.alGet('length'));\n\t\tif (isNaN(length) || length < 0 || length >= 4294967296) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\texport function alIterateArray(context: IAVM1Context, arr: AVM1Object,\n\t                               fn: (obj: any, index?: number) => void, thisArg: any = null): void {\n\t\tlet length = alToInteger(context, arr.alGet('length'));\n\t\tif (isNaN(length) || length >= 4294967296) {\n\t\t\treturn;\n\t\t}\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tfn.call(thisArg, arr.alGet(i), i);\n\t\t}\n\t}\n\n\texport function alIsString(context: IAVM1Context, v: any): boolean {\n\t\treturn typeof v === 'string';\n\t}\n\n\texport function alDefineObjectProperties(obj: AVM1Object, descriptors: any): void {\n\t\tlet context = obj.context;\n\t\tObject.getOwnPropertyNames(descriptors).forEach(function (name) {\n\t\t\tlet desc = descriptors[name];\n\t\t\tlet value, getter, setter;\n\t\t\tlet flags: AVM1PropertyFlags = 0;\n\t\t\tif (typeof desc === 'object') {\n\t\t\t\tif (desc.get || desc.set) {\n\t\t\t\t\tgetter = desc.get ? new AVM1NativeFunction(context, desc.get) : undefined;\n\t\t\t\t\tsetter = desc.set ? new AVM1NativeFunction(context, desc.set) : undefined;\n\t\t\t\t\tflags |= AVM1PropertyFlags.ACCESSOR;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = desc.value;\n\t\t\t\t\tif (typeof value === 'function') {\n\t\t\t\t\t\tvalue = new AVM1NativeFunction(context, value);\n\t\t\t\t\t}\n\t\t\t\t\tflags |= AVM1PropertyFlags.DATA;\n\t\t\t\t\tif (!desc.writable) {\n\t\t\t\t\t\tflags |= AVM1PropertyFlags.READ_ONLY;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!desc.enumerable) {\n\t\t\t\t\tflags |= AVM1PropertyFlags.DONT_ENUM;\n\t\t\t\t}\n\t\t\t\tif (!desc.configurable) {\n\t\t\t\t\tflags |= AVM1PropertyFlags.DONT_DELETE;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvalue = desc;\n\t\t\t\tif (typeof value === 'function') {\n\t\t\t\t\tvalue = new AVM1NativeFunction(context, value);\n\t\t\t\t}\n\t\t\t\tflags |= AVM1PropertyFlags.DATA | AVM1PropertyFlags.DONT_DELETE |\n\t\t\t\t\tAVM1PropertyFlags.DONT_ENUM | AVM1PropertyFlags.READ_ONLY;\n\t\t\t}\n\t\t\tobj.alSetOwnProperty(name, new AVM1PropertyDescriptor(flags, value, getter, setter));\n\t\t});\n\t}\n}\n","/*\n * Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Implementation of the built-in ActionScript classes. Here we will implement\n// functions and object prototypes that will be exposed to the AVM1 code.\n\nmodule Shumway.AVM1.Natives {\n\t// Object natives\n\n\tclass AVM1ObjectPrototype extends AVM1Object {\n\t\tpublic constructor(context: IAVM1Context) {\n\t\t\tsuper(context);\n\t\t\t// Initialization must be perfromed later after the Function creation.\n\t\t\t// See the _initializePrototype and createBuiltins below.\n\t\t}\n\n\t\t_initializePrototype() {\n\t\t\tlet context = this.context;\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tconstructor: {\n\t\t\t\t\tvalue: context.builtins.Object,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tvalueOf: {\n\t\t\t\t\tvalue: this._valueOf,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\ttoString: {\n\t\t\t\t\tvalue: this._toString,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\taddProperty: {\n\t\t\t\t\tvalue: this.addProperty\n\t\t\t\t},\n\t\t\t\thasOwnProperty: {\n\t\t\t\t\tvalue: this.hasOwnProperty\n\t\t\t\t},\n\t\t\t\tisPropertyEnumerable: {\n\t\t\t\t\tvalue: this.isPropertyEnumerable\n\t\t\t\t},\n\t\t\t\tisPrototypeOf: {\n\t\t\t\t\tvalue: this.isPrototypeOf\n\t\t\t\t},\n\t\t\t\tunwatch: {\n\t\t\t\t\tvalue: this.unwatch\n\t\t\t\t},\n\t\t\t\twatch: {\n\t\t\t\t\tvalue: this.watch\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tpublic _valueOf() {\n\t\t\treturn this;\n\t\t}\n\n\t\tpublic _toString() {\n\t\t\tif (alIsFunction(this)) {\n\t\t\t\t// Really weird case of functions.\n\t\t\t\treturn '[type ' + alGetObjectClass(this) + ']';\n\t\t\t}\n\t\t\treturn '[object ' + alGetObjectClass(this) + ']';\n\t\t}\n\n\t\tpublic addProperty(name: any, getter: any, setter: any) {\n\t\t\tif (typeof name !== 'string' || name === '') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!alIsFunction(getter)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!alIsFunction(setter) && setter !== null) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet desc = this.alGetOwnProperty(name);\n\t\t\tif (desc && !!(desc.flags & AVM1PropertyFlags.DONT_DELETE)) {\n\t\t\t\treturn false; // protected property\n\t\t\t}\n\t\t\tthis.alSetOwnProperty(name, new AVM1PropertyDescriptor(AVM1PropertyFlags.ACCESSOR, null,\n\t\t\t\tgetter, setter || undefined));\n\t\t\treturn true;\n\t\t}\n\n\t\tpublic hasOwnProperty(name: any): boolean {\n\t\t\treturn this.alHasOwnProperty(name);\n\t\t}\n\n\t\tpublic isPropertyEnumerable(name: any): boolean {\n\t\t\tlet desc = this.alGetProperty(name);\n\t\t\treturn !(desc.flags & AVM1PropertyFlags.DONT_ENUM);\n\t\t}\n\n\t\tpublic isPrototypeOf(theClass: AVM1Function): boolean {\n\t\t\treturn alInstanceOf(this.context, this, theClass);\n\t\t}\n\n\t\tpublic unwatch(name: string): boolean {\n\t\t\tname = alCoerceString(this.context, name);\n\t\t\treturn this.alRemotePropertyWatcher(name);\n\t\t}\n\n\t\tpublic watch(name: string, callback: AVM1Function, userData?: any): boolean {\n\t\t\tname = alCoerceString(this.context, name);\n\t\t\tif (!alIsFunction(callback)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn this.alAddPropertyWatcher(name, callback, userData);\n\t\t}\n\t}\n\n\texport class AVM1ObjectFunction extends AVM1Function {\n\t\tpublic constructor(context: IAVM1Context) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Function.alGetPrototypeProperty();\n\t\t\tlet proto = context.builtins.Object.alGetPrototypeProperty();\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tprototype: {\n\t\t\t\t\tvalue: proto\n\t\t\t\t},\n\t\t\t\tregisterClass: {\n\t\t\t\t\tvalue: this.registerClass\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tpublic registerClass(name: any, theClass: any) {\n\t\t\tthis.context.registerClass(name, theClass);\n\t\t}\n\n\t\tpublic alConstruct(args?: any[]): AVM1Object {\n\t\t\tif (args) {\n\t\t\t\tlet value = args[0];\n\t\t\t\tif (value instanceof AVM1Object) {\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t\tswitch (typeof value) {\n\t\t\t\t\tcase 'string':\n\t\t\t\t\tcase 'boolean':\n\t\t\t\t\tcase 'number':\n\t\t\t\t\t\treturn alToObject(this.context, value);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// null or undefined\n\t\t\treturn alNewObject(this.context);\n\t\t}\n\n\t\tpublic alCall(thisArg: any, args?: any[]): any {\n\t\t\tif (!args || args[0] === null || args[0] === undefined) {\n\t\t\t\treturn alNewObject(this.context);\n\t\t\t}\n\t\t\treturn alToObject(this.context, args[0]);\n\t\t}\n\t}\n\n\t// Function natives\n\n\tclass AVM1FunctionPrototype extends AVM1Object {\n\t\tpublic constructor(context: IAVM1Context) {\n\t\t\tsuper(context);\n\t\t}\n\n\t\t_initializePrototype() {\n\t\t\tlet context = this.context;\n\t\t\tthis.alPrototype = context.builtins.Object.alGetPrototypeProperty();\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tconstructor: {\n\t\t\t\t\tvalue: context.builtins.Function,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tcall: this.call,\n\t\t\t\tapply: this.apply\n\t\t\t});\n\t\t}\n\n\t\tpublic call(thisArg: any, ...args: any[]): any {\n\t\t\tlet fn = alEnsureType<AVM1Function>(this, AVM1Function);\n\t\t\treturn fn.alCall(thisArg, args);\n\t\t}\n\n\t\tpublic apply(thisArg: any, args?: AVM1ArrayNative): any {\n\t\t\tlet fn = alEnsureType<AVM1Function>(this, AVM1Function);\n\t\t\tlet nativeArgs = !args ? undefined :\n\t\t\t\talEnsureType<AVM1ArrayNative>(args, AVM1ArrayNative).value;\n\t\t\treturn fn.alCall(thisArg, nativeArgs);\n\t\t}\n\t}\n\n\texport class AVM1FunctionFunction extends AVM1Function {\n\t\tpublic constructor(context: IAVM1Context) {\n\t\t\tsuper(context);\n\n\t\t\tthis.alPrototype = context.builtins.Function.alGetPrototypeProperty();\n\t\t\tlet proto = context.builtins.Function.alGetPrototypeProperty();\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tprototype: {\n\t\t\t\t\tvalue: proto\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tpublic alConstruct(args?: any[]): AVM1Object {\n\t\t\t// ActionScript just returns the first argument.\n\t\t\treturn args ? args[0] : undefined;\n\t\t}\n\n\t\tpublic alCall(thisArg: any, args?: any[]): any {\n\t\t\t// ActionScript just returns the first argument.\n\t\t\treturn args ? args[0] : undefined;\n\t\t}\n\t}\n\n\t// Boolean natives\n\n\texport class AVM1BooleanNative extends AVM1Object {\n\t\tpublic value: boolean;\n\n\t\tpublic constructor(context: IAVM1Context, value: boolean) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Boolean.alGetPrototypeProperty();\n\t\t\tthis.alSetOwnConstructorProperty(context.builtins.Boolean);\n\t\t\tthis.value = value;\n\t\t}\n\n\t\tpublic valueOf(): any {\n\t\t\treturn this.value;\n\t\t}\n\t}\n\n\texport class AVM1BooleanPrototype extends AVM1Object {\n\t\tpublic constructor(context: IAVM1Context) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Object.alGetPrototypeProperty();\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tconstructor: {\n\t\t\t\t\tvalue: context.builtins.Boolean,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tvalueOf: {\n\t\t\t\t\tvalue: this._valueOf,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\ttoString: {\n\t\t\t\t\tvalue: this._toString,\n\t\t\t\t\twritable: true\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tpublic _valueOf() {\n\t\t\tlet native = alEnsureType<AVM1BooleanNative>(this, AVM1BooleanNative);\n\t\t\treturn native.value;\n\t\t}\n\n\t\tpublic _toString() {\n\t\t\tlet native = alEnsureType<AVM1BooleanNative>(this, AVM1BooleanNative);\n\t\t\treturn native.value ? 'true' : 'false';\n\t\t}\n\t}\n\n\texport class AVM1BooleanFunction extends AVM1Function {\n\t\tpublic constructor(context: IAVM1Context) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Function.alGetPrototypeProperty();\n\t\t\tlet proto = new AVM1BooleanPrototype(context);\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tprototype: {\n\t\t\t\t\tvalue: proto\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tpublic alConstruct(args?: any[]): AVM1Object {\n\t\t\tlet value = args ? alToBoolean(this.context, args[0]) : false;\n\t\t\treturn new AVM1BooleanNative(this.context, value);\n\t\t}\n\n\t\tpublic alCall(thisArg: any, args?: any[]): any {\n\t\t\t// TODO returns boolean value?\n\t\t\tlet value = args ? alToBoolean(this.context, args[0]) : false;\n\t\t\treturn value;\n\t\t}\n\t}\n\n\t// Number natives\n\n\texport class AVM1NumberNative extends AVM1Object {\n\t\tpublic value: number;\n\n\t\tpublic constructor(context: IAVM1Context, value: number) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Number.alGetPrototypeProperty();\n\t\t\tthis.alSetOwnConstructorProperty(context.builtins.Number);\n\t\t\tthis.value = value;\n\t\t}\n\n\t\tpublic valueOf(): any {\n\t\t\treturn this.value;\n\t\t}\n\t}\n\n\texport class AVM1NumberPrototype extends AVM1Object {\n\t\tpublic constructor(context: IAVM1Context) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Object.alGetPrototypeProperty();\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tconstructor: {\n\t\t\t\t\tvalue: context.builtins.Number,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tvalueOf: {\n\t\t\t\t\tvalue: this._valueOf,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\ttoString: {\n\t\t\t\t\tvalue: this._toString,\n\t\t\t\t\twritable: true\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tpublic _valueOf() {\n\t\t\tlet native = alEnsureType<AVM1NumberNative>(this, AVM1NumberNative);\n\t\t\treturn native.value;\n\t\t}\n\n\t\tpublic _toString(radix: number) {\n\t\t\tlet native = alEnsureType<AVM1NumberNative>(this, AVM1NumberNative);\n\t\t\treturn native.value.toString(radix || 10);\n\t\t}\n\t}\n\n\texport class AVM1NumberFunction extends AVM1Function {\n\t\tpublic constructor(context: IAVM1Context) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Function.alGetPrototypeProperty();\n\t\t\tlet proto = new AVM1NumberPrototype(context);\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tprototype: {\n\t\t\t\t\tvalue: proto\n\t\t\t\t},\n\t\t\t\tMAX_VALUE: Number.MAX_VALUE,\n\t\t\t\tMIN_VALUE: Number.MIN_VALUE,\n\t\t\t\tNaN: Number.NaN,\n\t\t\t\tNEGATIVE_INFINITY: Number.NEGATIVE_INFINITY,\n\t\t\t\tPOSITIVE_INFINITY: Number.POSITIVE_INFINITY\n\t\t\t});\n\n\t\t}\n\n\t\tpublic alConstruct(args?: any[]): AVM1Object {\n\t\t\tlet value = args ? alToNumber(this.context, args[0]) : 0;\n\t\t\treturn new AVM1NumberNative(this.context, value);\n\t\t}\n\n\t\tpublic alCall(thisArg: any, args?: any[]): any {\n\t\t\t// TODO returns number value?\n\t\t\tlet value = args ? alToNumber(this.context, args[0]) : 0;\n\t\t\treturn value;\n\t\t}\n\t}\n\n\t// String natives\n\n\texport class AVM1StringNative extends AVM1Object {\n\t\tpublic value: string;\n\n\t\tpublic constructor(context: IAVM1Context, value: string) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.String.alGetPrototypeProperty();\n\t\t\tthis.alSetOwnConstructorProperty(context.builtins.String);\n\t\t\tthis.value = value;\n\t\t}\n\n\t\tpublic toString(): string {\n\t\t\treturn this.value;\n\t\t}\n\t}\n\n\t// Most of the methods of String prototype are generic and accept any object.\n\texport class AVM1StringPrototype extends AVM1Object {\n\t\tpublic constructor(context: IAVM1Context) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Object.alGetPrototypeProperty();\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tconstructor: {\n\t\t\t\t\tvalue: context.builtins.String,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tvalueOf: {\n\t\t\t\t\tvalue: this._valueOf,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\ttoString: {\n\t\t\t\t\tvalue: this._toString,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tlength: {\n\t\t\t\t\tget: this.getLength\n\t\t\t\t},\n\t\t\t\tcharAt: {\n\t\t\t\t\tvalue: this.charAt,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tcharCodeAt: {\n\t\t\t\t\tvalue: this.charCodeAt,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tconcat: {\n\t\t\t\t\tvalue: this.concat,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tindexOf: {\n\t\t\t\t\tvalue: this.indexOf,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tlastIndexOf: {\n\t\t\t\t\tvalue: this.lastIndexOf,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tslice: {\n\t\t\t\t\tvalue: this.slice,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tsplit: {\n\t\t\t\t\tvalue: this.split,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tsubstr: {\n\t\t\t\t\tvalue: this.substr,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tsubstring: {\n\t\t\t\t\tvalue: this.substring,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\ttoLowerCase: {\n\t\t\t\t\tvalue: this.toLowerCase,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\ttoUpperCase: {\n\t\t\t\t\tvalue: this.toUpperCase,\n\t\t\t\t\twritable: true\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tpublic _valueOf() {\n\t\t\tlet native = alEnsureType<AVM1StringNative>(this, AVM1StringNative);\n\t\t\treturn native.value;\n\t\t}\n\n\t\tpublic _toString() {\n\t\t\tlet native = alEnsureType<AVM1StringNative>(this, AVM1StringNative);\n\t\t\treturn native.value;\n\t\t}\n\n\t\tpublic getLength(): number {\n\t\t\tlet native = alEnsureType<AVM1StringNative>(this, AVM1StringNative);\n\t\t\treturn native.value.length;\n\t\t}\n\n\t\tpublic charAt(index: number): string {\n\t\t\tlet value = alToString(this.context, this);\n\t\t\treturn value.charAt(alToInteger(this.context, index));\n\t\t}\n\n\t\tpublic charCodeAt(index: number): number {\n\t\t\tlet value = alToString(this.context, this);\n\t\t\treturn value.charCodeAt(alToInteger(this.context, index));\n\t\t}\n\n\t\tpublic concat(...items: AVM1Object[]): string {\n\t\t\tlet stringItems: string[] = [alToString(this.context, this)];\n\t\t\tfor (let i = 0; i < items.length; ++i) {\n\t\t\t\tstringItems.push(alToString(this.context, items[i]));\n\t\t\t}\n\t\t\treturn stringItems.join('');\n\t\t}\n\n\t\tpublic indexOf(searchString: string, position?: number): number {\n\t\t\tlet value = alToString(this.context, this);\n\t\t\tsearchString = alToString(this.context, searchString);\n\t\t\tposition = alToInteger(this.context, position);\n\t\t\treturn value.indexOf(searchString, position);\n\t\t}\n\n\t\tpublic lastIndexOf(searchString: string, position?: number): number {\n\t\t\tlet value = alToString(this.context, this);\n\t\t\tsearchString = alToString(this.context, searchString);\n\t\t\tposition = arguments.length < 2 ? NaN : alToNumber(this.context, position); // SWF6 alToNumber(undefined) === 0\n\t\t\tif (position < 0) {\n\t\t\t\t// Different from JS\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\treturn value.lastIndexOf(searchString, isNaN(position) ? undefined : position);\n\t\t}\n\n\t\tpublic slice(start: number, end?: number): string {\n\t\t\tif (arguments.length === 0) {\n\t\t\t\t// Different from JS\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tlet value = alToString(this.context, this);\n\t\t\tstart = alToInteger(this.context, start);\n\t\t\tend = end === undefined ? undefined : alToInteger(this.context, end);\n\t\t\treturn value.slice(start, end);\n\t\t}\n\n\t\tpublic split(separator: any, limit?: number): AVM1ArrayNative {\n\t\t\tlet value = alToString(this.context, this);\n\t\t\t// TODO separator as regular expression?\n\t\t\tseparator = alToString(this.context, separator);\n\t\t\tlimit = (limit === undefined ? ~0 : alToInt32(this.context, limit)) >>> 0;\n\t\t\treturn new AVM1ArrayNative(this.context, value.split(separator, limit));\n\t\t}\n\n\t\tpublic substr(start: number, length?: number): string {\n\t\t\t// Different from JS\n\t\t\tlet value = alToString(this.context, this);\n\t\t\tlet valueLength = value.length;\n\t\t\tstart = alToInteger(this.context, start);\n\t\t\tlength = length === undefined ? valueLength : alToInteger(this.context, length);\n\t\t\tif (start < 0) {\n\t\t\t\tstart = Math.max(0, valueLength + start);\n\t\t\t}\n\t\t\tif (length < 0) {\n\t\t\t\tif (-length <= start) { // this one is weird -- don't ask\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t\tlength = Math.max(0, valueLength + length);\n\t\t\t}\n\t\t\treturn value.substr(start, length);\n\t\t}\n\n\t\tpublic substring(start: number, end?: number): string {\n\t\t\tlet value = alToString(this.context, this);\n\t\t\tstart = alToInteger(this.context, start);\n\t\t\tif (start >= value.length) {\n\t\t\t\t// Different from JS\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\tend = end === undefined ? undefined : alToInteger(this.context, end);\n\t\t\treturn value.substring(start, end);\n\t\t}\n\n\t\tpublic toLowerCase(): string {\n\t\t\tlet value = alToString(this.context, this);\n\t\t\treturn value.toLowerCase();\n\t\t}\n\n\t\tpublic toUpperCase(): string {\n\t\t\tlet value = alToString(this.context, this);\n\t\t\treturn value.toUpperCase();\n\t\t}\n\t}\n\n\texport class AVM1StringFunction extends AVM1Function {\n\t\tpublic constructor(context: IAVM1Context) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Function.alGetPrototypeProperty();\n\t\t\tlet proto = new AVM1StringPrototype(context);\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tprototype: {\n\t\t\t\t\tvalue: proto\n\t\t\t\t},\n\t\t\t\tfromCharCode: {\n\t\t\t\t\tvalue: this.fromCharCode\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tpublic alConstruct(args?: any[]): AVM1Object {\n\t\t\tlet value = args ? alToString(this.context, args[0]) : '';\n\t\t\treturn new AVM1StringNative(this.context, value);\n\t\t}\n\n\t\tpublic alCall(thisArg: any, args?: any[]): any {\n\t\t\tlet value = args ? alToString(this.context, args[0]) : '';\n\t\t\treturn value;\n\t\t}\n\n\t\tpublic fromCharCode(...codes: number[]): string {\n\t\t\tcodes = codes.map((code) => alToInt32(this.context, code) & 0xFFFF);\n\t\t\treturn String.fromCharCode.apply(String, codes);\n\t\t}\n\t}\n\n\t// Array natives\n\n\tlet cachedArrayPropertyDescriptor = new AVM1PropertyDescriptor(AVM1PropertyFlags.DATA,\n\t\tundefined);\n\n\texport class AVM1ArrayNative extends AVM1Object {\n\t\tpublic value: any[];\n\n\t\tpublic constructor(context: IAVM1Context, value: any[]) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Array.alGetPrototypeProperty();\n\t\t\tthis.alSetOwnConstructorProperty(context.builtins.Array);\n\t\t\tthis.value = value;\n\t\t}\n\n\t\tpublic alGetOwnProperty(p: any): AVM1PropertyDescriptor {\n\t\t\tif (alIsIndex(this.context, p)) {\n\t\t\t\tlet index = alToInt32(this.context, p);\n\t\t\t\tif (Object.getOwnPropertyDescriptor(this.value, <any>index)) {\n\t\t\t\t\tcachedArrayPropertyDescriptor.value = this.value[index];\n\t\t\t\t\treturn cachedArrayPropertyDescriptor;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn super.alGetOwnProperty(p);\n\t\t}\n\n\t\tpublic alSetOwnProperty(p: any, v: AVM1PropertyDescriptor) {\n\t\t\tif (alIsIndex(this.context, p)) {\n\t\t\t\tlet index = alToInt32(this.context, p);\n\t\t\t\tif (!(v.flags & AVM1PropertyFlags.DATA) ||\n\t\t\t\t\t!!(v.flags & AVM1PropertyFlags.DONT_ENUM) ||\n\t\t\t\t\t!!(v.flags & AVM1PropertyFlags.DONT_DELETE)) {\n\t\t\t\t\tthrow new Error('Special property is non-supported for array');\n\t\t\t\t}\n\t\t\t\tthis.value[index] = v.value;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsuper.alSetOwnProperty(p, v);\n\t\t}\n\n\t\tpublic alDeleteOwnProperty(p: any) {\n\t\t\tif (alIsIndex(this.context, p)) {\n\t\t\t\tlet index = alToInt32(this.context, p);\n\t\t\t\tdelete this.value[index];\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsuper.alDeleteOwnProperty(p);\n\t\t}\n\n\t\tpublic alGetOwnPropertiesKeys(): string[] {\n\t\t\tlet keys = super.alGetOwnPropertiesKeys();\n\t\t\tlet itemIndices = [];\n\t\t\tfor (let i in this.value) {\n\t\t\t\titemIndices.push(i);\n\t\t\t}\n\t\t\treturn itemIndices.concat(keys);\n\t\t}\n\n\t\t/**\n\t\t * Creates a JavaScript array from the AVM1 list object.\n\t\t * @param arr     An array-like AVM1 object.\n\t\t * @param fn      A function that converts AVM1 list object item to JavaScript object.\n\t\t * @param thisArg Optional. Value to use as this when executing fn.\n\t\t * @returns {any[]} A JavaScript array.\n\t\t */\n\t\tpublic static mapToJSArray(arr: AVM1Object, fn: (item: any, index?: number) => any, thisArg?: any): any[] {\n\t\t\tif (arr instanceof AVM1ArrayNative) {\n\t\t\t\treturn (<AVM1ArrayNative>arr).value.map(fn, thisArg);\n\t\t\t}\n\t\t\t// This method is generic, so array-like objects can use it.\n\t\t\tif (!alIsArrayLike(arr.context, arr)) {\n\t\t\t\t// TODO generate proper AVM1 exception.\n\t\t\t\tthrow new Error('Invalid type'); // Interpreter will catch this.\n\t\t\t}\n\t\t\tlet result: Array<any> = [];\n\t\t\talIterateArray(arr.context, arr, (item: any, index: number) => {\n\t\t\t\tresult.push(fn.call(thisArg, item, index));\n\t\t\t});\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tenum AVM1ArraySortOnOptions {\n\t\tCASEINSENSITIVE = 1,\n\t\tDESCENDING = 2,\n\t\tUNIQUESORT = 4,\n\t\tRETURNINDEXEDARRAY = 8,\n\t\tNUMERIC = 16\n\t}\n\n\t// TODO implement all the Array class and its prototype natives\n\n\texport class AVM1ArrayPrototype extends AVM1Object {\n\t\tpublic constructor(context: IAVM1Context) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Object.alGetPrototypeProperty();\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tconstructor: {\n\t\t\t\t\tvalue: context.builtins.Array,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tjoin: {\n\t\t\t\t\tvalue: this.join,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tlength: {\n\t\t\t\t\tget: this.getLength,\n\t\t\t\t\tset: this.setLength\n\t\t\t\t},\n\t\t\t\tconcat: {\n\t\t\t\t\tvalue: this.concat,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tpop: {\n\t\t\t\t\tvalue: this.pop,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tpush: {\n\t\t\t\t\tvalue: this.push,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tshift: {\n\t\t\t\t\tvalue: this.shift,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tslice: {\n\t\t\t\t\tvalue: this.slice,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tsplice: {\n\t\t\t\t\tvalue: this.splice,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tsort: {\n\t\t\t\t\tvalue: this.sort,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tsortOn: {\n\t\t\t\t\tvalue: this.sortOn,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\ttoString: {\n\t\t\t\t\tvalue: this._toString,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tunshift: {\n\t\t\t\t\tvalue: this.unshift,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tpublic _toString() {\n\t\t\tlet join = this.context.builtins.Array.alGetPrototypeProperty().alGet('join');\n\t\t\treturn join.alCall(this);\n\t\t}\n\n\t\tpublic getLength(): number {\n\t\t\tlet arr = alEnsureType<AVM1ArrayNative>(this, AVM1ArrayNative).value;\n\t\t\treturn arr.length;\n\t\t}\n\n\t\tpublic setLength(length: number) {\n\t\t\tif (!isIndex(length)) {\n\t\t\t\treturn; // no action on invalid length\n\t\t\t}\n\t\t\tlength = alToInt32(this.context, length) >>> 0;\n\n\t\t\tlet arr = alEnsureType<AVM1ArrayNative>(this, AVM1ArrayNative).value;\n\t\t\tarr.length = length;\n\t\t}\n\n\t\tpublic concat(...items: any[]): AVM1Object {\n\t\t\tif (this instanceof AVM1ArrayNative) {\n\t\t\t\t// Faster case for native array implementation\n\t\t\t\tlet arr = alEnsureType<AVM1ArrayNative>(this, AVM1ArrayNative).value;\n\t\t\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\t\t\tif (items[i] instanceof AVM1ArrayNative) {\n\t\t\t\t\t\titems[i] = alEnsureType<AVM1ArrayNative>(items[i], AVM1ArrayNative).value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn new AVM1ArrayNative(this.context,\n\t\t\t\t\tArray.prototype.concat.apply(arr, items));\n\t\t\t}\n\t\t\t// Generic behavior\n\t\t\tlet a: Array<any> = [];\n\t\t\tlet e: any = this;\n\t\t\tlet isArrayObject = alIsArrayLike(this.context, this);\n\t\t\tlet i = 0;\n\t\t\twhile (true) {\n\t\t\t\tif (isArrayObject) {\n\t\t\t\t\talIterateArray(this.context, e, (value) => a.push(value));\n\t\t\t\t} else {\n\t\t\t\t\ta.push(alToString(this.context, e));\n\t\t\t\t}\n\t\t\t\tif (i >= items.length) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\te = items[i++];\n\t\t\t\tisArrayObject = alIsArray(this.context, e); // not-logical behavior\n\t\t\t}\n\t\t\treturn new AVM1ArrayNative(this.context, a);\n\t\t}\n\n\t\tpublic join(separator?: string): string {\n\t\t\tseparator = separator === undefined ? ',' : alCoerceString(this.context, separator);\n\t\t\tif (this instanceof AVM1ArrayNative) {\n\t\t\t\t// Faster case for native array implementation\n\t\t\t\tlet arr = alEnsureType<AVM1ArrayNative>(this, AVM1ArrayNative).value;\n\t\t\t\tif (arr.length === 0) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t\tif (arr.every(function (i) {\n\t\t\t\t\t\treturn !(i instanceof AVM1Object);\n\t\t\t\t\t})) {\n\t\t\t\t\treturn arr.join(separator);\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet context = this.context;\n\t\t\tlet length = alToInt32(context, this.alGet('length')) >>> 0;\n\t\t\tif (length === 0) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\tlet result = [];\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tlet item = this.alGet(i);\n\t\t\t\tresult[i] = item === null || item === undefined ? '' : alCoerceString(context, item);\n\t\t\t}\n\t\t\treturn result.join(separator);\n\t\t}\n\n\t\tpublic pop(): any {\n\t\t\tif (this instanceof AVM1ArrayNative) {\n\t\t\t\t// Faster case for native array implementation\n\t\t\t\tlet arr = alEnsureType<AVM1ArrayNative>(this, AVM1ArrayNative).value;\n\t\t\t\treturn arr.pop();\n\t\t\t}\n\t\t\tlet length = alToInt32(this.context, this.alGet('length')) >>> 0;\n\t\t\tif (length === 0) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tlet i = length - 1;\n\t\t\tlet result = this.alGet(i);\n\t\t\tthis.alDeleteProperty(i);\n\t\t\tthis.alPut('length', i);\n\t\t\treturn result;\n\t\t}\n\n\t\tpublic push(...items: any[]): number {\n\t\t\tif (this instanceof AVM1ArrayNative) {\n\t\t\t\t// Faster case for native array implementation\n\t\t\t\tlet arr = alEnsureType<AVM1ArrayNative>(this, AVM1ArrayNative).value;\n\t\t\t\treturn Array.prototype.push.apply(arr, items);\n\t\t\t}\n\t\t\tlet length = alToInt32(this.context, this.alGet('length')) >>> 0;\n\t\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\t\tthis.alPut(length, items[i]);\n\t\t\t\tlength++; // TODO check overflow\n\t\t\t}\n\t\t\tthis.alPut('length', length);\n\t\t\treturn length;\n\t\t}\n\n\t\tpublic shift(): any {\n\t\t\tif (this instanceof AVM1ArrayNative) {\n\t\t\t\t// Faster case for native array implementation\n\t\t\t\tlet arr = alEnsureType<AVM1ArrayNative>(this, AVM1ArrayNative).value;\n\t\t\t\treturn arr.shift();\n\t\t\t}\n\t\t\tlet length = alToInt32(this.context, this.alGet('length')) >>> 0;\n\t\t\tif (length === 0) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tlet result = this.alGet(0);\n\t\t\tfor (let i = 1; i < length; i++) {\n\t\t\t\tif (this.alHasProperty(i)) {\n\t\t\t\t\tthis.alPut(i - 1, this.alGet(i));\n\t\t\t\t} else {\n\t\t\t\t\tthis.alDeleteProperty(i - 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.alDeleteProperty(length - 1);\n\t\t\tthis.alPut('length', length - 1);\n\t\t\treturn result;\n\t\t}\n\n\t\tpublic slice(start: number, end?: number): AVM1Object {\n\t\t\tstart = alToInteger(this.context, start);\n\t\t\tend = end !== undefined ? alToInteger(this.context, end) : undefined;\n\t\t\tif (this instanceof AVM1ArrayNative) {\n\t\t\t\t// Faster case for native array implementation\n\t\t\t\tlet arr = alEnsureType<AVM1ArrayNative>(this, AVM1ArrayNative).value;\n\t\t\t\treturn new AVM1ArrayNative(this.context, arr.slice(start, end));\n\t\t\t}\n\t\t\tlet a = [];\n\t\t\tlet length = alToInt32(this.context, this.alGet('length')) >>> 0;\n\t\t\tstart = start < 0 ? Math.max(length + start, 0) : Math.min(length, start);\n\t\t\tend = end === undefined ? length :\n\t\t\t\t(end < 0 ? Math.max(length + end, 0) : Math.min(length, end));\n\t\t\tfor (let i = start, j = 0; i < end; i++, j++) {\n\t\t\t\tif (this.alHasProperty(i)) {\n\t\t\t\t\ta[j] = this.alGet(i);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn new AVM1ArrayNative(this.context, a);\n\t\t}\n\n\t\tpublic splice(start: number, deleteCount: number, ...items: any[]): AVM1Object {\n\t\t\tstart = alToInteger(this.context, start);\n\t\t\tdeleteCount = alToInteger(this.context, deleteCount);\n\t\t\tif (this instanceof AVM1ArrayNative) {\n\t\t\t\t// Faster case for native array implementation\n\t\t\t\tlet arr = alEnsureType<AVM1ArrayNative>(this, AVM1ArrayNative).value;\n\t\t\t\treturn new AVM1ArrayNative(this.context,\n\t\t\t\t\tArray.prototype.splice.apply(arr, [start, deleteCount].concat(items)));\n\t\t\t}\n\t\t\tlet a = [];\n\t\t\tlet length = alToInt32(this.context, this.alGet('length')) >>> 0;\n\t\t\tstart = start < 0 ? Math.max(length + start, 0) : Math.min(length, start);\n\t\t\tdeleteCount = Math.min(Math.max(deleteCount, 0), length - start);\n\t\t\tfor (let i = 0; i < deleteCount; i++) {\n\t\t\t\tif (this.alHasProperty(start + i)) {\n\t\t\t\t\ta[i] = this.alGet(start + i);\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet delta = items.length - deleteCount;\n\t\t\tif (delta < 0) {\n\t\t\t\tfor (let i = start - delta; i < length; i++) {\n\t\t\t\t\tif (this.alHasProperty(i)) {\n\t\t\t\t\t\tthis.alPut(i + delta, this.alGet(i));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.alDeleteProperty(i + delta);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (let i = delta; i < 0; i++) {\n\t\t\t\t\tthis.alDeleteProperty(length + i);\n\t\t\t\t}\n\t\t\t} else if (delta > 0) {\n\t\t\t\t// TODO check overflow\n\t\t\t\tfor (let i = length - 1; i >= start + delta; i--) {\n\t\t\t\t\tif (this.alHasProperty(i)) {\n\t\t\t\t\t\tthis.alPut(i + delta, this.alGet(i));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.alDeleteProperty(i + delta);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\t\tthis.alPut(start + i, items[i]);\n\t\t\t}\n\t\t\tthis.alPut('length', length + delta);\n\t\t\treturn new AVM1ArrayNative(this.context, a);\n\t\t}\n\n\t\tpublic sort(comparefn?: AVM1Function): AVM1Object {\n\t\t\tlet arr = alEnsureType<AVM1ArrayNative>(this, AVM1ArrayNative).value;\n\t\t\tif (!alIsFunction(comparefn)) {\n\t\t\t\tarr.sort();\n\t\t\t} else {\n\t\t\t\tlet args: Array<any> = [undefined, undefined];\n\t\t\t\tarr.sort(function (a, b) {\n\t\t\t\t\targs[0] = a;\n\t\t\t\t\targs[1] = b;\n\t\t\t\t\treturn comparefn.alCall(null, args);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t\tpublic sortOn(fieldNames: AVM1Object, options: any): AVM1Object {\n\t\t\tlet context = this.context;\n\t\t\t// The field names and options we'll end up using.\n\t\t\tlet fieldNamesList: string[] = [];\n\t\t\tlet optionsList: number[] = [];\n\t\t\tif (alIsString(context, fieldNames)) {\n\t\t\t\tfieldNamesList = [alToString(context, fieldNames)];\n\t\t\t\toptionsList = [alToInt32(context, options)];\n\t\t\t} else if (alIsArray(context, fieldNames)) {\n\t\t\t\tfieldNamesList = [];\n\t\t\t\toptionsList = [];\n\t\t\t\tlet optionsArray: AVM1Object = alIsArray(context, options) ? options : null;\n\t\t\t\tlet length = alToInteger(context, fieldNames.alGet('length'));\n\t\t\t\tif (optionsArray) {\n\t\t\t\t\t// checking in length of fieldNames == options\n\t\t\t\t\tlet optionsLength = alToInteger(context, optionsArray.alGet('length'));\n\t\t\t\t\tif (length !== optionsLength) {\n\t\t\t\t\t\toptionsArray = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\t\tfieldNamesList.push(alToString(context, fieldNames.alGet(i)));\n\t\t\t\t\toptionsList.push(optionsArray ? alToInt32(context, optionsArray.alGet(i)) : 0);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Field parameters are incorrect.\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\t// TODO revisit this code\n\t\t\tlet optionsVal: number = optionsList[0];\n\t\t\trelease || Shumway.Debug.assertNotImplemented(!(optionsVal & AVM1ArraySortOnOptions.UNIQUESORT), \"UNIQUESORT\");\n\t\t\trelease || Shumway.Debug.assertNotImplemented(!(optionsVal & AVM1ArraySortOnOptions.RETURNINDEXEDARRAY), \"RETURNINDEXEDARRAY\");\n\n\t\t\tlet comparer = (a: any, b: any) => {\n\t\t\t\tlet aObj = alToObject(context, a);\n\t\t\t\tlet bObj = alToObject(context, b);\n\t\t\t\tif (!a || !b) {\n\t\t\t\t\treturn !a ? !b ? 0 : -1 : +1;\n\t\t\t\t}\n\t\t\t\tfor (let i = 0; i < fieldNamesList.length; i++) {\n\t\t\t\t\tlet aField = aObj.alGet(fieldNamesList[i]);\n\t\t\t\t\tlet bField = bObj.alGet(fieldNamesList[i]);\n\t\t\t\t\tlet result;\n\t\t\t\t\tif (optionsList[i] & AVM1ArraySortOnOptions.NUMERIC) {\n\t\t\t\t\t\tlet aNum = alToNumber(context, aField);\n\t\t\t\t\t\tlet bNum = alToNumber(context, bField);\n\t\t\t\t\t\tresult = aNum < bNum ? -1 : aNum > bNum ? +1 : 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet aStr = alToString(context, aField);\n\t\t\t\t\t\tlet bStr = alToString(context, bField);\n\t\t\t\t\t\tif (optionsList[i] & AVM1ArraySortOnOptions.CASEINSENSITIVE) {\n\t\t\t\t\t\t\taStr = aStr.toLowerCase();\n\t\t\t\t\t\t\tbStr = bStr.toLowerCase();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult = aStr < bStr ? -1 : aStr > bStr ? +1 : 0;\n\t\t\t\t\t}\n\t\t\t\t\tif (result !== 0) {\n\t\t\t\t\t\treturn !(optionsList[i] & AVM1ArraySortOnOptions.DESCENDING) ? result : -result;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t};\n\n\t\t\tlet arr = alEnsureType<AVM1ArrayNative>(this, AVM1ArrayNative).value;\n\t\t\tarr.sort(comparer);\n\n\t\t\t// Strange, the documentation said to do not return anything.\n\t\t\treturn this;\n\t\t}\n\n\t\tpublic unshift(...items: any[]): number {\n\t\t\tif (this instanceof AVM1ArrayNative) {\n\t\t\t\t// Faster case for native array implementation\n\t\t\t\tlet arr = alEnsureType<AVM1ArrayNative>(this, AVM1ArrayNative).value;\n\t\t\t\treturn Array.prototype.unshift.apply(arr, items);\n\t\t\t}\n\t\t\tlet length = alToInt32(this.context, this.alGet('length')) >>> 0;\n\t\t\tlet insertCount = items.length;\n\t\t\t// TODO check overflow\n\t\t\tfor (let i = length - 1; i >= 0; i--) {\n\t\t\t\tif (this.alHasProperty(i)) {\n\t\t\t\t\tthis.alPut(i + insertCount, this.alGet(i));\n\t\t\t\t} else {\n\t\t\t\t\tthis.alDeleteProperty(i + insertCount);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\t\tthis.alPut(i, items[i]);\n\t\t\t}\n\t\t\tlength += insertCount;\n\t\t\tthis.alPut('length', length); // ActionScript does not do that?\n\t\t\treturn length;\n\t\t}\n\t}\n\n\texport class AVM1ArrayFunction extends AVM1Function {\n\t\tpublic constructor(context: IAVM1Context) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Function.alGetPrototypeProperty();\n\t\t\tlet proto = new AVM1ArrayPrototype(context);\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tprototype: {\n\t\t\t\t\tvalue: proto\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tpublic alConstruct(args?: any[]): AVM1Object {\n\t\t\tif (!args) {\n\t\t\t\treturn new AVM1ArrayNative(this.context, []);\n\t\t\t}\n\t\t\tif (args.length === 1 && typeof args[0] === 'number') {\n\t\t\t\tlet len = args[0];\n\t\t\t\tif (len >>> 0 !== len) {\n\t\t\t\t\tthrow new Error('Range error'); // TODO avm1 native\n\t\t\t\t}\n\t\t\t\treturn new AVM1ArrayNative(this.context, new Array(len));\n\t\t\t}\n\t\t\treturn new AVM1ArrayNative(this.context, args);\n\t\t}\n\n\t\tpublic alCall(thisArg: any, args?: any[]): any {\n\t\t\treturn this.alConstruct.apply(this, args);\n\t\t}\n\t}\n\n\t// Math natives\n\n\tclass AVM1MathObject extends AVM1Object {\n\t\tpublic constructor(context: IAVM1Context) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Object.alGetPrototypeProperty();\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tE: Math.E,\n\t\t\t\tLN10: Math.LN10,\n\t\t\t\tLN2: Math.LN2,\n\t\t\t\tLOG10E: Math.LOG10E,\n\t\t\t\tLOG2E: Math.LOG2E,\n\t\t\t\tPI: Math.PI,\n\t\t\t\tSQRT1_2: Math.SQRT1_2,\n\t\t\t\tSQRT2: Math.SQRT2,\n\t\t\t\tabs: this.abs,\n\t\t\t\tacos: this.acos,\n\t\t\t\tasin: this.asin,\n\t\t\t\tatan: this.atan,\n\t\t\t\tatan2: this.atan2,\n\t\t\t\tceil: this.ceil,\n\t\t\t\tcos: this.cos,\n\t\t\t\texp: this.exp,\n\t\t\t\tfloor: this.floor,\n\t\t\t\tlog: this.log,\n\t\t\t\tmax: this.max,\n\t\t\t\tmin: this.min,\n\t\t\t\tpow: this.pow,\n\t\t\t\trandom: this.random,\n\t\t\t\tround: this.round,\n\t\t\t\tsin: this.sin,\n\t\t\t\tsqrt: this.sqrt,\n\t\t\t\ttan: this.tan\n\t\t\t});\n\t\t}\n\n\t\tpublic abs(x: number): number {\n\t\t\treturn Math.abs(alToNumber(this.context, x));\n\t\t}\n\n\t\tpublic acos(x: number): number {\n\t\t\treturn Math.acos(alToNumber(this.context, x));\n\t\t}\n\n\t\tpublic asin(x: number): number {\n\t\t\treturn Math.asin(alToNumber(this.context, x));\n\t\t}\n\n\t\tpublic atan(x: number): number {\n\t\t\treturn Math.atan(alToNumber(this.context, x));\n\t\t}\n\n\t\tpublic atan2(y: number, x: number): number {\n\t\t\treturn Math.atan2(alToNumber(this.context, y), alToNumber(this.context, x));\n\t\t}\n\n\t\tpublic ceil(x: number): number {\n\t\t\treturn Math.ceil(alToNumber(this.context, x));\n\t\t}\n\n\t\tpublic cos(x: number): number {\n\t\t\treturn Math.cos(alToNumber(this.context, x));\n\t\t}\n\n\t\tpublic exp(x: number): number {\n\t\t\treturn Math.exp(alToNumber(this.context, x));\n\t\t}\n\n\t\tpublic floor(x: number): number {\n\t\t\treturn Math.floor(alToNumber(this.context, x));\n\t\t}\n\n\t\tpublic log(x: number): number {\n\t\t\treturn Math.log(alToNumber(this.context, x));\n\t\t}\n\n\t\tpublic max(...values: number[]): number {\n\t\t\tvalues = values.map((x) => alToNumber(this.context, x));\n\t\t\treturn Math.max.apply(null, values);\n\t\t}\n\n\t\tpublic min(...values: number[]): number {\n\t\t\tvalues = values.map((x) => alToNumber(this.context, x));\n\t\t\treturn Math.min.apply(null, values);\n\t\t}\n\n\t\tpublic pow(x: number, y: number): number {\n\t\t\treturn Math.pow(alToNumber(this.context, x), alToNumber(this.context, y));\n\t\t}\n\n\t\tpublic random(): number {\n\t\t\treturn Math.random();\n\t\t}\n\n\t\tpublic round(x: number): number {\n\t\t\treturn Math.round(alToNumber(this.context, x));\n\t\t}\n\n\t\tpublic sin(x: number): number {\n\t\t\treturn Math.sin(alToNumber(this.context, x));\n\t\t}\n\n\t\tpublic sqrt(x: number): number {\n\t\t\treturn Math.sqrt(alToNumber(this.context, x));\n\t\t}\n\n\t\tpublic tan(x: number): number {\n\t\t\treturn Math.tan(alToNumber(this.context, x));\n\t\t}\n\t}\n\n\t// Date natives\n\n\tclass AVM1DateNative extends AVM1Object {\n\t\tpublic value: Date;\n\n\t\tpublic constructor(context: IAVM1Context, value: Date) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Date.alGetPrototypeProperty();\n\t\t\tthis.alSetOwnConstructorProperty(context.builtins.Date);\n\t\t\tthis.value = value;\n\t\t}\n\n\t\tpublic alDefaultValue(hint?: AVM1DefaultValueHint): any {\n\t\t\tif (hint !== undefined) {\n\t\t\t\treturn super.alDefaultValue(hint);\n\t\t\t}\n\n\t\t\tif (this.context.swfVersion >= 6) {\n\t\t\t\treturn super.alDefaultValue(AVM1DefaultValueHint.STRING);\n\t\t\t} else {\n\t\t\t\treturn super.alDefaultValue(AVM1DefaultValueHint.NUMBER);\n\t\t\t}\n\t\t}\n\t}\n\n\t// TODO implement all the Date class and its prototype natives\n\n\tclass AVM1DatePrototype extends AVM1Object {\n\t\tpublic constructor(context: IAVM1Context) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Object.alGetPrototypeProperty();\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tconstructor: {\n\t\t\t\t\tvalue: context.builtins.Date,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tvalueOf: {\n\t\t\t\t\tvalue: this._valueOf,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\ttoString: {\n\t\t\t\t\tvalue: this._toString,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\ttoLocaleString: {\n\t\t\t\t\tvalue: this._toLocaleString,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\ttoDateString: {\n\t\t\t\t\tvalue: this.toDateString,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\ttoTimeString: {\n\t\t\t\t\tvalue: this.toTimeString,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\ttoLocaleDateString: {\n\t\t\t\t\tvalue: this.toLocaleDateString,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\ttoLocaleTimeString: {\n\t\t\t\t\tvalue: this.toLocaleTimeString,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tgetTime: {\n\t\t\t\t\tvalue: this.getTime,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tgetFullYear: {\n\t\t\t\t\tvalue: this.getFullYear,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tgetUTCFullYear: {\n\t\t\t\t\tvalue: this.getUTCFullYear,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tgetMonth: {\n\t\t\t\t\tvalue: this.getMonth,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tgetUTCMonth: {\n\t\t\t\t\tvalue: this.getUTCMonth,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tgetDate: {\n\t\t\t\t\tvalue: this.getDate,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tgetUTCDate: {\n\t\t\t\t\tvalue: this.getUTCDate,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tgetDay: {\n\t\t\t\t\tvalue: this.getDay,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tgetUTCDay: {\n\t\t\t\t\tvalue: this.getUTCDay,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tgetHours: {\n\t\t\t\t\tvalue: this.getHours,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tgetUTCHours: {\n\t\t\t\t\tvalue: this.getUTCHours,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tgetMinutes: {\n\t\t\t\t\tvalue: this.getMinutes,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tgetUTCMinutes: {\n\t\t\t\t\tvalue: this.getUTCMinutes,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tgetSeconds: {\n\t\t\t\t\tvalue: this.getSeconds,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tgetUTCSeconds: {\n\t\t\t\t\tvalue: this.getUTCSeconds,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tgetMilliseconds: {\n\t\t\t\t\tvalue: this.getMilliseconds,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tgetUTCMilliseconds: {\n\t\t\t\t\tvalue: this.getUTCMilliseconds,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tgetTimezoneOffset: {\n\t\t\t\t\tvalue: this.getTimezoneOffset,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tsetTime: {\n\t\t\t\t\tvalue: this.setTime,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tsetMilliseconds: {\n\t\t\t\t\tvalue: this.setMilliseconds,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tsetUTCMilliseconds: {\n\t\t\t\t\tvalue: this.setUTCMilliseconds,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tsetSeconds: {\n\t\t\t\t\tvalue: this.setSeconds,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tsetUTCSeconds: {\n\t\t\t\t\tvalue: this.setUTCSeconds,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tsetMinutes: {\n\t\t\t\t\tvalue: this.setMinutes,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tsetUTCMinutes: {\n\t\t\t\t\tvalue: this.setUTCMinutes,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tsetHours: {\n\t\t\t\t\tvalue: this.setHours,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tsetUTCHours: {\n\t\t\t\t\tvalue: this.setUTCHours,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tsetDate: {\n\t\t\t\t\tvalue: this.setDate,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tsetUTCDate: {\n\t\t\t\t\tvalue: this.setUTCDate,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tsetMonth: {\n\t\t\t\t\tvalue: this.setMonth,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tsetUTCMonth: {\n\t\t\t\t\tvalue: this.setUTCMonth,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tsetFullYear: {\n\t\t\t\t\tvalue: this.setFullYear,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tsetUTCFullYear: {\n\t\t\t\t\tvalue: this.setUTCFullYear,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\ttoUTCString: {\n\t\t\t\t\tvalue: this.toUTCString,\n\t\t\t\t\twritable: true\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tpublic _valueOf() {\n\t\t\tlet native = alEnsureType<AVM1DateNative>(this, AVM1DateNative);\n\t\t\treturn native.value.valueOf();\n\t\t}\n\n\t\tpublic _toString() {\n\t\t\tlet native = alEnsureType<AVM1DateNative>(this, AVM1DateNative);\n\t\t\treturn native.value.toString();\n\t\t}\n\n\t\tpublic _toLocaleString(): string {\n\t\t\tlet native = alEnsureType<AVM1DateNative>(this, AVM1DateNative);\n\t\t\treturn native.value.toLocaleString();\n\t\t}\n\n\t\tpublic toDateString(): string {\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.toDateString();\n\t\t}\n\n\t\tpublic toTimeString(): string {\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.toTimeString();\n\t\t}\n\n\t\tpublic toLocaleDateString(): string {\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.toLocaleDateString();\n\t\t}\n\n\t\tpublic toLocaleTimeString(): string {\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.toLocaleTimeString();\n\t\t}\n\n\t\tpublic getTime(): number {\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.getTime();\n\t\t}\n\n\t\tpublic getFullYear(): number {\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.getFullYear();\n\t\t}\n\n\t\tpublic getUTCFullYear(): number {\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.getUTCFullYear();\n\t\t}\n\n\t\tpublic getMonth(): number {\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.getMonth();\n\t\t}\n\n\t\tpublic getUTCMonth(): number {\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.getUTCMonth();\n\t\t}\n\n\t\tpublic getDate(): number {\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.getDate();\n\t\t}\n\n\t\tpublic getUTCDate(): number {\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.getUTCDate();\n\t\t}\n\n\t\tpublic getDay(): number {\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.getDay();\n\t\t}\n\n\t\tpublic getUTCDay(): number {\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.getUTCDay();\n\t\t}\n\n\t\tpublic getHours(): number {\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.getHours();\n\t\t}\n\n\t\tpublic getUTCHours(): number {\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.getUTCHours();\n\t\t}\n\n\t\tpublic getMinutes(): number {\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.getMinutes();\n\t\t}\n\n\t\tpublic getUTCMinutes(): number {\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.getUTCMinutes();\n\t\t}\n\n\t\tpublic getSeconds(): number {\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.getSeconds();\n\t\t}\n\n\t\tpublic getUTCSeconds(): number {\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.getUTCSeconds();\n\t\t}\n\n\t\tpublic getMilliseconds(): number {\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.getMilliseconds();\n\t\t}\n\n\t\tpublic getUTCMilliseconds(): number {\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.getUTCMilliseconds();\n\t\t}\n\n\t\tpublic getTimezoneOffset(): number {\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.getTimezoneOffset();\n\t\t}\n\n\t\tpublic setTime(time: number): number {\n\t\t\ttime = alToNumber(this.context, time);\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setTime(time);\n\t\t}\n\n\t\tpublic setMilliseconds(ms: number): number {\n\t\t\tms = alToNumber(this.context, ms);\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setMilliseconds(ms);\n\t\t}\n\n\t\tpublic setUTCMilliseconds(ms: number): number {\n\t\t\tms = alToNumber(this.context, ms);\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setUTCMilliseconds(ms);\n\t\t}\n\n\t\tpublic setSeconds(sec: number, ms?: number): number {\n\t\t\tsec = alToNumber(this.context, sec);\n\t\t\tif (arguments.length <= 1) {\n\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setSeconds(sec);\n\t\t\t} else {\n\t\t\t\tms = alToNumber(this.context, ms);\n\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setSeconds(sec, ms);\n\t\t\t}\n\t\t}\n\n\t\tpublic setUTCSeconds(sec: number, ms?: number): number {\n\t\t\tsec = alToNumber(this.context, sec);\n\t\t\tif (arguments.length <= 1) {\n\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setUTCSeconds(sec);\n\t\t\t} else {\n\t\t\t\tms = alToNumber(this.context, ms);\n\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setUTCSeconds(sec, ms);\n\t\t\t}\n\t\t}\n\n\t\tpublic setMinutes(min: number, sec?: number, ms?: number): number {\n\t\t\tmin = alToNumber(this.context, min);\n\t\t\tif (arguments.length <= 1) {\n\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setMinutes(min);\n\t\t\t} else {\n\t\t\t\tsec = alToNumber(this.context, sec);\n\t\t\t\tif (arguments.length <= 2) {\n\t\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setMinutes(min, sec);\n\t\t\t\t} else {\n\t\t\t\t\tms = alToNumber(this.context, ms);\n\t\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setMinutes(min, sec, ms);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tpublic setUTCMinutes(min: number, sec?: number, ms?: number): number {\n\t\t\tmin = alToNumber(this.context, min);\n\t\t\tif (arguments.length <= 1) {\n\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setUTCMinutes(min);\n\t\t\t} else {\n\t\t\t\tsec = alToNumber(this.context, sec);\n\t\t\t\tif (arguments.length <= 2) {\n\t\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setUTCMinutes(min, sec);\n\t\t\t\t} else {\n\t\t\t\t\tms = alToNumber(this.context, ms);\n\t\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setUTCMinutes(min, sec, ms);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tpublic setHours(hour: number, min?: number, sec?: number, ms?: number): number {\n\t\t\thour = alToNumber(this.context, hour);\n\t\t\tif (arguments.length <= 1) {\n\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setHours(hour);\n\t\t\t} else {\n\t\t\t\tmin = alToNumber(this.context, min);\n\t\t\t\tif (arguments.length <= 2) {\n\t\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setHours(hour, min);\n\t\t\t\t} else {\n\t\t\t\t\tsec = alToNumber(this.context, sec);\n\t\t\t\t\tif (arguments.length <= 3) {\n\t\t\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setHours(hour, min, sec);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tms = alToNumber(this.context, ms);\n\t\t\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setHours(hour, min, sec, ms);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tpublic setUTCHours(hour: number, min?: number, sec?: number, ms?: number): number {\n\t\t\thour = alToNumber(this.context, hour);\n\t\t\tif (arguments.length <= 1) {\n\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setUTCHours(hour);\n\t\t\t} else {\n\t\t\t\tmin = alToNumber(this.context, min);\n\t\t\t\tif (arguments.length <= 2) {\n\t\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setUTCHours(hour, min);\n\t\t\t\t} else {\n\t\t\t\t\tsec = alToNumber(this.context, sec);\n\t\t\t\t\tif (arguments.length <= 3) {\n\t\t\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setUTCHours(hour, min, sec);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tms = alToNumber(this.context, ms);\n\t\t\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setUTCHours(hour, min, sec, ms);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tpublic setDate(date: number): number {\n\t\t\tdate = alToNumber(this.context, date);\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setDate(date);\n\t\t}\n\n\t\tpublic setUTCDate(date: number): number {\n\t\t\tdate = alToNumber(this.context, date);\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setUTCDate(date);\n\t\t}\n\n\t\tpublic setMonth(month: number, date?: number): number {\n\t\t\tmonth = alToNumber(this.context, month);\n\t\t\tif (arguments.length <= 1) {\n\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setMonth(month);\n\t\t\t} else {\n\t\t\t\tdate = alToNumber(this.context, date);\n\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setMonth(month, date);\n\t\t\t}\n\t\t}\n\n\t\tpublic setUTCMonth(month: number, date?: number): number {\n\t\t\tmonth = alToNumber(this.context, month);\n\t\t\tif (arguments.length <= 1) {\n\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setUTCMonth(month);\n\t\t\t} else {\n\t\t\t\tdate = alToNumber(this.context, date);\n\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setUTCMonth(month, date);\n\t\t\t}\n\t\t}\n\n\t\tpublic setFullYear(year: number, month?: number, date?: number): number {\n\t\t\tyear = alToNumber(this.context, year);\n\t\t\tif (arguments.length <= 1) {\n\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setFullYear(year);\n\t\t\t} else {\n\t\t\t\tmonth = alToNumber(this.context, month);\n\t\t\t\tif (arguments.length <= 2) {\n\t\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setFullYear(year, month);\n\t\t\t\t} else {\n\t\t\t\t\tdate = alToNumber(this.context, date);\n\t\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setFullYear(year, month, date);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tpublic setUTCFullYear(year: number, month?: number, date?: number): number {\n\t\t\tyear = alToNumber(this.context, year);\n\t\t\tif (arguments.length <= 1) {\n\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setUTCFullYear(year);\n\t\t\t} else {\n\t\t\t\tmonth = alToNumber(this.context, month);\n\t\t\t\tif (arguments.length <= 2) {\n\t\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setUTCFullYear(year, month);\n\t\t\t\t} else {\n\t\t\t\t\tdate = alToNumber(this.context, date);\n\t\t\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.setUTCFullYear(year, month, date);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tpublic toUTCString(): string {\n\t\t\treturn alEnsureType<AVM1DateNative>(this, AVM1DateNative).value.toUTCString();\n\t\t}\n\t}\n\n\tclass AVM1DateFunction extends AVM1Function {\n\t\tpublic constructor(context: IAVM1Context) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Function.alGetPrototypeProperty();\n\t\t\tlet proto = new AVM1DatePrototype(context);\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tprototype: {\n\t\t\t\t\tvalue: proto\n\t\t\t\t},\n\t\t\t\tUTC: {\n\t\t\t\t\tvalue: this._UTC,\n\t\t\t\t\twritable: true\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tpublic alConstruct(args?: any[]): AVM1Object {\n\t\t\tlet context = this.context;\n\t\t\tlet value: Date;\n\t\t\tswitch (args.length) {\n\t\t\t\tcase 0:\n\t\t\t\t\tvalue = new Date();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\t\tvalue = new Date(alToPrimitive(context, args[0]));\n\t\t\t\t\tbreak;\n\t\t\t\tdefault: // case 2-7\n\t\t\t\t\tlet numbers = [];\n\t\t\t\t\tfor (let i = 0; i < args.length; i++) {\n\t\t\t\t\t\tnumbers.push(alToNumber(context, args[i]));\n\t\t\t\t\t}\n\t\t\t\t\tvalue = new Date(\n\t\t\t\t\t\talToNumber(context, args[0]),\n\t\t\t\t\t\talToNumber(context, args[1]),\n\t\t\t\t\t\targs.length > 2 ? alToNumber(context, args[2]) : 1,\n\t\t\t\t\t\targs.length > 3 ? alToNumber(context, args[3]) : 0,\n\t\t\t\t\t\targs.length > 4 ? alToNumber(context, args[4]) : 0,\n\t\t\t\t\t\targs.length > 5 ? alToNumber(context, args[5]) : 0,\n\t\t\t\t\t\targs.length > 6 ? alToNumber(context, args[6]) : 0);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn new AVM1DateNative(context, value);\n\t\t}\n\n\t\tpublic alCall(thisArg: any, args?: any[]): any {\n\t\t\treturn alCallProperty(this.alConstruct.apply(this, args), 'toString');\n\t\t}\n\n\t\tpublic _UTC(year: number, month: number, date?: number, hours?: number, seconds?: number, ms?: number): number {\n\t\t\tlet context = this.context;\n\t\t\treturn Date.UTC(\n\t\t\t\talToNumber(context, arguments[0]),\n\t\t\t\talToNumber(context, arguments[1]),\n\t\t\t\targuments.length > 2 ? alToNumber(context, arguments[2]) : 1,\n\t\t\t\targuments.length > 3 ? alToNumber(context, arguments[3]) : 0,\n\t\t\t\targuments.length > 4 ? alToNumber(context, arguments[4]) : 0,\n\t\t\t\targuments.length > 5 ? alToNumber(context, arguments[5]) : 0,\n\t\t\t\targuments.length > 6 ? alToNumber(context, arguments[6]) : 0);\n\t\t}\n\t}\n\n\t// Error natives\n\n\texport class AVM1ErrorNative extends AVM1Object {\n\t\tpublic constructor(context: IAVM1Context, message: string) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Error.alGetPrototypeProperty();\n\t\t\tthis.alSetOwnConstructorProperty(context.builtins.Error);\n\t\t\tif (message !== undefined) {\n\t\t\t\tthis.alPut('message', message);\n\t\t\t}\n\t\t}\n\t}\n\n\texport class AVM1ErrorPrototype extends AVM1Object {\n\t\tpublic constructor(context: IAVM1Context) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Object.alGetPrototypeProperty();\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tconstructor: {\n\t\t\t\t\tvalue: context.builtins.Error,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tname: {\n\t\t\t\t\tvalue: 'Error',\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tmessage: {\n\t\t\t\t\tvalue: 'Error',\n\t\t\t\t\twritable: true,\n\t\t\t\t},\n\t\t\t\ttoString: {\n\t\t\t\t\tvalue: this._toString,\n\t\t\t\t\twritable: true\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tpublic _toString() {\n\t\t\treturn this.alGet('message');\n\t\t}\n\t}\n\n\texport class AVM1ErrorFunction extends AVM1Function {\n\t\tpublic constructor(context: IAVM1Context) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Function.alGetPrototypeProperty();\n\t\t\tlet proto = new AVM1ErrorPrototype(context);\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tprototype: {\n\t\t\t\t\tvalue: proto\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tpublic alConstruct(args?: any[]): AVM1Object {\n\t\t\tlet value: string = args && args[0] !== undefined ? alCoerceString(this.context, args[0]) : undefined;\n\t\t\treturn new AVM1ErrorNative(this.context, value);\n\t\t}\n\n\t\tpublic alCall(thisArg: any, args?: any[]): any {\n\t\t\tlet value: string = args && args[0] !== undefined ? alCoerceString(this.context, args[0]) : undefined;\n\t\t\treturn new AVM1ErrorNative(this.context, value);\n\t\t}\n\t}\n\n\tfunction alEnsureType<T extends AVM1Object>(obj: AVM1Object, cls: any /* typeof AVM1Object */): T {\n\t\tif (obj instanceof cls) {\n\t\t\treturn <any>obj;\n\t\t}\n\t\tthrow new Error('Invalid type');\n\t}\n\n\t/**\n\t * Installs built-ins on the AVM1Context. It shall be a first call before\n\t * any AVM1Object is instantiated.\n\t * @param {IAVM1Context} context\n\t */\n\texport function installBuiltins(context: IAVM1Context): void {\n\t\tlet builtins = context.builtins;\n\n\t\t// Resolving cyclic dependency between Object/Function functions and their prototypes.\n\t\tlet objectProto = new AVM1ObjectPrototype(context);\n\t\tlet dummyObject = new AVM1Object(context);\n\t\tdummyObject.alSetOwnPrototypeProperty(objectProto);\n\t\tbuiltins.Object = dummyObject;\n\t\tlet functionProto = new AVM1FunctionPrototype(context);\n\t\tlet dummyFunction = new AVM1Object(context);\n\t\tdummyFunction.alSetOwnPrototypeProperty(functionProto);\n\t\tbuiltins.Function = dummyFunction;\n\t\tobjectProto._initializePrototype();\n\t\tfunctionProto._initializePrototype();\n\n\t\tbuiltins.Object = new AVM1ObjectFunction(context);\n\t\tbuiltins.Function = new AVM1FunctionFunction(context);\n\t\tbuiltins.Boolean = new AVM1BooleanFunction(context);\n\t\tbuiltins.Number = new AVM1NumberFunction(context);\n\t\tbuiltins.String = new AVM1StringFunction(context);\n\t\tbuiltins.Array = new AVM1ArrayFunction(context);\n\t\tbuiltins.Date = new AVM1DateFunction(context);\n\t\tbuiltins.Math = new AVM1MathObject(context);\n\t\tbuiltins.Error = new AVM1ErrorFunction(context);\n\t}\n}\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule Shumway.AVM1 {\n\timport assert = Shumway.Debug.assert;\n\timport flash = Shumway.AVMX.AS.flash;\n\timport LookupChildOptions = Shumway.AVMX.AS.flash.display.LookupChildOptions;\n\n\timport AVM1MovieClip = Lib.AVM1MovieClip;\n\timport AVM1Globals = Lib.AVM1Globals;\n\n\texport class AVM1ActionsData {\n\t\tpublic ir: AnalyzerResults;\n\t\tpublic compiled: Function;\n\n\t\tconstructor(public bytes: Uint8Array, public id: string, public parent: AVM1ActionsData = null) {\n\t\t\trelease || assert(bytes instanceof Uint8Array);\n\t\t\tthis.ir = null;\n\t\t\tthis.compiled = null;\n\t\t}\n\t}\n\n\texport interface AVM1ExportedSymbol {\n\t\tsymbolId: number;\n\t\tsymbolProps: any;\n\t}\n\n\texport interface IAVM1RuntimeUtils {\n\t\thasProperty(obj: any, name: string): boolean;\n\n\t\tgetProperty(obj: any, name: string): any;\n\n\t\tsetProperty(obj: any, name: string, value: any): void;\n\n\t\twarn(msg: string): void;\n\t}\n\n\texport interface IAVM1EventPropertyObserver {\n\t\tonEventPropertyModified(name: string): void;\n\t}\n\n\texport class ActionsDataFactory {\n\t\tprivate _cache: WeakMap<Uint8Array, AVM1ActionsData> = new WeakMap<Uint8Array, AVM1ActionsData>();\n\n\t\tpublic createActionsData(bytes: Uint8Array, id: string, parent: AVM1ActionsData = null): AVM1ActionsData {\n\t\t\tlet actionsData = this._cache.get(bytes);\n\t\t\tif (!actionsData) {\n\t\t\t\tactionsData = new AVM1ActionsData(bytes, id, parent);\n\t\t\t\tthis._cache.set(bytes, actionsData);\n\t\t\t}\n\t\t\trelease || assert(actionsData.bytes === bytes && actionsData.id === id && actionsData.parent === parent);\n\t\t\treturn actionsData;\n\t\t}\n\t}\n\n\texport class AVM1Context implements IAVM1Context {\n\t\tpublic loaderInfo: Shumway.AVMX.AS.flash.display.LoaderInfo;\n\t\tpublic sec: ISecurityDomain;\n\t\tpublic globals: AVM1Globals;\n\t\tpublic builtins: IAVM1Builtins;\n\t\tpublic isPropertyCaseSensitive: boolean;\n\t\tpublic actionsDataFactory: ActionsDataFactory;\n\t\tpublic swfVersion: number;\n\t\tpublic levelsContainer: flash.display.AVM1Movie;\n\n\t\tprivate eventObservers: MapObject<IAVM1EventPropertyObserver[]>;\n\t\tprivate assets: MapObject<number>;\n\t\tprivate assetsSymbols: Array<any>;\n\t\tprivate assetsClasses: Array<any>;\n\t\tprivate staticStates: WeakMap<typeof AVM1Object, any>;\n\n\t\tconstructor(swfVersion: number) {\n\t\t\tthis.swfVersion = swfVersion;\n\t\t\tthis.globals = null;\n\t\t\tthis.actionsDataFactory = new ActionsDataFactory();\n\t\t\tif (swfVersion > 6) {\n\t\t\t\tthis.isPropertyCaseSensitive = true;\n\t\t\t\tthis.normalizeName = this.normalizeNameCaseSensitive;\n\t\t\t} else {\n\t\t\t\tthis.isPropertyCaseSensitive = false;\n\t\t\t\tthis._nameCache = Object.create(null);\n\t\t\t\tthis.normalizeName = this.normalizeNameCaseInsensitive;\n\t\t\t}\n\n\t\t\tthis.builtins = <any>{};\n\t\t\tShumway.AVM1.Natives.installBuiltins(this);\n\n\t\t\tthis.eventObservers = Object.create(null);\n\t\t\tthis.assets = {};\n\t\t\tthis.assetsSymbols = [];\n\t\t\tthis.assetsClasses = [];\n\t\t\tthis.staticStates = new WeakMap<typeof AVM1Object, any>();\n\t\t}\n\n\t\tpublic utils: IAVM1RuntimeUtils;\n\n\t\tpublic static create: (loaderInfo: Shumway.AVMX.AS.flash.display.LoaderInfo) => AVM1Context;\n\n\t\tpublic resolveTarget(target: any): any {\n\t\t}\n\n\t\tpublic resolveRoot(): any {\n\t\t}\n\n\t\tpublic checkTimeout() {\n\t\t}\n\n\t\tpublic executeActions(actionsData: AVM1ActionsData, scopeObj: any): void {\n\t\t}\n\n\t\tpublic executeFunction(fn: AVM1Function, thisArg: any, args: any): any {\n\t\t}\n\n\t\t/**\n\t\t * Normalize the name according to the current AVM1Context's settings.\n\t\t *\n\t\t * This entails coercing it to number or string. For SWF versions < 7, it also means converting\n\t\t * it to lower-case.\n\t\t * To avoid runtime checks, the implementation is set during context initialization based on\n\t\t * the SWF version.\n\t\t */\n\t\tpublic normalizeName: (name: any) => string;\n\n\t\tprivate normalizeNameCaseSensitive(name: any): string {\n\t\t\tswitch (typeof name) {\n\t\t\t\tcase 'number':\n\t\t\t\tcase 'string':\n\t\t\t\t\treturn name;\n\t\t\t\tdefault:\n\t\t\t\t\treturn alToString(this, name);\n\t\t\t}\n\t\t}\n\n\t\tprivate _nameCache: MapObject<string>;\n\n\t\tprivate normalizeNameCaseInsensitive(name: string): string {\n\t\t\tswitch (typeof name) {\n\t\t\t\tcase 'number':\n\t\t\t\t\treturn name;\n\t\t\t\tcase 'string':\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tname = alToString(this, name);\n\t\t\t}\n\t\t\tlet normalizedName = this._nameCache[name];\n\t\t\tif (normalizedName) {\n\t\t\t\treturn normalizedName;\n\t\t\t}\n\t\t\tnormalizedName = name.toLowerCase();\n\t\t\tthis._nameCache[name] = normalizedName;\n\t\t\treturn normalizedName;\n\t\t}\n\n\t\tprivate _getEventPropertyObservers(propertyName: string, create: boolean): IAVM1EventPropertyObserver[] {\n\t\t\tif (!this.isPropertyCaseSensitive) {\n\t\t\t\tpropertyName = propertyName.toLowerCase();\n\t\t\t}\n\t\t\tlet observers = this.eventObservers[propertyName];\n\t\t\tif (observers) {\n\t\t\t\treturn observers;\n\t\t\t}\n\t\t\tif (create) {\n\t\t\t\tobservers = [];\n\t\t\t\tthis.eventObservers[propertyName] = observers;\n\t\t\t\treturn observers;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tpublic registerEventPropertyObserver(propertyName: string, observer: IAVM1EventPropertyObserver): void {\n\t\t\tlet observers = this._getEventPropertyObservers(propertyName, true);\n\t\t\tobservers.push(observer);\n\t\t}\n\n\t\tpublic unregisterEventPropertyObserver(propertyName: string, observer: IAVM1EventPropertyObserver): void {\n\t\t\tlet observers = this._getEventPropertyObservers(propertyName, false);\n\t\t\tif (!observers) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet j = observers.indexOf(observer);\n\t\t\tif (j < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tobservers.splice(j, 1);\n\t\t}\n\n\t\tpublic broadcastEventPropertyChange(propertyName: string): void {\n\t\t\tlet observers = this._getEventPropertyObservers(propertyName, false);\n\t\t\tif (!observers) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tobservers.forEach((observer: IAVM1EventPropertyObserver) => observer.onEventPropertyModified(propertyName));\n\t\t}\n\n\t\tpublic addAsset(className: string, symbolId: number, symbolProps: any): void {\n\t\t\trelease || Debug.assert(typeof className === 'string' && !isNaN(symbolId));\n\t\t\tthis.assets[className.toLowerCase()] = symbolId;\n\t\t\tthis.assetsSymbols[symbolId] = symbolProps;\n\t\t}\n\n\t\tpublic registerClass(className: string, theClass: AVM1Object): void {\n\t\t\tclassName = alCoerceString(this, className);\n\t\t\tif (className === null) {\n\t\t\t\tthis.utils.warn('Cannot register class for symbol: className is missing');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tlet symbolId = this.assets[className.toLowerCase()];\n\t\t\tif (symbolId === undefined) {\n\t\t\t\tthis.utils.warn('Cannot register ' + className + ' class for symbol');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.assetsClasses[symbolId] = theClass;\n\t\t}\n\n\t\tpublic getSymbolClass(symbolId: number): AVM1Object {\n\t\t\treturn this.assetsClasses[symbolId] || null;\n\t\t}\n\n\t\tpublic getAsset(className: string): AVM1ExportedSymbol {\n\t\t\tclassName = alCoerceString(this, className);\n\t\t\tif (className === null) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tlet symbolId = this.assets[className.toLowerCase()];\n\t\t\tif (symbolId === undefined) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tlet symbol = this.assetsSymbols[symbolId];\n\t\t\tif (!symbol) {\n\t\t\t\tsymbol = this.loaderInfo.getSymbolById(symbolId);\n\t\t\t\tif (!symbol) {\n\t\t\t\t\tDebug.warning(\"Symbol \" + symbolId + \" is not defined.\");\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t\tthis.assetsSymbols[symbolId] = symbol;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tsymbolId: symbolId,\n\t\t\t\tsymbolProps: symbol\n\t\t\t};\n\t\t}\n\n\t\tpublic setStage(stage: Shumway.AVMX.AS.flash.display.Stage): void {\n\t\t\tLib.AVM1Key.bindStage(this, this.globals.Key, stage);\n\t\t\tLib.AVM1Mouse.bindStage(this, this.globals.Mouse, stage);\n\t\t\tLib.AVM1Stage.bindStage(this, this.globals.Stage, stage);\n\t\t}\n\n\t\tpublic getStaticState(cls: any): any {\n\t\t\tlet state = this.staticStates.get(cls);\n\t\t\tif (!state) {\n\t\t\t\tstate = Object.create(null);\n\t\t\t\tlet initStatic: Function = (<any>cls).alInitStatic;\n\t\t\t\tif (initStatic) {\n\t\t\t\t\tinitStatic.call(state, this);\n\t\t\t\t}\n\t\t\t\tthis.staticStates.set(cls, state);\n\t\t\t}\n\t\t\treturn state;\n\t\t}\n\n\t\tpublic resolveLevel(level: number): AVM1MovieClip {\n\t\t\trelease || Debug.assert(typeof level === 'number');\n\t\t\tlet as3Root = this.levelsContainer._getRootForLevel(level);\n\t\t\tif (!as3Root) {\n\t\t\t\tthis.utils.warn('Unable to resolve level ' + level + ' root');\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn <AVM1MovieClip>Lib.getAVM1Object(as3Root, this);\n\t\t}\n\t}\n}\n","/*\n * Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nmodule Shumway.AVM1 {\n\timport isNumeric = Shumway.isNumeric;\n\timport notImplemented = Shumway.Debug.notImplemented;\n\timport Telemetry = Shumway.Telemetry;\n\timport assert = Shumway.Debug.assert;\n\n\tdeclare let Proxy: any;\n\n\tdeclare class Error {\n\t\tconstructor(obj: string);\n\t}\n\n\tdeclare class InternalError extends Error {\n\t\tconstructor(obj: string);\n\t}\n\n\texport let Debugger = {\n\t\tpause: false,\n\t\tbreakpoints: {} as any\n\t};\n\n\tfunction avm1Warn(message: string, arg1?: any, arg2?: any, arg3?: any, arg4?: any) {\n\t\tif (avm1ErrorsEnabled.value) {\n\t\t\ttry {\n\t\t\t\tthrow new Error(message); // using throw as a way to break in browsers debugger\n\t\t\t} catch (e) { /* ignoring since handled */\n\t\t\t}\n\t\t}\n\t\tif (avm1WarningsEnabled.value) {\n\t\t\tDebug.warning.apply(console, arguments);\n\t\t}\n\t}\n\n\texport let MAX_AVM1_HANG_TIMEOUT = 1000;\n\texport let CHECK_AVM1_HANG_EVERY = 1000;\n\tlet MAX_AVM1_ERRORS_LIMIT = 1000;\n\tlet MAX_AVM1_STACK_LIMIT = 256;\n\n\tenum AVM1ScopeListItemFlags {\n\t\tDEFAULT = 0,\n\t\tTARGET = 1,\n\t\tREPLACE_TARGET = 2\n\t}\n\n\tclass AVM1ScopeListItem {\n\t\tflags: AVM1ScopeListItemFlags;\n\t\treplaceTargetBy: AVM1Object; // Very optional, set when REPLACE_TARGET used\n\n\t\tconstructor(public scope: AVM1Object, public previousScopeItem: AVM1ScopeListItem) {\n\t\t\tthis.flags = AVM1ScopeListItemFlags.DEFAULT;\n\t\t}\n\t}\n\n\t// Similar to function scope, mostly for 'this'.\n\tclass GlobalPropertiesScope extends AVM1Object {\n\t\tconstructor(context: AVM1Context, thisArg: AVM1Object) {\n\t\t\tsuper(context);\n\t\t\tthis.alSetOwnProperty('this', new AVM1PropertyDescriptor(AVM1PropertyFlags.DATA |\n\t\t\t\tAVM1PropertyFlags.DONT_ENUM |\n\t\t\t\tAVM1PropertyFlags.DONT_DELETE |\n\t\t\t\tAVM1PropertyFlags.READ_ONLY,\n\t\t\t\tthisArg));\n\t\t\tthis.alSetOwnProperty('_global', new AVM1PropertyDescriptor(AVM1PropertyFlags.DATA |\n\t\t\t\tAVM1PropertyFlags.DONT_ENUM |\n\t\t\t\tAVM1PropertyFlags.DONT_DELETE |\n\t\t\t\tAVM1PropertyFlags.READ_ONLY,\n\t\t\t\tcontext.globals));\n\t\t}\n\t}\n\n\tclass AVM1CallFrame {\n\t\tpublic inSequence: boolean;\n\n\t\tpublic calleeThis: AVM1Object;\n\t\tpublic calleeSuper: AVM1Object; // set if super call was used\n\t\tpublic calleeFn: AVM1Function;\n\t\tpublic calleeArgs: any[];\n\n\t\tconstructor(public previousFrame: AVM1CallFrame,\n\t\t            public currentThis: AVM1Object,\n\t\t            public fn: AVM1Function,\n\t\t            public args: any[],\n\t\t            public ectx: ExecutionContext) {\n\t\t\tthis.inSequence = !previousFrame ? false :\n\t\t\t\t(previousFrame.calleeThis === currentThis && previousFrame.calleeFn === fn);\n\n\t\t\tthis.resetCallee();\n\t\t}\n\n\t\tsetCallee(thisArg: AVM1Object, superArg: AVM1Object, fn: AVM1Function, args: any[]) {\n\t\t\tthis.calleeThis = thisArg;\n\t\t\tthis.calleeSuper = superArg;\n\t\t\tthis.calleeFn = fn;\n\t\t\tif (!release) {\n\t\t\t\tthis.calleeArgs = args;\n\t\t\t}\n\t\t}\n\n\t\tresetCallee() {\n\t\t\tthis.calleeThis = null;\n\t\t\tthis.calleeSuper = null;\n\t\t\tthis.calleeFn = null;\n\t\t}\n\t}\n\n\tclass AVM1RuntimeUtilsImpl implements IAVM1RuntimeUtils {\n\t\tprivate _context: AVM1Context;\n\n\t\tconstructor(context: AVM1Context) {\n\t\t\tthis._context = context;\n\t\t}\n\n\t\tpublic hasProperty(obj: any, name: string): boolean {\n\t\t\treturn as2HasProperty(this._context, obj, name);\n\t\t}\n\n\t\tpublic getProperty(obj: any, name: string): any {\n\t\t\treturn as2GetProperty(this._context, obj, name);\n\t\t}\n\n\t\tpublic setProperty(obj: any, name: string, value: any): void {\n\t\t\treturn as2SetProperty(this._context, obj, name, value);\n\t\t}\n\n\t\tpublic warn(msg: string): void {\n\t\t\tavm1Warn.apply(null, arguments);\n\t\t}\n\t}\n\n\tclass AVM1ContextImpl extends AVM1Context {\n\t\tinitialScope: AVM1ScopeListItem;\n\t\tisActive: boolean;\n\t\texecutionProhibited: boolean;\n\t\tabortExecutionAt: number;\n\t\tactionTracer: ActionTracer;\n\t\tstackDepth: number;\n\t\tframe: AVM1CallFrame;\n\t\tisTryCatchListening: boolean;\n\t\terrorsIgnored: number;\n\t\tdeferScriptExecution: boolean;\n\t\tactions: Lib.AVM1NativeActions;\n\n\t\tconstructor(loaderInfo: Shumway.AVMX.AS.flash.display.LoaderInfo) {\n\t\t\tlet swfVersion = loaderInfo.swfVersion;\n\t\t\tsuper(swfVersion);\n\n\t\t\tthis.loaderInfo = loaderInfo;\n\t\t\tthis.sec = loaderInfo.sec; // REDUX:\n\t\t\tthis.globals = Lib.AVM1Globals.createGlobalsObject(this);\n\t\t\tthis.actions = new Lib.AVM1NativeActions(this);\n\t\t\tthis.initialScope = new AVM1ScopeListItem(this.globals, null);\n\t\t\tthis.utils = new AVM1RuntimeUtilsImpl(this);\n\t\t\tthis.isActive = false;\n\t\t\tthis.executionProhibited = false;\n\t\t\tthis.actionTracer = avm1TraceEnabled.value ? new ActionTracer() : null;\n\t\t\tthis.abortExecutionAt = 0;\n\t\t\tthis.stackDepth = 0;\n\t\t\tthis.frame = null;\n\t\t\tthis.isTryCatchListening = false;\n\t\t\tthis.errorsIgnored = 0;\n\t\t\tthis.deferScriptExecution = true;\n\t\t}\n\n\t\t_getExecutionContext(): ExecutionContext {\n\t\t\t// We probably entering this function from some native function,\n\t\t\t// so faking execution context. Let's reuse last created context.\n\t\t\treturn this.frame.ectx;\n\t\t}\n\n\t\tresolveTarget(target: any): any {\n\t\t\tlet ectx = this._getExecutionContext();\n\t\t\treturn avm1ResolveTarget(ectx, target, true);\n\t\t}\n\n\t\tresolveRoot(): any {\n\t\t\tlet ectx = this._getExecutionContext();\n\t\t\treturn avm1ResolveRoot(ectx);\n\t\t}\n\n\t\tcheckTimeout() {\n\t\t\tif (Date.now() >= this.abortExecutionAt) {\n\t\t\t\tthrow new AVM1CriticalError('long running script -- AVM1 instruction hang timeout');\n\t\t\t}\n\t\t}\n\n\t\tpushCallFrame(thisArg: AVM1Object, fn: AVM1Function, args: any[], ectx: ExecutionContext): AVM1CallFrame {\n\t\t\tlet nextFrame = new AVM1CallFrame(this.frame, thisArg, fn, args, ectx);\n\t\t\tthis.frame = nextFrame;\n\t\t\treturn nextFrame;\n\t\t}\n\n\t\tpopCallFrame() {\n\t\t\tlet previousFrame = this.frame.previousFrame;\n\t\t\tthis.frame = previousFrame;\n\t\t\treturn previousFrame;\n\t\t}\n\n\t\texecuteActions(actionsData: AVM1ActionsData, scopeObj: any): void {\n\t\t\tif (this.executionProhibited) {\n\t\t\t\treturn; // no more avm1 for this context\n\t\t\t}\n\n\t\t\tlet savedIsActive = this.isActive;\n\t\t\tif (!savedIsActive) {\n\t\t\t\tthis.isActive = true;\n\t\t\t\tthis.abortExecutionAt = avm1TimeoutDisabled.value ?\n\t\t\t\t\tNumber.MAX_VALUE : Date.now() + MAX_AVM1_HANG_TIMEOUT;\n\t\t\t\tthis.errorsIgnored = 0;\n\t\t\t}\n\t\t\tlet caughtError;\n\t\t\ttry {\n\t\t\t\texecuteActionsData(this, actionsData, scopeObj);\n\t\t\t} catch (e) {\n\t\t\t\tcaughtError = e;\n\t\t\t}\n\t\t\tthis.isActive = savedIsActive;\n\t\t\tif (caughtError) {\n\t\t\t\t// Note: this doesn't use `finally` because that's a no-go for performance.\n\t\t\t\tthrow caughtError;\n\t\t\t}\n\t\t}\n\n\t\tpublic executeFunction(fn: AVM1Function, thisArg: any, args: any[]): any {\n\t\t\tif (this.executionProhibited) {\n\t\t\t\treturn; // no more avm1 for this context\n\t\t\t}\n\n\t\t\tlet savedIsActive = this.isActive;\n\t\t\tif (!savedIsActive) {\n\t\t\t\tthis.isActive = true;\n\t\t\t\tthis.abortExecutionAt = avm1TimeoutDisabled.value ?\n\t\t\t\t\tNumber.MAX_VALUE : Date.now() + MAX_AVM1_HANG_TIMEOUT;\n\t\t\t\tthis.errorsIgnored = 0;\n\t\t\t}\n\t\t\tlet caughtError;\n\t\t\tlet result;\n\t\t\ttry {\n\t\t\t\tresult = fn.alCall(thisArg, args);\n\t\t\t} catch (e) {\n\t\t\t\tcaughtError = e;\n\t\t\t}\n\t\t\tthis.isActive = savedIsActive;\n\t\t\tif (caughtError) {\n\t\t\t\t// Note: this doesn't use `finally` because that's a no-go for performance.\n\t\t\t\tthrow caughtError;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tAVM1Context.create = function (loaderInfo: Shumway.AVMX.AS.flash.display.LoaderInfo): AVM1Context {\n\t\treturn new AVM1ContextImpl(loaderInfo);\n\t};\n\n\tclass AVM1Error {\n\t\tconstructor(public error: any) {\n\t\t}\n\t}\n\n\tclass AVM1CriticalError extends Error {\n\t\tconstructor(message: string, public error?: any) {\n\t\t\tsuper(message);\n\t\t}\n\t}\n\n\tfunction isAVM1MovieClip(obj: any): boolean {\n\t\treturn typeof obj === 'object' && obj &&\n\t\t\tobj instanceof Lib.AVM1MovieClip;\n\t}\n\n\tfunction as2GetType(v: any): string {\n\t\tif (v === null) {\n\t\t\treturn 'null';\n\t\t}\n\n\t\tlet type = typeof v;\n\t\tif (typeof v === 'object') {\n\t\t\tif (v instanceof Lib.AVM1MovieClip) {\n\t\t\t\treturn 'movieclip';\n\t\t\t}\n\t\t\tif (v instanceof AVM1Function) {\n\t\t\t\treturn 'function';\n\t\t\t}\n\t\t}\n\t\treturn type;\n\t}\n\n\tfunction as2ToAddPrimitive(context: AVM1Context, value: any): any {\n\t\treturn alToPrimitive(context, value);\n\t}\n\n\t/**\n\t * Performs \"less\" comparison of two arugments.\n\t * @returns {boolean} Returns true if x is less than y, otherwise false\n\t */\n\tfunction as2Compare(context: AVM1Context, x: any, y: any): boolean {\n\t\tlet x2 = alToPrimitive(context, x);\n\t\tlet y2 = alToPrimitive(context, y);\n\t\tif (typeof x2 === 'string' && typeof y2 === 'string') {\n\t\t\tlet xs = alToString(context, x2), ys = alToString(context, y2);\n\t\t\treturn xs < ys;\n\t\t} else {\n\t\t\tlet xn = alToNumber(context, x2), yn = alToNumber(context, y2);\n\t\t\treturn isNaN(xn) || isNaN(yn) ? undefined : xn < yn;\n\t\t}\n\t}\n\n\t/**\n\t * Performs equality comparison of two arugments. The equality comparison\n\t * algorithm from EcmaScript 3, Section 11.9.3 is applied.\n\t * http://ecma-international.org/publications/files/ECMA-ST-ARCH/ECMA-262,%203rd%20edition,%20December%201999.pdf#page=67\n\t * @returns {boolean} Coerces x and y to the same type and returns true if they're equal, false otherwise.\n\t */\n\tfunction as2Equals(context: AVM1Context, x: any, y: any): boolean {\n\t\t// Spec steps 1 through 13 can be condensed to ...\n\t\tif (typeof x === typeof y) {\n\t\t\treturn x === y;\n\t\t}\n\t\t// Spec steps 14 and 15.\n\t\tif (x == null && y == null) {\n\t\t\treturn true;\n\t\t}\n\t\t// Spec steps 16 and 17.\n\t\tif (typeof x === 'number' && typeof y === 'string') {\n\t\t\t// Unfolding the recursion for `as2Equals(context, x, alToNumber(y))`\n\t\t\treturn y === '' ? false : x === +y; // in AVM1, ToNumber('') === NaN\n\t\t}\n\t\tif (typeof x === 'string' && typeof y === 'number') {\n\t\t\t// Unfolding the recursion for `as2Equals(context, alToNumber(x), y)`\n\t\t\treturn x === '' ? false : +x === y; // in AVM1, ToNumber('') === NaN\n\t\t}\n\t\t// Spec step 18.\n\t\tif (typeof x === 'boolean') {\n\t\t\t// Unfolding the recursion for `as2Equals(context, alToNumber(x), y)`\n\t\t\tx = +x; // typeof x === 'number'\n\t\t\tif (typeof y === 'number' || typeof y === 'string') {\n\t\t\t\treturn y === '' ? false : x === +y;\n\t\t\t}\n\t\t\t// Fall through for typeof y === 'object', 'boolean', 'undefined' cases\n\t\t}\n\t\t// Spec step 19.\n\t\tif (typeof y === 'boolean') {\n\t\t\t// Unfolding the recursion for `as2Equals(context, x, alToNumber(y))`\n\t\t\ty = +y; // typeof y === 'number'\n\t\t\tif (typeof x === 'number' || typeof x === 'string') {\n\t\t\t\treturn x === '' ? false : +x === y;\n\t\t\t}\n\t\t\t// Fall through for typeof x === 'object', 'undefined' cases\n\t\t}\n\t\t// Spec step 20.\n\t\tif ((typeof x === 'number' || typeof x === 'string') &&\n\t\t\ttypeof y === 'object' && y !== null) {\n\t\t\ty = alToPrimitive(context, y);\n\t\t\tif (typeof y === 'object') {\n\t\t\t\treturn false; // avoiding infinite recursion\n\t\t\t}\n\t\t\treturn as2Equals(context, x, y);\n\t\t}\n\t\t// Spec step 21.\n\t\tif (typeof x === 'object' && x !== null &&\n\t\t\t(typeof y === 'number' || typeof y === 'string')) {\n\t\t\tx = alToPrimitive(context, x);\n\t\t\tif (typeof x === 'object') {\n\t\t\t\treturn false; // avoiding infinite recursion\n\t\t\t}\n\t\t\treturn as2Equals(context, x, y);\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction as2InstanceOf(obj: any, constructor: any): boolean {\n\t\t// TODO refactor this -- quick and dirty hack for now\n\t\tif (isNullOrUndefined(obj) || isNullOrUndefined(constructor)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (constructor === Shumway.AVMX.AS.ASString) {\n\t\t\treturn typeof obj === 'string';\n\t\t} else if (constructor === Shumway.AVMX.AS.ASNumber) {\n\t\t\treturn typeof obj === 'number';\n\t\t} else if (constructor === Shumway.AVMX.AS.ASBoolean) {\n\t\t\treturn typeof obj === 'boolean';\n\t\t} else if (constructor === Shumway.AVMX.AS.ASArray) {\n\t\t\treturn Array.isArray(obj);\n\t\t} else if (constructor === Shumway.AVMX.AS.ASFunction) {\n\t\t\treturn typeof obj === 'function';\n\t\t} else if (constructor === Shumway.AVMX.AS.ASObject) {\n\t\t\treturn typeof obj === 'object';\n\t\t}\n\n\t\tlet baseProto = constructor.alGetPrototypeProperty();\n\t\tif (!baseProto) {\n\t\t\treturn false;\n\t\t}\n\t\tlet proto = obj;\n\t\twhile (proto) {\n\t\t\tif (proto === baseProto) {\n\t\t\t\treturn true; // found the type if the chain\n\t\t\t}\n\t\t\tproto = proto.alPrototype;\n\t\t}\n\t\t// TODO interface check\n\t\treturn false;\n\t}\n\n\tfunction as2HasProperty(context: AVM1Context, obj: any, name: any): boolean {\n\t\tlet avm1Obj: AVM1Object = alToObject(context, obj);\n\t\tname = context.normalizeName(name);\n\t\treturn avm1Obj.alHasProperty(name);\n\t}\n\n\tfunction as2GetProperty(context: AVM1Context, obj: any, name: any): any {\n\t\tlet avm1Obj: AVM1Object = alToObject(context, obj);\n\t\treturn avm1Obj.alGet(name);\n\t}\n\n\tfunction as2SetProperty(context: AVM1Context, obj: any, name: any, value: any): void {\n\t\tlet avm1Obj: AVM1Object = alToObject(context, obj);\n\t\tavm1Obj.alPut(name, value);\n\t\tas2SyncEvents(context, name);\n\t}\n\n\tfunction as2DeleteProperty(context: AVM1Context, obj: any, name: any): any {\n\t\tlet avm1Obj: AVM1Object = alToObject(context, obj);\n\t\tname = context.normalizeName(name);\n\t\tlet result = avm1Obj.alDeleteProperty(name);\n\t\tas2SyncEvents(context, name);\n\t\treturn result;\n\t}\n\n\tfunction as2SyncEvents(context: AVM1Context, name: any): void {\n\t\tname = alCoerceString(context, name);\n\t\tif (name[0] !== 'o' || name[1] !== 'n') { // TODO check case?\n\t\t\treturn;\n\t\t}\n\t\t// Maybe an event property, trying to broadcast change.\n\t\t(<AVM1ContextImpl>context).broadcastEventPropertyChange(name);\n\t}\n\n\tfunction as2CastError(ex: any) {\n\t\tif (typeof InternalError !== 'undefined' &&\n\t\t\tex instanceof InternalError && (<any>ex).message === 'too much recursion') {\n\t\t\t// HACK converting too much recursion into AVM1CriticalError\n\t\t\treturn new AVM1CriticalError('long running script -- AVM1 recursion limit is reached');\n\t\t}\n\t\treturn ex;\n\t}\n\n\tfunction as2Construct(ctor: any, args: any) {\n\t\tlet result;\n\t\tif (alIsFunction(ctor)) {\n\t\t\tresult = (<AVM1Function>ctor).alConstruct(args);\n\t\t} else {\n\t\t\t// AVM1 simply ignores attempts to invoke non-methods.\n\t\t\treturn undefined;\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction as2Enumerate(obj: any, fn: (name: any) => void, thisArg: any): void {\n\t\tlet processed = Object.create(null); // TODO remove/refactor\n\t\talForEachProperty(obj, function (name) {\n\t\t\tif (processed[name]) {\n\t\t\t\treturn; // skipping already reported properties\n\t\t\t}\n\t\t\tfn.call(thisArg, name);\n\t\t\tprocessed[name] = true;\n\t\t}, thisArg);\n\t}\n\n\tfunction avm1FindSuperPropertyOwner(context: AVM1Context, frame: AVM1CallFrame, propertyName: string): AVM1Object {\n\t\tif (context.swfVersion < 6) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet proto: AVM1Object = (frame.inSequence && frame.previousFrame.calleeSuper);\n\t\tif (!proto) {\n\t\t\t// Finding first object in prototype chain link that has the property.\n\t\t\tproto = frame.currentThis;\n\t\t\twhile (proto && !proto.alHasOwnProperty(propertyName)) {\n\t\t\t\tproto = proto.alPrototype;\n\t\t\t}\n\t\t\tif (!proto) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\t// Skipping one chain link\n\t\tproto = proto.alPrototype;\n\t\treturn proto;\n\t}\n\n\tlet DEFAULT_REGISTER_COUNT = 4;\n\n\tfunction executeActionsData(context: AVM1ContextImpl, actionsData: AVM1ActionsData, scope: any) {\n\t\tlet actionTracer = context.actionTracer;\n\n\t\tlet globalPropertiesScopeList = new AVM1ScopeListItem(\n\t\t\tnew GlobalPropertiesScope(context, scope), context.initialScope);\n\t\tlet scopeList = new AVM1ScopeListItem(scope, globalPropertiesScopeList);\n\t\tscopeList.flags |= AVM1ScopeListItemFlags.TARGET;\n\t\tlet caughtError;\n\n\t\trelease || (actionTracer && actionTracer.message('ActionScript Execution Starts'));\n\t\trelease || (actionTracer && actionTracer.indent());\n\n\t\tlet ectx = ExecutionContext.create(context, scopeList, [], DEFAULT_REGISTER_COUNT);\n\t\tcontext.pushCallFrame(scope, null, null, ectx);\n\t\ttry {\n\t\t\tinterpretActionsData(ectx, actionsData);\n\t\t} catch (e) {\n\t\t\tcaughtError = as2CastError(e);\n\t\t}\n\t\tectx.dispose();\n\n\t\tif (caughtError instanceof AVM1CriticalError) {\n\t\t\tcontext.executionProhibited = true;\n\t\t\tconsole.error('Disabling AVM1 execution');\n\t\t}\n\t\tcontext.popCallFrame();\n\t\trelease || (actionTracer && actionTracer.unindent());\n\t\trelease || (actionTracer && actionTracer.message('ActionScript Execution Stops'));\n\t\tif (caughtError) {\n\t\t\t// Note: this doesn't use `finally` because that's a no-go for performance.\n\t\t\tthrow caughtError; // TODO shall we just ignore it?\n\t\t}\n\t}\n\n\tfunction createBuiltinType(context: AVM1Context, cls: any, args: any[]): any {\n\t\tlet builtins = context.builtins;\n\t\tlet obj = undefined;\n\t\tif (cls === builtins.Array || cls === builtins.Object ||\n\t\t\tcls === builtins.Date || cls === builtins.String ||\n\t\t\tcls === builtins.Function) {\n\t\t\tobj = cls.alConstruct(args);\n\t\t}\n\t\tif (cls === builtins.Boolean || cls === builtins.Number) {\n\t\t\tobj = cls.alConstruct(args).value;\n\t\t}\n\t\tif (obj instanceof AVM1Object) {\n\t\t\tlet desc = new AVM1PropertyDescriptor(AVM1PropertyFlags.DATA | AVM1PropertyFlags.DONT_ENUM,\n\t\t\t\tcls);\n\t\t\t(<AVM1Object>obj).alSetOwnProperty('__constructor__', desc);\n\t\t}\n\t\treturn obj;\n\t}\n\n\tclass AVM1SuperWrapper extends AVM1Object {\n\t\tpublic callFrame: AVM1CallFrame;\n\n\t\tpublic constructor(context: AVM1Context, callFrame: AVM1CallFrame) {\n\t\t\tsuper(context);\n\t\t\tthis.callFrame = callFrame;\n\t\t\tthis.alPrototype = context.builtins.Object.alGetPrototypeProperty();\n\t\t}\n\t}\n\n\tclass AVM1Arguments extends Natives.AVM1ArrayNative {\n\t\tpublic constructor(context: AVM1Context, args: any[],\n\t\t                   callee: AVM1Function, caller: AVM1Function) {\n\t\t\tsuper(context, args);\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tcallee: {\n\t\t\t\t\tvalue: callee\n\t\t\t\t},\n\t\t\t\tcaller: {\n\t\t\t\t\tvalue: caller\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tclass ExecutionContext {\n\t\tstatic MAX_CACHED_EXECUTIONCONTEXTS = 20;\n\t\tstatic cache: ExecutionContext[];\n\n\t\tstatic alInitStatic() {\n\t\t\tthis.cache = [];\n\t\t}\n\n\t\tcontext: AVM1ContextImpl;\n\t\tactions: Lib.AVM1NativeActions;\n\t\tscopeList: AVM1ScopeListItem;\n\t\tconstantPool: any[];\n\t\tregisters: any[];\n\t\tstack: any[];\n\t\tframe: AVM1CallFrame;\n\t\tisSwfVersion5: boolean;\n\t\trecoveringFromError: boolean;\n\t\tisEndOfActions: boolean;\n\n\t\tconstructor(context: AVM1ContextImpl, scopeList: AVM1ScopeListItem, constantPool: any[], registerCount: number) {\n\t\t\tthis.context = context;\n\t\t\tthis.actions = context.actions;\n\t\t\tthis.isSwfVersion5 = context.swfVersion >= 5;\n\t\t\tthis.registers = [];\n\t\t\tthis.stack = [];\n\t\t\tthis.frame = null;\n\t\t\tthis.recoveringFromError = false;\n\t\t\tthis.isEndOfActions = false;\n\n\t\t\tthis.reset(scopeList, constantPool, registerCount);\n\t\t}\n\n\t\treset(scopeList: AVM1ScopeListItem, constantPool: any[], registerCount: number) {\n\t\t\tthis.scopeList = scopeList;\n\t\t\tthis.constantPool = constantPool;\n\t\t\tthis.registers.length = registerCount;\n\t\t}\n\n\t\tclean(): void {\n\t\t\tthis.scopeList = null;\n\t\t\tthis.constantPool = null;\n\t\t\tthis.registers.length = 0;\n\t\t\tthis.stack.length = 0;\n\t\t\tthis.frame = null;\n\t\t\tthis.recoveringFromError = false;\n\t\t\tthis.isEndOfActions = false;\n\t\t}\n\n\t\tpushScope(newScopeList?: AVM1ScopeListItem): ExecutionContext {\n\t\t\tlet newContext = <ExecutionContext>Object.create(this);\n\t\t\tnewContext.stack = [];\n\t\t\tif (!isNullOrUndefined(newScopeList)) {\n\t\t\t\tnewContext.scopeList = newScopeList;\n\t\t\t}\n\t\t\treturn newContext;\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.clean();\n\t\t\tlet state: typeof ExecutionContext = this.context.getStaticState(ExecutionContext);\n\t\t\tif (state.cache.length < ExecutionContext.MAX_CACHED_EXECUTIONCONTEXTS) {\n\t\t\t\tstate.cache.push(this);\n\t\t\t}\n\t\t}\n\n\t\tstatic create(context: AVM1ContextImpl, scopeList: AVM1ScopeListItem, constantPool: any[], registerCount: number): ExecutionContext {\n\t\t\tlet state: typeof ExecutionContext = context.getStaticState(ExecutionContext);\n\t\t\tlet ectx: ExecutionContext;\n\t\t\tif (state.cache.length > 0) {\n\t\t\t\tectx = state.cache.pop();\n\t\t\t\tectx.reset(scopeList, constantPool, registerCount);\n\t\t\t} else {\n\t\t\t\tectx = new ExecutionContext(context, scopeList, constantPool, registerCount);\n\t\t\t}\n\t\t\treturn ectx;\n\t\t}\n\t}\n\n\t/**\n\t * Interpreted function closure.\n\t */\n\tclass AVM1InterpreterScope extends AVM1Object {\n\t\tconstructor(context: AVM1ContextImpl) {\n\t\t\tsuper(context);\n\t\t\tthis.alPut('toString', new AVM1NativeFunction(context, this._toString));\n\t\t}\n\n\t\t_toString() {\n\t\t\t// It shall return 'this'\n\t\t\treturn this;\n\t\t}\n\t}\n\n\tclass AVM1InterpretedFunction extends AVM1EvalFunction {\n\t\tfunctionName: string;\n\t\tactionsData: AVM1ActionsData;\n\t\tparametersNames: string[];\n\t\tregistersAllocation: ArgumentAssignment[];\n\t\tsuppressArguments: ArgumentAssignmentType;\n\n\t\tscopeList: AVM1ScopeListItem;\n\t\tconstantPool: any[];\n\t\tskipArguments: boolean[];\n\t\tregistersLength: number;\n\n\t\tconstructor(context: AVM1ContextImpl,\n\t\t            ectx: ExecutionContext,\n\t\t            actionsData: AVM1ActionsData,\n\t\t            functionName: string,\n\t\t            parametersNames: string[],\n\t\t            registersCount: number,\n\t\t            registersAllocation: ArgumentAssignment[],\n\t\t            suppressArguments: ArgumentAssignmentType) {\n\t\t\tsuper(context);\n\n\t\t\tthis.functionName = functionName;\n\t\t\tthis.actionsData = actionsData;\n\t\t\tthis.parametersNames = parametersNames;\n\t\t\tthis.registersAllocation = registersAllocation;\n\t\t\tthis.suppressArguments = suppressArguments;\n\n\t\t\tthis.scopeList = ectx.scopeList;\n\t\t\tthis.constantPool = ectx.constantPool;\n\n\t\t\tlet skipArguments: boolean[] = null;\n\t\t\tlet registersAllocationCount = !registersAllocation ? 0 : registersAllocation.length;\n\t\t\tfor (let i = 0; i < registersAllocationCount; i++) {\n\t\t\t\tlet registerAllocation = registersAllocation[i];\n\t\t\t\tif (registerAllocation &&\n\t\t\t\t\tregisterAllocation.type === ArgumentAssignmentType.Argument) {\n\t\t\t\t\tif (!skipArguments) {\n\t\t\t\t\t\tskipArguments = [];\n\t\t\t\t\t}\n\t\t\t\t\tskipArguments[registersAllocation[i].index] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.skipArguments = skipArguments;\n\n\t\t\tlet registersLength = Math.min(registersCount, 255); // max allowed for DefineFunction2\n\t\t\tregistersLength = Math.max(registersLength, registersAllocationCount + 1);\n\t\t\tthis.registersLength = registersLength;\n\t\t}\n\n\t\tpublic alCall(thisArg: any, args?: any[]): any {\n\t\t\tlet currentContext = <AVM1ContextImpl>this.context;\n\t\t\tif (currentContext.executionProhibited) {\n\t\t\t\treturn; // no more avm1 execution, ever\n\t\t\t}\n\n\t\t\tlet newScope = new AVM1InterpreterScope(currentContext);\n\t\t\tlet newScopeList = new AVM1ScopeListItem(newScope, this.scopeList);\n\t\t\tlet oldScope = this.scopeList.scope;\n\n\t\t\tthisArg = thisArg || oldScope; // REDUX no isGlobalObject check?\n\t\t\targs = args || [];\n\n\t\t\tlet ectx = ExecutionContext.create(currentContext, newScopeList,\n\t\t\t\tthis.constantPool, this.registersLength);\n\t\t\tlet caller = currentContext.frame ? currentContext.frame.fn : undefined;\n\t\t\tlet frame = currentContext.pushCallFrame(thisArg, this, args, ectx);\n\n\t\t\tlet supperWrapper;\n\t\t\tlet suppressArguments = this.suppressArguments;\n\t\t\tif (!(suppressArguments & ArgumentAssignmentType.Arguments)) {\n\t\t\t\tnewScope.alPut('arguments', new AVM1Arguments(currentContext, args, this, caller));\n\t\t\t}\n\t\t\tif (!(suppressArguments & ArgumentAssignmentType.This)) {\n\t\t\t\tnewScope.alPut('this', thisArg);\n\t\t\t}\n\t\t\tif (!(suppressArguments & ArgumentAssignmentType.Super)) {\n\t\t\t\tsupperWrapper = new AVM1SuperWrapper(currentContext, frame);\n\t\t\t\tnewScope.alPut('super', supperWrapper);\n\t\t\t}\n\n\t\t\tlet i;\n\t\t\tlet registers = ectx.registers;\n\t\t\tlet registersAllocation = this.registersAllocation;\n\t\t\tlet registersAllocationCount = !registersAllocation ? 0 : registersAllocation.length;\n\t\t\tfor (i = 0; i < registersAllocationCount; i++) {\n\t\t\t\tlet registerAllocation = registersAllocation[i];\n\t\t\t\tif (registerAllocation) {\n\t\t\t\t\tswitch (registerAllocation.type) {\n\t\t\t\t\t\tcase ArgumentAssignmentType.Argument:\n\t\t\t\t\t\t\tregisters[i] = args[registerAllocation.index];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase ArgumentAssignmentType.This:\n\t\t\t\t\t\t\tregisters[i] = thisArg;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase ArgumentAssignmentType.Arguments:\n\t\t\t\t\t\t\tregisters[i] = new AVM1Arguments(currentContext, args, this, caller);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase ArgumentAssignmentType.Super:\n\t\t\t\t\t\t\tsupperWrapper = supperWrapper || new AVM1SuperWrapper(currentContext, frame);\n\t\t\t\t\t\t\tregisters[i] = supperWrapper;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase ArgumentAssignmentType.Global:\n\t\t\t\t\t\t\tregisters[i] = currentContext.globals;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase ArgumentAssignmentType.Parent:\n\t\t\t\t\t\t\tregisters[i] = oldScope.alGet('_parent');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase ArgumentAssignmentType.Root:\n\t\t\t\t\t\t\tregisters[i] = avm1ResolveRoot(ectx);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet parametersNames = this.parametersNames;\n\t\t\tlet skipArguments = this.skipArguments;\n\t\t\tfor (i = 0; i < args.length || i < parametersNames.length; i++) {\n\t\t\t\tif (skipArguments && skipArguments[i]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tnewScope.alPut(parametersNames[i], args[i]);\n\t\t\t}\n\n\t\t\tlet result;\n\t\t\tlet caughtError;\n\t\t\tlet actionTracer = currentContext.actionTracer;\n\t\t\tlet actionsData = this.actionsData;\n\t\t\trelease || (actionTracer && actionTracer.indent());\n\t\t\tif (++currentContext.stackDepth >= MAX_AVM1_STACK_LIMIT) {\n\t\t\t\tthrow new AVM1CriticalError('long running script -- AVM1 recursion limit is reached');\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tresult = interpretActionsData(ectx, actionsData);\n\t\t\t} catch (e) {\n\t\t\t\tcaughtError = e;\n\t\t\t}\n\n\t\t\tcurrentContext.stackDepth--;\n\t\t\tcurrentContext.popCallFrame();\n\t\t\tectx.dispose();\n\t\t\trelease || (actionTracer && actionTracer.unindent());\n\t\t\tif (caughtError) {\n\t\t\t\t// Note: this doesn't use `finally` because that's a no-go for performance.\n\t\t\t\tthrow caughtError;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tfunction fixArgsCount(numArgs: number /* int */, maxAmount: number): number {\n\t\tif (isNaN(numArgs) || numArgs < 0) {\n\t\t\tavm1Warn('Invalid amount of arguments: ' + numArgs);\n\t\t\treturn 0;\n\t\t}\n\t\tnumArgs |= 0;\n\t\tif (numArgs > maxAmount) {\n\t\t\tavm1Warn('Truncating amount of arguments: from ' + numArgs + ' to ' + maxAmount);\n\t\t\treturn maxAmount;\n\t\t}\n\t\treturn numArgs;\n\t}\n\n\tfunction avm1ReadFunctionArgs(stack: any[]) {\n\t\tlet numArgs = +stack.pop();\n\t\tnumArgs = fixArgsCount(numArgs, stack.length);\n\t\tlet args = [];\n\t\tfor (let i = 0; i < numArgs; i++) {\n\t\t\targs.push(stack.pop());\n\t\t}\n\t\treturn args;\n\t}\n\n\tfunction avm1SetTarget(ectx: ExecutionContext, targetPath: string) {\n\t\tlet newTarget = null;\n\t\tif (targetPath) {\n\t\t\ttry {\n\t\t\t\tnewTarget = avm1ResolveTarget(ectx, targetPath, false);\n\t\t\t\tif (!avm1IsTarget(newTarget)) {\n\t\t\t\t\tavm1Warn('Invalid AVM1 target object: ' + targetPath);\n\t\t\t\t\tnewTarget = undefined;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tavm1Warn('Unable to set target: ' + e);\n\t\t\t}\n\t\t}\n\n\t\tif (newTarget) {\n\t\t\tectx.scopeList.flags |= AVM1ScopeListItemFlags.REPLACE_TARGET;\n\t\t\tectx.scopeList.replaceTargetBy = newTarget;\n\t\t} else {\n\t\t\tectx.scopeList.flags &= ~AVM1ScopeListItemFlags.REPLACE_TARGET;\n\t\t\tectx.scopeList.replaceTargetBy = null;\n\t\t}\n\t}\n\n\tfunction isGlobalObject(obj: any) {\n\t\treturn obj === this;\n\t}\n\n\tfunction avm1DefineFunction(ectx: ExecutionContext,\n\t                            actionsData: AVM1ActionsData,\n\t                            functionName: string,\n\t                            parametersNames: string[],\n\t                            registersCount: number,\n\t                            registersAllocation: ArgumentAssignment[],\n\t                            suppressArguments: ArgumentAssignmentType): AVM1Function {\n\t\treturn new AVM1InterpretedFunction(ectx.context, ectx, actionsData, functionName,\n\t\t\tparametersNames, registersCount, registersAllocation, suppressArguments);\n\t}\n\n\tfunction avm1VariableNameHasPath(variableName: string): boolean {\n\t\treturn variableName && (variableName.indexOf('.') >= 0 || variableName.indexOf(':') >= 0 || variableName.indexOf('/') >= 0 );\n\t}\n\n\tconst enum AVM1ResolveVariableFlags {\n\t\tREAD = 1,\n\t\tWRITE = 2,\n\t\tDELETE = READ,\n\t\tGET_VALUE = 32,\n\t\tDISALLOW_TARGET_OVERRIDE = 64,\n\t\tONLY_TARGETS = 128\n\t}\n\n\tinterface IAVM1ResolvedVariableResult {\n\t\tscope: AVM1Object;\n\t\tpropertyName: string;\n\t\tvalue: any;\n\t}\n\n\tlet cachedResolvedVariableResult: IAVM1ResolvedVariableResult = {\n\t\tscope: null,\n\t\tpropertyName: null,\n\t\tvalue: undefined\n\t};\n\n\tfunction avm1IsTarget(target: any): boolean {\n\t\t// TODO refactor\n\t\treturn target instanceof AVM1Object && Lib.hasAS3ObjectReference(target);\n\t}\n\n\tfunction avm1ResolveSimpleVariable(scopeList: AVM1ScopeListItem, variableName: string, flags: AVM1ResolveVariableFlags): IAVM1ResolvedVariableResult {\n\t\trelease || Debug.assert(alIsName(scopeList.scope.context, variableName));\n\t\tlet currentTarget;\n\t\tlet resolved = cachedResolvedVariableResult;\n\t\tfor (let p = scopeList; p; p = p.previousScopeItem) {\n\t\t\tif ((p.flags & AVM1ScopeListItemFlags.REPLACE_TARGET) &&\n\t\t\t\t!(flags & AVM1ResolveVariableFlags.DISALLOW_TARGET_OVERRIDE) &&\n\t\t\t\t!currentTarget) {\n\t\t\t\tcurrentTarget = p.replaceTargetBy;\n\t\t\t}\n\t\t\tif ((p.flags & AVM1ScopeListItemFlags.TARGET)) {\n\t\t\t\tif ((flags & AVM1ResolveVariableFlags.WRITE)) {\n\t\t\t\t\t// last scope/target we can modify (exclude globals)\n\t\t\t\t\tresolved.scope = currentTarget || p.scope;\n\t\t\t\t\tresolved.propertyName = variableName;\n\t\t\t\t\tresolved.value = (flags & AVM1ResolveVariableFlags.GET_VALUE) ? resolved.scope.alGet(variableName) : undefined;\n\t\t\t\t\treturn resolved;\n\t\t\t\t}\n\t\t\t\tif ((flags & AVM1ResolveVariableFlags.READ) && currentTarget) {\n\t\t\t\t\tif (currentTarget.alHasProperty(variableName)) {\n\t\t\t\t\t\tresolved.scope = currentTarget;\n\t\t\t\t\t\tresolved.propertyName = variableName;\n\t\t\t\t\t\tresolved.value = (flags & AVM1ResolveVariableFlags.GET_VALUE) ? currentTarget.alGet(variableName) : undefined;\n\t\t\t\t\t\treturn resolved;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (p.scope.alHasProperty(variableName)) {\n\t\t\t\tresolved.scope = p.scope;\n\t\t\t\tresolved.propertyName = variableName;\n\t\t\t\tresolved.value = (flags & AVM1ResolveVariableFlags.GET_VALUE) ? p.scope.alGet(variableName) : undefined;\n\t\t\t\treturn resolved;\n\t\t\t}\n\t\t}\n\n\t\trelease || Debug.assert(!(flags & AVM1ResolveVariableFlags.WRITE));\n\t\treturn undefined;\n\t}\n\n\tfunction avm1ResolveVariable(ectx: ExecutionContext, variableName: string, flags: AVM1ResolveVariableFlags): IAVM1ResolvedVariableResult {\n\t\t// For now it is just very much magical -- designed to pass some of the swfdec tests\n\t\t// FIXME refactor\n\t\trelease || Debug.assert(variableName);\n\t\t// Canonicalizing the name here is ok even for paths: the only thing that (potentially)\n\t\t// happens is that the name is converted to lower-case, which is always valid for paths.\n\t\t// The original name is saved because the final property name needs to be extracted from\n\t\t// it for property name paths.\n\t\tlet originalName = variableName;\n\t\tvariableName = ectx.context.normalizeName(variableName);\n\t\tif (!avm1VariableNameHasPath(variableName)) {\n\t\t\treturn avm1ResolveSimpleVariable(ectx.scopeList, variableName, flags);\n\t\t}\n\n\t\tlet i = 0, j = variableName.length;\n\t\tlet markedAsTarget = true;\n\t\tlet resolved, ch, needsScopeResolution;\n\t\tlet propertyName: any = null, scope: any = null, obj: any = undefined;\n\t\tif (variableName[0] === '/') {\n\t\t\tresolved = avm1ResolveSimpleVariable(ectx.scopeList, '_root', AVM1ResolveVariableFlags.READ | AVM1ResolveVariableFlags.GET_VALUE);\n\t\t\tif (resolved) {\n\t\t\t\tpropertyName = resolved.propertyName;\n\t\t\t\tscope = resolved.scope;\n\t\t\t\tobj = resolved.value;\n\t\t\t}\n\t\t\ti++;\n\t\t\tneedsScopeResolution = false;\n\t\t} else {\n\t\t\tresolved = null;\n\t\t\tneedsScopeResolution = true;\n\t\t}\n\n\t\tif (i >= j) {\n\t\t\treturn resolved;\n\t\t}\n\n\t\tlet q = i;\n\t\twhile (i < j) {\n\t\t\tif (!needsScopeResolution && !(obj instanceof AVM1Object)) {\n\t\t\t\tavm1Warn('Unable to resolve variable on invalid object ' + variableName.substring(q, i - 1) + ' (expr ' + variableName + ')');\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tlet propertyName;\n\t\t\tq = i;\n\t\t\tif (variableName[i] === '.' && variableName[i + 1] === '.') {\n\t\t\t\ti += 2;\n\t\t\t\tpropertyName = '_parent';\n\t\t\t} else {\n\t\t\t\twhile (i < j && ((ch = variableName[i]) !== '/' && ch !== '.' && ch !== ':')) {\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t\tpropertyName = variableName.substring(q, i);\n\t\t\t}\n\t\t\tif (propertyName === '' && i < j) {\n\t\t\t\t// Ignoring double delimiters in the middle of the path\n\t\t\t\ti++;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tscope = obj;\n\t\t\tlet valueFound = false;\n\n\t\t\tif (markedAsTarget) {\n\t\t\t\t// Trying movie clip children first\n\t\t\t\tlet child: any = obj instanceof Lib.AVM1MovieClip ? (<Lib.AVM1MovieClip>obj)._lookupChildByName(propertyName) : undefined;\n\t\t\t\tif (child) {\n\t\t\t\t\tvalueFound = true;\n\t\t\t\t\tobj = child;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!valueFound) {\n\t\t\t\tif (needsScopeResolution) {\n\t\t\t\t\tresolved = avm1ResolveSimpleVariable(ectx.scopeList, propertyName, flags);\n\t\t\t\t\tif (resolved) {\n\t\t\t\t\t\tvalueFound = true;\n\t\t\t\t\t\tpropertyName = resolved.propertyName;\n\t\t\t\t\t\tscope = resolved.scope;\n\t\t\t\t\t\tobj = resolved.value;\n\t\t\t\t\t}\n\t\t\t\t\tneedsScopeResolution = false;\n\t\t\t\t} else if (obj.alHasProperty(propertyName)) {\n\t\t\t\t\tobj = obj.alGet(propertyName);\n\t\t\t\t\tvalueFound = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!valueFound && propertyName[0] === '_') {\n\t\t\t\t// FIXME hacking to pass some swfdec test cases\n\t\t\t\tif (propertyName === '_level0') {\n\t\t\t\t\tobj = ectx.context.resolveLevel(0);\n\t\t\t\t\tvalueFound = true;\n\t\t\t\t} else if (propertyName === '_root') {\n\t\t\t\t\tobj = avm1ResolveRoot(ectx);\n\t\t\t\t\tvalueFound = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!valueFound && !(flags & AVM1ResolveVariableFlags.WRITE)) {\n\t\t\t\tavm1Warn('Unable to resolve ' + propertyName + ' on ' + variableName.substring(q, i - 1) +\n\t\t\t\t\t' (expr ' + variableName + ')');\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (i >= j) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tlet delimiter = variableName[i++];\n\t\t\tif (delimiter === '/' && ((ch = variableName[i]) === ':' || ch === '.')) {\n\t\t\t\tdelimiter = variableName[i++];\n\t\t\t}\n\t\t\tmarkedAsTarget = delimiter === '/';\n\t\t}\n\n\t\tresolved = cachedResolvedVariableResult;\n\t\tresolved.scope = scope;\n\t\tresolved.propertyName = originalName.substring(q, i);\n\t\tresolved.value = (flags & AVM1ResolveVariableFlags.GET_VALUE) ? obj : undefined;\n\t\treturn resolved;\n\t}\n\n\n\tfunction avm1GetTarget(ectx: ExecutionContext, allowOverride: boolean): AVM1Object {\n\t\tlet scopeList = ectx.scopeList;\n\t\tfor (let p = scopeList; p.previousScopeItem; p = p.previousScopeItem) {\n\t\t\tif ((p.flags & AVM1ScopeListItemFlags.REPLACE_TARGET) &&\n\t\t\t\tallowOverride) {\n\t\t\t\treturn p.replaceTargetBy;\n\t\t\t}\n\t\t\tif ((p.flags & AVM1ScopeListItemFlags.TARGET)) {\n\t\t\t\treturn p.scope;\n\t\t\t}\n\t\t}\n\n\t\trelease || Debug.assert(false, 'Shall not reach this statement');\n\t\treturn undefined;\n\t}\n\n\tfunction avm1ResolveTarget(ectx: ExecutionContext, target: any, fromCurrentTarget: boolean): AVM1Object {\n\t\tlet result: AVM1Object;\n\t\tif (avm1IsTarget(target)) {\n\t\t\tresult = target;\n\t\t} else {\n\t\t\ttarget = isNullOrUndefined(target) ? '' : alToString(this, target);\n\t\t\tif (target) {\n\t\t\t\tlet targetPath = alToString(ectx.context, target);\n\t\t\t\tlet resolved = avm1ResolveVariable(ectx, targetPath,\n\t\t\t\t\tAVM1ResolveVariableFlags.READ |\n\t\t\t\t\tAVM1ResolveVariableFlags.ONLY_TARGETS |\n\t\t\t\t\tAVM1ResolveVariableFlags.GET_VALUE |\n\t\t\t\t\t(fromCurrentTarget ? 0 : AVM1ResolveVariableFlags.DISALLOW_TARGET_OVERRIDE));\n\t\t\t\tif (!resolved || !avm1IsTarget(resolved.value)) {\n\t\t\t\t\tavm1Warn('Invalid AVM1 target object: ' + targetPath);\n\t\t\t\t\tresult = undefined;\n\t\t\t\t} else {\n\t\t\t\t\tresult = resolved.value;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresult = avm1GetTarget(ectx, true);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction avm1ResolveRoot(ectx: ExecutionContext): AVM1Object {\n\t\tlet target = avm1GetTarget(ectx, true);\n\t\treturn (<Lib.AVM1MovieClip>target).get_root();\n\t}\n\n\tfunction avm1ProcessWith(ectx: ExecutionContext, obj: any, withBlock: any) {\n\t\tif (isNullOrUndefined(obj)) {\n\t\t\t// Not executing anything in the block.\n\t\t\tavm1Warn('The with statement object cannot be undefined.');\n\t\t\treturn;\n\t\t}\n\t\tlet context = ectx.context;\n\t\tlet scopeList = ectx.scopeList;\n\n\t\tlet newScopeList = new AVM1ScopeListItem(alToObject(context, obj), scopeList);\n\t\tlet newEctx = ectx.pushScope(newScopeList);\n\t\tinterpretActionsData(newEctx, withBlock);\n\t}\n\n\tfunction avm1ProcessTry(ectx: ExecutionContext,\n\t                        catchIsRegisterFlag: any, finallyBlockFlag: any,\n\t                        catchBlockFlag: any, catchTarget: any,\n\t                        tryBlock: any, catchBlock: any, finallyBlock: any) {\n\t\tlet currentContext = ectx.context;\n\t\tlet scopeList = ectx.scopeList;\n\t\tlet registers = ectx.registers;\n\n\t\tlet savedTryCatchState = currentContext.isTryCatchListening;\n\t\tlet caughtError;\n\t\ttry {\n\t\t\tcurrentContext.isTryCatchListening = true;\n\t\t\tinterpretActionsData(ectx.pushScope(), tryBlock);\n\t\t} catch (e) {\n\t\t\tcurrentContext.isTryCatchListening = savedTryCatchState;\n\t\t\tif (!catchBlockFlag || !(e instanceof AVM1Error)) {\n\t\t\t\tcaughtError = e;\n\t\t\t} else {\n\t\t\t\tif (typeof catchTarget === 'string') { // TODO catchIsRegisterFlag?\n\t\t\t\t\tlet scope = scopeList.scope;\n\t\t\t\t\tscope.alPut(catchTarget, e.error);\n\t\t\t\t} else {\n\t\t\t\t\tregisters[catchTarget] = e.error;\n\t\t\t\t}\n\t\t\t\tinterpretActionsData(ectx.pushScope(), catchBlock);\n\t\t\t}\n\t\t}\n\t\tcurrentContext.isTryCatchListening = savedTryCatchState;\n\t\tif (finallyBlockFlag) {\n\t\t\tinterpretActionsData(ectx.pushScope(), finallyBlock);\n\t\t}\n\t\tif (caughtError) {\n\t\t\tthrow caughtError;\n\t\t}\n\t}\n\n\t// SWF 3 actions\n\tfunction avm1_0x81_ActionGotoFrame(ectx: ExecutionContext, args: any[]) {\n\t\tlet frame: number = args[0];\n\t\tlet play: boolean = args[1];\n\t\tif (play) {\n\t\t\tectx.actions.gotoAndPlay(frame + 1);\n\t\t} else {\n\t\t\tectx.actions.gotoAndStop(frame + 1);\n\t\t}\n\t}\n\n\tfunction avm1_0x83_ActionGetURL(ectx: ExecutionContext, args: any[]) {\n\t\tlet actions = ectx.actions;\n\n\t\tlet urlString: string = args[0];\n\t\tlet targetString: string = args[1];\n\t\tectx.actions.getURL(urlString, targetString);\n\t}\n\n\tfunction avm1_0x04_ActionNextFrame(ectx: ExecutionContext) {\n\t\tectx.actions.nextFrame();\n\t}\n\n\tfunction avm1_0x05_ActionPreviousFrame(ectx: ExecutionContext) {\n\t\tectx.actions.prevFrame();\n\t}\n\n\tfunction avm1_0x06_ActionPlay(ectx: ExecutionContext) {\n\t\tectx.actions.play();\n\t}\n\n\tfunction avm1_0x07_ActionStop(ectx: ExecutionContext) {\n\t\tectx.actions.stop();\n\t}\n\n\tfunction avm1_0x08_ActionToggleQuality(ectx: ExecutionContext) {\n\t\tectx.actions.toggleHighQuality();\n\t}\n\n\tfunction avm1_0x09_ActionStopSounds(ectx: ExecutionContext) {\n\t\tectx.actions.stopAllSounds();\n\t}\n\n\tfunction avm1_0x8A_ActionWaitForFrame(ectx: ExecutionContext, args: any[]) {\n\t\tlet frame: number = args[0];\n\t\tlet count: number = args[1];\n\t\treturn !ectx.actions.ifFrameLoaded(frame);\n\t}\n\n\tfunction avm1_0x8B_ActionSetTarget(ectx: ExecutionContext, args: any[]) {\n\t\tlet targetName: string = args[0];\n\t\tavm1SetTarget(ectx, targetName);\n\t}\n\n\tfunction avm1_0x8C_ActionGoToLabel(ectx: ExecutionContext, args: any[]) {\n\t\tlet label: string = args[0];\n\t\tlet play: boolean = args[1];\n\t\tif (play) {\n\t\t\tectx.actions.gotoAndPlay(label);\n\t\t} else {\n\t\t\tectx.actions.gotoAndStop(label);\n\t\t}\n\t}\n\n\t// SWF 4 actions\n\tfunction avm1_0x96_ActionPush(ectx: ExecutionContext, args: any[]) {\n\t\tlet registers = ectx.registers;\n\t\tlet constantPool = ectx.constantPool;\n\t\tlet stack = ectx.stack;\n\n\t\targs.forEach(function (value) {\n\t\t\tif (value instanceof ParsedPushConstantAction) {\n\t\t\t\tstack.push(constantPool[(<ParsedPushConstantAction> value).constantIndex]);\n\t\t\t} else if (value instanceof ParsedPushRegisterAction) {\n\t\t\t\tlet registerNumber = (<ParsedPushRegisterAction> value).registerNumber;\n\t\t\t\tif (registerNumber < 0 || registerNumber >= registers.length) {\n\t\t\t\t\tstack.push(undefined);\n\t\t\t\t} else {\n\t\t\t\t\tstack.push(registers[registerNumber]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tstack.push(value);\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction avm1_0x17_ActionPop(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tstack.pop();\n\t}\n\n\tfunction avm1_0x0A_ActionAdd(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet a = alToNumber(ectx.context, stack.pop());\n\t\tlet b = alToNumber(ectx.context, stack.pop());\n\t\tstack.push(a + b);\n\t}\n\n\tfunction avm1_0x0B_ActionSubtract(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet a = alToNumber(ectx.context, stack.pop());\n\t\tlet b = alToNumber(ectx.context, stack.pop());\n\t\tstack.push(b - a);\n\t}\n\n\tfunction avm1_0x0C_ActionMultiply(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet a = alToNumber(ectx.context, stack.pop());\n\t\tlet b = alToNumber(ectx.context, stack.pop());\n\t\tstack.push(a * b);\n\t}\n\n\tfunction avm1_0x0D_ActionDivide(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\t\tlet isSwfVersion5 = ectx.isSwfVersion5;\n\n\t\tlet a = alToNumber(ectx.context, stack.pop());\n\t\tlet b = alToNumber(ectx.context, stack.pop());\n\t\tlet c = b / a;\n\t\tstack.push(isSwfVersion5 ? <any>c : isFinite(c) ? <any>c : '#ERROR#');\n\t}\n\n\tfunction avm1_0x0E_ActionEquals(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\t\tlet isSwfVersion5 = ectx.isSwfVersion5;\n\n\t\tlet a = alToNumber(ectx.context, stack.pop());\n\t\tlet b = alToNumber(ectx.context, stack.pop());\n\t\tlet f = a == b;\n\t\tstack.push(isSwfVersion5 ? <any>f : f ? 1 : 0);\n\t}\n\n\tfunction avm1_0x0F_ActionLess(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\t\tlet isSwfVersion5 = ectx.isSwfVersion5;\n\n\t\tlet a = alToNumber(ectx.context, stack.pop());\n\t\tlet b = alToNumber(ectx.context, stack.pop());\n\t\tlet f = b < a;\n\t\tstack.push(isSwfVersion5 ? <any>f : f ? 1 : 0);\n\t}\n\n\tfunction avm1_0x10_ActionAnd(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\t\tlet isSwfVersion5 = ectx.isSwfVersion5;\n\n\t\tlet a = alToBoolean(ectx.context, stack.pop());\n\t\tlet b = alToBoolean(ectx.context, stack.pop());\n\t\tlet f = a && b;\n\t\tstack.push(isSwfVersion5 ? <any>f : f ? 1 : 0);\n\t}\n\n\tfunction avm1_0x11_ActionOr(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\t\tlet isSwfVersion5 = ectx.isSwfVersion5;\n\n\t\tlet a = alToBoolean(ectx.context, stack.pop());\n\t\tlet b = alToBoolean(ectx.context, stack.pop());\n\t\tlet f = a || b;\n\t\tstack.push(isSwfVersion5 ? <any>f : f ? 1 : 0);\n\t}\n\n\tfunction avm1_0x12_ActionNot(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\t\tlet isSwfVersion5 = ectx.isSwfVersion5;\n\n\t\tlet f = !alToBoolean(ectx.context, stack.pop());\n\t\tstack.push(isSwfVersion5 ? <any>f : f ? 1 : 0);\n\t}\n\n\tfunction avm1_0x13_ActionStringEquals(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\t\tlet isSwfVersion5 = ectx.isSwfVersion5;\n\n\t\tlet sa = alToString(ectx.context, stack.pop());\n\t\tlet sb = alToString(ectx.context, stack.pop());\n\t\tlet f = sa == sb;\n\t\tstack.push(isSwfVersion5 ? <any>f : f ? 1 : 0);\n\t}\n\n\tfunction avm1_0x14_ActionStringLength(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet sa = alToString(ectx.context, stack.pop());\n\t\tstack.push(ectx.actions.length_(sa));\n\t}\n\n\tfunction avm1_0x31_ActionMBStringLength(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet sa = alToString(ectx.context, stack.pop());\n\t\tstack.push(ectx.actions.length_(sa));\n\t}\n\n\tfunction avm1_0x21_ActionStringAdd(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet sa = alToString(ectx.context, stack.pop());\n\t\tlet sb = alToString(ectx.context, stack.pop());\n\t\tstack.push(sb + sa);\n\t}\n\n\tfunction avm1_0x15_ActionStringExtract(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet count = stack.pop();\n\t\tlet index = stack.pop();\n\t\tlet value = alToString(ectx.context, stack.pop());\n\t\tstack.push(ectx.actions.substring(value, index, count));\n\t}\n\n\tfunction avm1_0x35_ActionMBStringExtract(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet count = stack.pop();\n\t\tlet index = stack.pop();\n\t\tlet value = alToString(ectx.context, stack.pop());\n\t\tstack.push(ectx.actions.mbsubstring(value, index, count));\n\t}\n\n\tfunction avm1_0x29_ActionStringLess(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\t\tlet isSwfVersion5 = ectx.isSwfVersion5;\n\n\t\tlet sa = alToString(ectx.context, stack.pop());\n\t\tlet sb = alToString(ectx.context, stack.pop());\n\t\tlet f = sb < sa;\n\t\tstack.push(isSwfVersion5 ? <any>f : f ? 1 : 0);\n\t}\n\n\tfunction avm1_0x18_ActionToInteger(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\t\tlet value = alToInt32(ectx.context, stack.pop());\n\t\tstack.push(value);\n\t}\n\n\tfunction avm1_0x32_ActionCharToAscii(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet ch = stack.pop();\n\t\tlet charCode = ectx.actions.ord(ch);\n\t\tstack.push(charCode);\n\t}\n\n\tfunction avm1_0x36_ActionMBCharToAscii(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet ch = stack.pop();\n\t\tlet charCode = ectx.actions.mbord(ch);\n\t\tstack.push(charCode);\n\t}\n\n\tfunction avm1_0x33_ActionAsciiToChar(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet charCode = +stack.pop();\n\t\tlet ch = ectx.actions.chr(charCode);\n\t\tstack.push(ch);\n\t}\n\n\tfunction avm1_0x37_ActionMBAsciiToChar(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet charCode = +stack.pop();\n\t\tlet ch = ectx.actions.mbchr(charCode);\n\t\tstack.push(ch);\n\t}\n\n\tfunction avm1_0x99_ActionJump(ectx: ExecutionContext, args: any[]) {\n\t\t// implemented in the analyzer\n\t}\n\n\tfunction avm1_0x9D_ActionIf(ectx: ExecutionContext, args: any[]) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet offset: number = args[0];\n\t\treturn !!stack.pop();\n\t}\n\n\tfunction avm1_0x9E_ActionCall(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet label = stack.pop();\n\t\tectx.actions.call(label);\n\t}\n\n\tfunction avm1_0x1C_ActionGetVariable(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet variableName = '' + stack.pop();\n\n\t\tlet sp = stack.length;\n\t\tstack.push(undefined);\n\n\t\tlet resolved = avm1ResolveVariable(ectx, variableName,\n\t\t\tAVM1ResolveVariableFlags.READ | AVM1ResolveVariableFlags.GET_VALUE);\n\t\tif (isNullOrUndefined(resolved)) {\n\t\t\tif (avm1WarningsEnabled.value) {\n\t\t\t\tavm1Warn(\"AVM1 warning: cannot look up variable '\" + variableName + \"'\");\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tstack[sp] = resolved.value;\n\t}\n\n\tfunction avm1_0x1D_ActionSetVariable(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet value = stack.pop();\n\t\tlet variableName = '' + stack.pop();\n\t\tlet resolved = avm1ResolveVariable(ectx, variableName, AVM1ResolveVariableFlags.WRITE);\n\t\tif (!resolved) {\n\t\t\tif (avm1WarningsEnabled.value) {\n\t\t\t\tavm1Warn(\"AVM1 warning: cannot look up variable '\" + variableName + \"'\");\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\trelease || assert(resolved.propertyName);\n\t\tresolved.scope.alPut(resolved.propertyName, value);\n\t\tas2SyncEvents(ectx.context, resolved.propertyName);\n\t}\n\n\tfunction avm1_0x9A_ActionGetURL2(ectx: ExecutionContext, args: any[]) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet flags: number = args[0];\n\t\tlet target = stack.pop();\n\t\tlet url = stack.pop();\n\t\tlet sendVarsMethod;\n\t\tif (flags & 1) {\n\t\t\tsendVarsMethod = 'GET';\n\t\t} else if (flags & 2) {\n\t\t\tsendVarsMethod = 'POST';\n\t\t}\n\t\tlet loadTargetFlag = flags & 1 << 6;\n\t\tlet loadVariablesFlag = flags & 1 << 7;\n\t\tif (loadVariablesFlag) {\n\t\t\tectx.actions.loadVariables(url, target, sendVarsMethod);\n\t\t} else if (!loadTargetFlag) {\n\t\t\tectx.actions.getURL(url, target, sendVarsMethod);\n\t\t} else {\n\t\t\tectx.actions.loadMovie(url, target, sendVarsMethod);\n\t\t}\n\t}\n\n\tfunction avm1_0x9F_ActionGotoFrame2(ectx: ExecutionContext, args: any[]) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet flags: number = args[0];\n\t\tlet gotoParams = [stack.pop()];\n\t\tif (!!(flags & 2)) {\n\t\t\tgotoParams.push(args[1]);\n\t\t}\n\t\tlet gotoMethod = !!(flags & 1) ? ectx.actions.gotoAndPlay : ectx.actions.gotoAndStop;\n\t\tgotoMethod.apply(ectx.actions, gotoParams);\n\t}\n\n\tfunction avm1_0x20_ActionSetTarget2(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet target = alToString(ectx.context, stack.pop());\n\t\tavm1SetTarget(ectx, target);\n\t}\n\n\tfunction avm1_0x22_ActionGetProperty(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet index = stack.pop();\n\t\tlet target = stack.pop();\n\n\t\tlet sp = stack.length;\n\t\tstack.push(undefined);\n\n\t\tlet resolved = avm1ResolveTarget(ectx, target, true);\n\t\tlet propertyName = MovieClipProperties[index];\n\t\tif (resolved && propertyName) {\n\t\t\tstack[sp] = resolved.alGet(propertyName);\n\t\t}\n\t}\n\n\tfunction avm1_0x23_ActionSetProperty(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet value = stack.pop();\n\t\tlet index = stack.pop();\n\t\tlet target = stack.pop();\n\n\t\tlet resolved = avm1ResolveTarget(ectx, target, true);\n\t\tlet propertyName = MovieClipProperties[index];\n\t\tif (resolved && propertyName) {\n\t\t\tresolved.alPut(propertyName, value);\n\t\t}\n\t}\n\n\tfunction avm1_0x24_ActionCloneSprite(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet depth = stack.pop();\n\t\tlet target = stack.pop();\n\t\tlet source = stack.pop();\n\t\tectx.actions.duplicateMovieClip(source, target, depth);\n\t}\n\n\tfunction avm1_0x25_ActionRemoveSprite(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet target = stack.pop();\n\t\tectx.actions.removeMovieClip(target);\n\t}\n\n\tfunction avm1_0x27_ActionStartDrag(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet target = stack.pop();\n\t\tlet lockcenter = stack.pop();\n\t\tlet constrain = !stack.pop() ? null : {\n\t\t\ty2: stack.pop(),\n\t\t\tx2: stack.pop(),\n\t\t\ty1: stack.pop(),\n\t\t\tx1: stack.pop()\n\t\t};\n\t\tlet dragParams = [target, lockcenter];\n\t\tif (constrain) {\n\t\t\tdragParams = dragParams.concat(constrain.x1, constrain.y1,\n\t\t\t\tconstrain.x2, constrain.y2);\n\t\t}\n\t\tectx.actions.startDrag.apply(ectx.actions, dragParams);\n\t}\n\n\tfunction avm1_0x28_ActionEndDrag(ectx: ExecutionContext) {\n\t\tectx.actions.stopDrag();\n\t}\n\n\tfunction avm1_0x8D_ActionWaitForFrame2(ectx: ExecutionContext, args: any[]) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet count: number = args[0];\n\t\tlet frame = stack.pop();\n\t\treturn !ectx.actions.ifFrameLoaded(frame);\n\t}\n\n\tfunction avm1_0x26_ActionTrace(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet value = stack.pop();\n\t\tectx.actions.trace(value);\n\t}\n\n\tfunction avm1_0x34_ActionGetTime(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tstack.push(ectx.actions.getTimer());\n\t}\n\n\tfunction avm1_0x30_ActionRandomNumber(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tstack.push(ectx.actions.random(stack.pop()));\n\t}\n\n\t// SWF 5\n\tfunction avm1_0x3D_ActionCallFunction(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet functionName = stack.pop();\n\t\tlet args = avm1ReadFunctionArgs(stack);\n\n\t\tlet sp = stack.length;\n\t\tstack.push(undefined);\n\n\t\tlet resolved = avm1ResolveVariable(ectx, functionName,\n\t\t\tAVM1ResolveVariableFlags.READ | AVM1ResolveVariableFlags.GET_VALUE);\n\t\tif (isNullOrUndefined(resolved)) {\n\t\t\tavm1Warn(\"AVM1 warning: cannot look up function '\" + functionName + \"'\");\n\t\t\treturn;\n\t\t}\n\t\tlet fn = resolved.value;\n\t\t// AVM1 simply ignores attempts to invoke non-functions.\n\t\tif (!alIsFunction(fn)) {\n\t\t\tavm1Warn(\"AVM1 warning: function '\" + functionName +\n\t\t\t\t(fn ? \"' is not callable\" : \"' is undefined\"));\n\t\t\treturn;\n\t\t}\n\t\trelease || assert(stack.length === sp + 1);\n\t\t// REDUX\n\t\tstack[sp] = fn.alCall(resolved.scope || null, args);\n\t}\n\n\tfunction avm1_0x52_ActionCallMethod(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet methodName = stack.pop();\n\t\tlet obj = stack.pop();\n\t\tlet args = avm1ReadFunctionArgs(stack);\n\t\tlet target;\n\n\t\tlet sp = stack.length;\n\t\tstack.push(undefined);\n\n\t\t// AVM1 simply ignores attempts to invoke methods on non-existing objects.\n\t\tif (isNullOrUndefined(obj)) {\n\t\t\tavm1Warn(\"AVM1 warning: method '\" + methodName + \"' can't be called on undefined object\");\n\t\t\treturn;\n\t\t}\n\n\t\tlet frame: AVM1CallFrame = ectx.context.frame;\n\t\tlet superArg: AVM1Object;\n\t\tlet fn: AVM1Function;\n\n\t\t// Per spec, a missing or blank method name causes the container to be treated as\n\t\t// a function to call.\n\t\tif (isNullOrUndefined(methodName) || methodName === '') {\n\t\t\tif (obj instanceof AVM1SuperWrapper) {\n\t\t\t\tlet superFrame = (<AVM1SuperWrapper>obj).callFrame;\n\t\t\t\tsuperArg = avm1FindSuperPropertyOwner(ectx.context, superFrame, '__constructor__');\n\t\t\t\tif (superArg) {\n\t\t\t\t\tfn = superArg.alGet('__constructor__');\n\t\t\t\t\ttarget = superFrame.currentThis;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// For non-super calls, we call obj with itself as the target.\n\t\t\t\t// TODO: ensure this is correct.\n\t\t\t\tfn = obj;\n\t\t\t\ttarget = obj;\n\t\t\t}\n\t\t\t// AVM1 simply ignores attempts to invoke non-functions.\n\t\t\tif (alIsFunction(fn)) {\n\t\t\t\tframe.setCallee(target, superArg, fn, args);\n\t\t\t\tstack[sp] = fn.alCall(target, args);\n\t\t\t\tframe.resetCallee();\n\t\t\t} else {\n\t\t\t\tavm1Warn(\"AVM1 warning: obj '\" + obj + (obj ? \"' is not callable\" : \"' is undefined\"));\n\t\t\t}\n\t\t\trelease || assert(stack.length === sp + 1);\n\t\t\treturn;\n\t\t}\n\n\t\tif (obj instanceof AVM1SuperWrapper) {\n\t\t\tlet superFrame = (<AVM1SuperWrapper>obj).callFrame;\n\t\t\tlet superArg = avm1FindSuperPropertyOwner(ectx.context, superFrame, methodName);\n\t\t\tif (superArg) {\n\t\t\t\tfn = superArg.alGet(methodName);\n\t\t\t\ttarget = superFrame.currentThis;\n\t\t\t}\n\t\t} else {\n\t\t\tfn = as2GetProperty(ectx.context, obj, methodName);\n\t\t\ttarget = alToObject(ectx.context, obj);\n\t\t}\n\n\t\t// AVM1 simply ignores attempts to invoke non-methods.\n\t\tif (!alIsFunction(fn)) {\n\t\t\tavm1Warn(\"AVM1 warning: method '\" + methodName + \"' on object\", obj,\n\t\t\t\t(isNullOrUndefined(fn) ?\n\t\t\t\t\t\"is undefined\" :\n\t\t\t\t\t\"is not callable\"));\n\t\t\treturn;\n\t\t}\n\t\trelease || assert(stack.length === sp + 1);\n\t\tframe.setCallee(target, superArg, fn, args);\n\t\tstack[sp] = fn.alCall(target, args);\n\t\tframe.resetCallee();\n\t}\n\n\tfunction avm1_0x88_ActionConstantPool(ectx: ExecutionContext, args: any[]) {\n\t\tlet constantPool: any[] = args[0];\n\t\tectx.constantPool = constantPool;\n\t}\n\n\tfunction avm1_0x9B_ActionDefineFunction(ectx: ExecutionContext, args: any[]) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet functionBody = args[0];\n\t\tlet functionName: string = args[1];\n\t\tlet functionParams: string[] = args[2];\n\n\t\tlet fn = avm1DefineFunction(ectx, functionBody, functionName,\n\t\t\tfunctionParams, 4, null, 0);\n\t\tif (functionName) {\n\t\t\tlet scope = ectx.scopeList.scope;\n\t\t\tscope.alPut(functionName, fn);\n\t\t\tas2SyncEvents(ectx.context, functionName);\n\t\t} else {\n\t\t\tstack.push(fn);\n\t\t}\n\t}\n\n\tfunction avm1_0x3C_ActionDefineLocal(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\t\tlet scope = ectx.scopeList.scope;\n\n\t\tlet value = stack.pop();\n\t\tlet name = stack.pop();\n\t\tscope.alPut(name, value);\n\t}\n\n\tfunction avm1_0x41_ActionDefineLocal2(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\t\tlet scope = ectx.scopeList.scope;\n\n\t\tlet name = stack.pop();\n\t\tscope.alPut(name, undefined);\n\t}\n\n\tfunction avm1_0x3A_ActionDelete(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet name = stack.pop();\n\t\tlet obj = stack.pop();\n\t\tif (Shumway.isNullOrUndefined(obj)) {\n\t\t\t// AVM1 just ignores delete on non-existant containers.\n\t\t\tavm1Warn(\"AVM1 warning: cannot delete member '\" + name + \"' on undefined object\");\n\t\t\treturn;\n\t\t}\n\t\tstack.push(as2DeleteProperty(ectx.context, obj, name));\n\t\tas2SyncEvents(ectx.context, name);\n\t}\n\n\tfunction avm1_0x3B_ActionDelete2(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet name = stack.pop();\n\t\tlet resolved = avm1ResolveVariable(ectx, name, AVM1ResolveVariableFlags.DELETE);\n\t\tif (isNullOrUndefined(resolved)) {\n\t\t\tavm1Warn(\"AVM1 warning: cannot look up variable '\" + name + \"'\");\n\t\t\treturn;\n\t\t}\n\t\tstack.push(as2DeleteProperty(ectx.context, resolved.scope, name));\n\t\tas2SyncEvents(ectx.context, name);\n\t}\n\n\tfunction avm1_0x46_ActionEnumerate(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet objectName = stack.pop();\n\t\tstack.push(null);\n\t\tlet resolved = avm1ResolveVariable(ectx, objectName,\n\t\t\tAVM1ResolveVariableFlags.READ | AVM1ResolveVariableFlags.GET_VALUE);\n\t\tif (isNullOrUndefined(resolved)) {\n\t\t\tavm1Warn(\"AVM1 warning: cannot look up variable '\" + objectName + \"'\");\n\t\t\treturn;\n\t\t}\n\t\tlet obj = resolved.value;\n\t\tif (isNullOrUndefined(obj)) {\n\t\t\tavm1Warn(\"AVM1 warning: cannot iterate over undefined object\");\n\t\t\treturn;\n\t\t}\n\n\t\tas2Enumerate(obj, function (name) {\n\t\t\tstack.push(name);\n\t\t}, null);\n\t}\n\n\tfunction avm1_0x49_ActionEquals2(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet a = stack.pop();\n\t\tlet b = stack.pop();\n\t\tstack.push(as2Equals(ectx.context, a, b));\n\t}\n\n\tfunction avm1_0x4E_ActionGetMember(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet name = stack.pop();\n\t\tlet obj = stack.pop();\n\t\tstack.push(undefined);\n\n\t\tif (isNullOrUndefined(obj)) {\n\t\t\t// AVM1 just ignores gets on non-existant containers.\n\t\t\tavm1Warn(\"AVM1 warning: cannot get member '\" + name + \"' on undefined object\");\n\t\t\treturn;\n\t\t}\n\n\t\tif (obj instanceof AVM1SuperWrapper) {\n\t\t\tlet superFrame = (<AVM1SuperWrapper>obj).callFrame;\n\t\t\tlet superArg = avm1FindSuperPropertyOwner(ectx.context, superFrame, name);\n\t\t\tif (superArg) {\n\t\t\t\tstack[stack.length - 1] = superArg.alGet(name);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tstack[stack.length - 1] = as2GetProperty(ectx.context, obj, name);\n\t}\n\n\tfunction avm1_0x42_ActionInitArray(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet obj = new Natives.AVM1ArrayNative(ectx.context, avm1ReadFunctionArgs(stack));\n\t\tstack.push(obj);\n\t}\n\n\tfunction avm1_0x43_ActionInitObject(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet count = +stack.pop();\n\t\tcount = fixArgsCount(count, stack.length >> 1);\n\t\tlet obj: AVM1Object = alNewObject(ectx.context);\n\t\tfor (let i = 0; i < count; i++) {\n\t\t\tlet value = stack.pop();\n\t\t\tlet name = stack.pop();\n\t\t\tobj.alPut(name, value);\n\t\t}\n\t\tstack.push(obj);\n\t}\n\n\tfunction avm1_0x53_ActionNewMethod(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet methodName = stack.pop();\n\t\tlet obj = stack.pop();\n\t\tlet args = avm1ReadFunctionArgs(stack);\n\n\t\tlet sp = stack.length;\n\t\tstack.push(undefined);\n\n\t\t// AVM1 simply ignores attempts to construct methods on non-existing objects.\n\t\tif (isNullOrUndefined(obj)) {\n\t\t\tavm1Warn(\"AVM1 warning: method '\" + methodName + \"' can't be constructed on undefined object\");\n\t\t\treturn;\n\t\t}\n\n\t\tlet ctor;\n\n\t\t// Per spec, a missing or blank method name causes the container to be treated as\n\t\t// a function to construct.\n\t\tif (isNullOrUndefined(methodName) || methodName === '') {\n\t\t\tctor = obj;\n\t\t} else {\n\t\t\tctor = as2GetProperty(ectx.context, obj, methodName);\n\t\t}\n\n\t\tlet result = as2Construct(ctor, args);\n\t\tif (result === undefined) {\n\t\t\tavm1Warn(\"AVM1 warning: method '\" + methodName + \"' on object\", obj, \"is not constructible\");\n\t\t}\n\t\tstack[sp] = result;\n\t\trelease || assert(stack.length === sp + 1);\n\t}\n\n\tfunction avm1_0x40_ActionNewObject(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet objectName = stack.pop();\n\t\tlet args = avm1ReadFunctionArgs(stack);\n\n\t\tlet sp = stack.length;\n\t\tstack.push(undefined);\n\n\t\tlet resolved = avm1ResolveVariable(ectx, objectName,\n\t\t\tAVM1ResolveVariableFlags.READ | AVM1ResolveVariableFlags.GET_VALUE);\n\t\tif (isNullOrUndefined(resolved)) {\n\t\t\tavm1Warn(\"AVM1 warning: cannot look up object '\" + objectName + \"'\");\n\t\t\treturn;\n\t\t}\n\t\tlet obj = resolved.value;\n\t\tlet result = createBuiltinType(ectx.context, obj, args);\n\t\tif (result === undefined) {\n\t\t\t// obj in not a built-in type\n\t\t\tresult = as2Construct(obj, args);\n\t\t\tif (result === undefined) {\n\t\t\t\tavm1Warn(\"AVM1 warning: object '\" + objectName +\n\t\t\t\t\t(obj ? \"' is not constructible\" : \"' is undefined\"));\n\t\t\t}\n\t\t}\n\t\trelease || assert(stack.length === sp + 1);\n\t\tstack[sp] = result;\n\t}\n\n\tfunction avm1_0x4F_ActionSetMember(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet value = stack.pop();\n\t\tlet name = stack.pop();\n\t\tlet obj = stack.pop();\n\n\t\tif (isNullOrUndefined(obj)) {\n\t\t\t// AVM1 just ignores sets on non-existant containers\n\t\t\tavm1Warn(\"AVM1 warning: cannot set member '\" + name + \"' on undefined object\");\n\t\t\treturn;\n\t\t}\n\n\t\tif (obj instanceof AVM1SuperWrapper) {\n\t\t\tavm1Warn(\"AVM1 warning: cannot set member '\" + name + \"' on super\");\n\t\t\treturn;\n\t\t}\n\n\t\tas2SetProperty(ectx.context, obj, name, value);\n\t}\n\n\tfunction avm1_0x45_ActionTargetPath(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet obj = stack.pop();\n\t\tstack.push(isAVM1MovieClip(obj) ? obj._target : void(0));\n\t}\n\n\tfunction avm1_0x94_ActionWith(ectx: ExecutionContext, args: any[]) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet withBody = args[0];\n\t\tlet obj = stack.pop();\n\n\t\tavm1ProcessWith(ectx, obj, withBody);\n\t}\n\n\tfunction avm1_0x4A_ActionToNumber(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tstack.push(alToNumber(ectx.context, stack.pop()));\n\t}\n\n\tfunction avm1_0x4B_ActionToString(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tstack.push(alToString(ectx.context, stack.pop()));\n\t}\n\n\tfunction avm1_0x44_ActionTypeOf(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet obj = stack.pop();\n\t\tlet result = as2GetType(obj);\n\t\tstack.push(result);\n\t}\n\n\tfunction avm1_0x47_ActionAdd2(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet a = as2ToAddPrimitive(ectx.context, stack.pop());\n\t\tlet b = as2ToAddPrimitive(ectx.context, stack.pop());\n\t\tif (typeof a === 'string' || typeof b === 'string') {\n\t\t\tstack.push(alToString(ectx.context, b) + alToString(ectx.context, a));\n\t\t} else {\n\t\t\tstack.push(alToNumber(ectx.context, b) + alToNumber(ectx.context, a));\n\t\t}\n\t}\n\n\tfunction avm1_0x48_ActionLess2(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet a = stack.pop();\n\t\tlet b = stack.pop();\n\t\tstack.push(as2Compare(ectx.context, b, a));\n\t}\n\n\tfunction avm1_0x3F_ActionModulo(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet a = alToNumber(ectx.context, stack.pop());\n\t\tlet b = alToNumber(ectx.context, stack.pop());\n\t\tstack.push(b % a);\n\t}\n\n\tfunction avm1_0x60_ActionBitAnd(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet a = alToInt32(ectx.context, stack.pop());\n\t\tlet b = alToInt32(ectx.context, stack.pop());\n\t\tstack.push(b & a);\n\t}\n\n\tfunction avm1_0x63_ActionBitLShift(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet a = alToInt32(ectx.context, stack.pop());\n\t\tlet b = alToInt32(ectx.context, stack.pop());\n\t\tstack.push(b << a);\n\t}\n\n\tfunction avm1_0x61_ActionBitOr(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet a = alToInt32(ectx.context, stack.pop());\n\t\tlet b = alToInt32(ectx.context, stack.pop());\n\t\tstack.push(b | a);\n\t}\n\n\tfunction avm1_0x64_ActionBitRShift(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet a = alToInt32(ectx.context, stack.pop());\n\t\tlet b = alToInt32(ectx.context, stack.pop());\n\t\tstack.push(b >> a);\n\t}\n\n\tfunction avm1_0x65_ActionBitURShift(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet a = alToInt32(ectx.context, stack.pop());\n\t\tlet b = alToInt32(ectx.context, stack.pop());\n\t\tstack.push(b >>> a);\n\t}\n\n\tfunction avm1_0x62_ActionBitXor(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet a = alToInt32(ectx.context, stack.pop());\n\t\tlet b = alToInt32(ectx.context, stack.pop());\n\t\tstack.push(b ^ a);\n\t}\n\n\tfunction avm1_0x51_ActionDecrement(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet a = alToNumber(ectx.context, stack.pop());\n\t\ta--;\n\t\tstack.push(a);\n\t}\n\n\tfunction avm1_0x50_ActionIncrement(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet a = alToNumber(ectx.context, stack.pop());\n\t\ta++;\n\t\tstack.push(a);\n\t}\n\n\tfunction avm1_0x4C_ActionPushDuplicate(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tstack.push(stack[stack.length - 1]);\n\t}\n\n\tfunction avm1_0x3E_ActionReturn(ectx: ExecutionContext) {\n\t\tectx.isEndOfActions = true;\n\t}\n\n\tfunction avm1_0x4D_ActionStackSwap(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tstack.push(stack.pop(), stack.pop());\n\t}\n\n\tfunction avm1_0x87_ActionStoreRegister(ectx: ExecutionContext, args: any[]) {\n\t\tlet stack = ectx.stack;\n\t\tlet registers = ectx.registers;\n\n\t\tlet register: number = args[0];\n\t\tif (register < 0 || register >= registers.length) {\n\t\t\treturn; // ignoring bad registers references\n\t\t}\n\t\tregisters[register] = stack[stack.length - 1];\n\t}\n\n\t// SWF 6\n\tfunction avm1_0x54_ActionInstanceOf(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet constr = stack.pop();\n\t\tlet obj = stack.pop();\n\t\tstack.push(as2InstanceOf(obj, constr));\n\t}\n\n\tfunction avm1_0x55_ActionEnumerate2(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet obj = stack.pop();\n\t\tstack.push(null);\n\n\t\t// AVM1 just ignores lookups on non-existant containers\n\t\tif (isNullOrUndefined(obj)) {\n\t\t\tavm1Warn(\"AVM1 warning: cannot iterate over undefined object\");\n\t\t\treturn;\n\t\t}\n\n\t\tas2Enumerate(obj, function (name) {\n\t\t\tstack.push(name);\n\t\t}, null);\n\t}\n\n\tfunction avm1_0x66_ActionStrictEquals(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet a = stack.pop();\n\t\tlet b = stack.pop();\n\t\tstack.push(b === a);\n\t}\n\n\tfunction avm1_0x67_ActionGreater(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet a = stack.pop();\n\t\tlet b = stack.pop();\n\t\tstack.push(as2Compare(ectx.context, a, b));\n\t}\n\n\tfunction avm1_0x68_ActionStringGreater(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\t\tlet isSwfVersion5 = ectx.isSwfVersion5;\n\n\t\tlet sa = alToString(ectx.context, stack.pop());\n\t\tlet sb = alToString(ectx.context, stack.pop());\n\t\tlet f = sb > sa;\n\t\tstack.push(isSwfVersion5 ? <any>f : f ? 1 : 0);\n\t}\n\n\t// SWF 7\n\tfunction avm1_0x8E_ActionDefineFunction2(ectx: ExecutionContext, args: any[]) {\n\t\tlet stack = ectx.stack;\n\t\tlet scope = ectx.scopeList.scope;\n\n\t\tlet functionBody = args[0];\n\t\tlet functionName: string = args[1];\n\t\tlet functionParams: string[] = args[2];\n\t\tlet registerCount: number = args[3];\n\t\tlet registerAllocation = args[4];\n\t\tlet suppressArguments = args[5];\n\n\t\tlet fn = avm1DefineFunction(ectx, functionBody, functionName,\n\t\t\tfunctionParams, registerCount, registerAllocation, suppressArguments);\n\t\tif (functionName) {\n\t\t\tscope.alPut(functionName, fn);\n\t\t\tas2SyncEvents(ectx.context, functionName);\n\t\t} else {\n\t\t\tstack.push(fn);\n\t\t}\n\t}\n\n\tfunction avm1_0x69_ActionExtends(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\t\tlet context = ectx.context;\n\n\t\tlet constrSuper = alToObject(context, stack.pop());\n\t\tlet constr = alToObject(context, stack.pop());\n\t\tlet prototype = constr.alGetPrototypeProperty();\n\t\tlet prototypeSuper = constrSuper.alGetPrototypeProperty();\n\t\tprototype.alPrototype = prototypeSuper;\n\t\tlet desc = new AVM1PropertyDescriptor(AVM1PropertyFlags.DATA | AVM1PropertyFlags.DONT_ENUM,\n\t\t\tconstrSuper);\n\t\tprototype.alSetOwnProperty('__constructor__', desc);\n\t}\n\n\tfunction avm1_0x2B_ActionCastOp(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet obj = stack.pop();\n\t\tlet constr = stack.pop();\n\t\tstack.push(as2InstanceOf(obj, constr) ? obj : null);\n\t}\n\n\tfunction avm1_0x2C_ActionImplementsOp(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet constr = stack.pop();\n\t\tlet count = +stack.pop();\n\t\tfixArgsCount(count, stack.length);\n\t\tlet interfaces = [];\n\t\tfor (let i = 0; i < count; i++) {\n\t\t\tinterfaces.push(stack.pop());\n\t\t}\n\t\tconstr._as2Interfaces = interfaces;\n\t}\n\n\tfunction avm1_0x8F_ActionTry(ectx: ExecutionContext, args: any[]) {\n\t\tlet catchIsRegisterFlag: boolean = args[0];\n\t\tlet catchTarget = args[1];\n\t\tlet tryBody = args[2];\n\t\tlet catchBlockFlag: boolean = args[3];\n\t\tlet catchBody = args[4];\n\t\tlet finallyBlockFlag: boolean = args[5];\n\t\tlet finallyBody = args[6];\n\n\t\tavm1ProcessTry(ectx, catchIsRegisterFlag,\n\t\t\tfinallyBlockFlag, catchBlockFlag, catchTarget,\n\t\t\ttryBody, catchBody, finallyBody);\n\t}\n\n\tfunction avm1_0x2A_ActionThrow(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet obj = stack.pop();\n\t\tthrow new AVM1Error(obj);\n\t}\n\n\tfunction avm1_0x2D_ActionFSCommand2(ectx: ExecutionContext) {\n\t\tlet stack = ectx.stack;\n\n\t\tlet args = avm1ReadFunctionArgs(stack);\n\n\t\tlet sp = stack.length;\n\t\tstack.push(undefined);\n\n\t\tlet result = ectx.actions.fscommand.apply(ectx.actions, args);\n\t\tstack[sp] = result;\n\t}\n\n\tfunction avm1_0x89_ActionStrictMode(ectx: ExecutionContext, args: any[]) {\n\t\tlet mode: number = args[0];\n\t}\n\n\tfunction wrapAvm1Error(fn: Function): Function {\n\t\treturn function avm1ErrorWrapper(executionContext: ExecutionContext, args: any[]) {\n\t\t\tlet currentContext: AVM1ContextImpl;\n\t\t\ttry {\n\t\t\t\tfn(executionContext, args);\n\n\t\t\t\texecutionContext.recoveringFromError = false;\n\t\t\t} catch (e) {\n\t\t\t\t// handling AVM1 errors\n\t\t\t\tcurrentContext = executionContext.context;\n\t\t\t\te = as2CastError(e);\n\t\t\t\tif (e instanceof AVM1CriticalError) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t\tif (e instanceof AVM1Error) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\n\t\t\t\tTelemetry.instance.reportTelemetry({topic: 'error', error: Telemetry.ErrorTypes.AVM1_ERROR});\n\n\t\t\t\tif (!executionContext.recoveringFromError) {\n\t\t\t\t\tif (currentContext.errorsIgnored++ >= MAX_AVM1_ERRORS_LIMIT) {\n\t\t\t\t\t\tthrow new AVM1CriticalError('long running script -- AVM1 errors limit is reached');\n\t\t\t\t\t}\n\t\t\t\t\tconsole.log(typeof e);\n\t\t\t\t\tconsole.log(Object.getPrototypeOf(e));\n\t\t\t\t\tconsole.log(Object.getPrototypeOf(Object.getPrototypeOf(e)));\n\t\t\t\t\tconsole.error('AVM1 error: ' + e);\n\t\t\t\t\t// REDUX\n\t\t\t\t\t//let avm2 = Shumway.AVM2.Runtime.AVM2;\n\t\t\t\t\t//avm2.instance.exceptions.push({source: 'avm1', message: e.message,\n\t\t\t\t\t//  stack: e.stack});\n\t\t\t\t\t//executionContext.recoveringFromError = true;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\texport function generateActionCalls() {\n\t\tlet wrap: Function;\n\t\tif (!avm1ErrorsEnabled.value) {\n\t\t\twrap = wrapAvm1Error;\n\t\t} else {\n\t\t\twrap = function (fn: Function) {\n\t\t\t\treturn fn;\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\tActionGotoFrame: wrap(avm1_0x81_ActionGotoFrame),\n\t\t\tActionGetURL: wrap(avm1_0x83_ActionGetURL),\n\t\t\tActionNextFrame: wrap(avm1_0x04_ActionNextFrame),\n\t\t\tActionPreviousFrame: wrap(avm1_0x05_ActionPreviousFrame),\n\t\t\tActionPlay: wrap(avm1_0x06_ActionPlay),\n\t\t\tActionStop: wrap(avm1_0x07_ActionStop),\n\t\t\tActionToggleQuality: wrap(avm1_0x08_ActionToggleQuality),\n\t\t\tActionStopSounds: wrap(avm1_0x09_ActionStopSounds),\n\t\t\tActionWaitForFrame: wrap(avm1_0x8A_ActionWaitForFrame),\n\t\t\tActionSetTarget: wrap(avm1_0x8B_ActionSetTarget),\n\t\t\tActionGoToLabel: wrap(avm1_0x8C_ActionGoToLabel),\n\t\t\tActionPush: wrap(avm1_0x96_ActionPush),\n\t\t\tActionPop: wrap(avm1_0x17_ActionPop),\n\t\t\tActionAdd: wrap(avm1_0x0A_ActionAdd),\n\t\t\tActionSubtract: wrap(avm1_0x0B_ActionSubtract),\n\t\t\tActionMultiply: wrap(avm1_0x0C_ActionMultiply),\n\t\t\tActionDivide: wrap(avm1_0x0D_ActionDivide),\n\t\t\tActionEquals: wrap(avm1_0x0E_ActionEquals),\n\t\t\tActionLess: wrap(avm1_0x0F_ActionLess),\n\t\t\tActionAnd: wrap(avm1_0x10_ActionAnd),\n\t\t\tActionOr: wrap(avm1_0x11_ActionOr),\n\t\t\tActionNot: wrap(avm1_0x12_ActionNot),\n\t\t\tActionStringEquals: wrap(avm1_0x13_ActionStringEquals),\n\t\t\tActionStringLength: wrap(avm1_0x14_ActionStringLength),\n\t\t\tActionMBStringLength: wrap(avm1_0x31_ActionMBStringLength),\n\t\t\tActionStringAdd: wrap(avm1_0x21_ActionStringAdd),\n\t\t\tActionStringExtract: wrap(avm1_0x15_ActionStringExtract),\n\t\t\tActionMBStringExtract: wrap(avm1_0x35_ActionMBStringExtract),\n\t\t\tActionStringLess: wrap(avm1_0x29_ActionStringLess),\n\t\t\tActionToInteger: wrap(avm1_0x18_ActionToInteger),\n\t\t\tActionCharToAscii: wrap(avm1_0x32_ActionCharToAscii),\n\t\t\tActionMBCharToAscii: wrap(avm1_0x36_ActionMBCharToAscii),\n\t\t\tActionAsciiToChar: wrap(avm1_0x33_ActionAsciiToChar),\n\t\t\tActionMBAsciiToChar: wrap(avm1_0x37_ActionMBAsciiToChar),\n\t\t\tActionJump: wrap(avm1_0x99_ActionJump),\n\t\t\tActionIf: wrap(avm1_0x9D_ActionIf),\n\t\t\tActionCall: wrap(avm1_0x9E_ActionCall),\n\t\t\tActionGetVariable: wrap(avm1_0x1C_ActionGetVariable),\n\t\t\tActionSetVariable: wrap(avm1_0x1D_ActionSetVariable),\n\t\t\tActionGetURL2: wrap(avm1_0x9A_ActionGetURL2),\n\t\t\tActionGotoFrame2: wrap(avm1_0x9F_ActionGotoFrame2),\n\t\t\tActionSetTarget2: wrap(avm1_0x20_ActionSetTarget2),\n\t\t\tActionGetProperty: wrap(avm1_0x22_ActionGetProperty),\n\t\t\tActionSetProperty: wrap(avm1_0x23_ActionSetProperty),\n\t\t\tActionCloneSprite: wrap(avm1_0x24_ActionCloneSprite),\n\t\t\tActionRemoveSprite: wrap(avm1_0x25_ActionRemoveSprite),\n\t\t\tActionStartDrag: wrap(avm1_0x27_ActionStartDrag),\n\t\t\tActionEndDrag: wrap(avm1_0x28_ActionEndDrag),\n\t\t\tActionWaitForFrame2: wrap(avm1_0x8D_ActionWaitForFrame2),\n\t\t\tActionTrace: wrap(avm1_0x26_ActionTrace),\n\t\t\tActionGetTime: wrap(avm1_0x34_ActionGetTime),\n\t\t\tActionRandomNumber: wrap(avm1_0x30_ActionRandomNumber),\n\t\t\tActionCallFunction: wrap(avm1_0x3D_ActionCallFunction),\n\t\t\tActionCallMethod: wrap(avm1_0x52_ActionCallMethod),\n\t\t\tActionConstantPool: wrap(avm1_0x88_ActionConstantPool),\n\t\t\tActionDefineFunction: wrap(avm1_0x9B_ActionDefineFunction),\n\t\t\tActionDefineLocal: wrap(avm1_0x3C_ActionDefineLocal),\n\t\t\tActionDefineLocal2: wrap(avm1_0x41_ActionDefineLocal2),\n\t\t\tActionDelete: wrap(avm1_0x3A_ActionDelete),\n\t\t\tActionDelete2: wrap(avm1_0x3B_ActionDelete2),\n\t\t\tActionEnumerate: wrap(avm1_0x46_ActionEnumerate),\n\t\t\tActionEquals2: wrap(avm1_0x49_ActionEquals2),\n\t\t\tActionGetMember: wrap(avm1_0x4E_ActionGetMember),\n\t\t\tActionInitArray: wrap(avm1_0x42_ActionInitArray),\n\t\t\tActionInitObject: wrap(avm1_0x43_ActionInitObject),\n\t\t\tActionNewMethod: wrap(avm1_0x53_ActionNewMethod),\n\t\t\tActionNewObject: wrap(avm1_0x40_ActionNewObject),\n\t\t\tActionSetMember: wrap(avm1_0x4F_ActionSetMember),\n\t\t\tActionTargetPath: wrap(avm1_0x45_ActionTargetPath),\n\t\t\tActionWith: wrap(avm1_0x94_ActionWith),\n\t\t\tActionToNumber: wrap(avm1_0x4A_ActionToNumber),\n\t\t\tActionToString: wrap(avm1_0x4B_ActionToString),\n\t\t\tActionTypeOf: wrap(avm1_0x44_ActionTypeOf),\n\t\t\tActionAdd2: wrap(avm1_0x47_ActionAdd2),\n\t\t\tActionLess2: wrap(avm1_0x48_ActionLess2),\n\t\t\tActionModulo: wrap(avm1_0x3F_ActionModulo),\n\t\t\tActionBitAnd: wrap(avm1_0x60_ActionBitAnd),\n\t\t\tActionBitLShift: wrap(avm1_0x63_ActionBitLShift),\n\t\t\tActionBitOr: wrap(avm1_0x61_ActionBitOr),\n\t\t\tActionBitRShift: wrap(avm1_0x64_ActionBitRShift),\n\t\t\tActionBitURShift: wrap(avm1_0x65_ActionBitURShift),\n\t\t\tActionBitXor: wrap(avm1_0x62_ActionBitXor),\n\t\t\tActionDecrement: wrap(avm1_0x51_ActionDecrement),\n\t\t\tActionIncrement: wrap(avm1_0x50_ActionIncrement),\n\t\t\tActionPushDuplicate: wrap(avm1_0x4C_ActionPushDuplicate),\n\t\t\tActionReturn: wrap(avm1_0x3E_ActionReturn),\n\t\t\tActionStackSwap: wrap(avm1_0x4D_ActionStackSwap),\n\t\t\tActionStoreRegister: wrap(avm1_0x87_ActionStoreRegister),\n\t\t\tActionInstanceOf: wrap(avm1_0x54_ActionInstanceOf),\n\t\t\tActionEnumerate2: wrap(avm1_0x55_ActionEnumerate2),\n\t\t\tActionStrictEquals: wrap(avm1_0x66_ActionStrictEquals),\n\t\t\tActionGreater: wrap(avm1_0x67_ActionGreater),\n\t\t\tActionStringGreater: wrap(avm1_0x68_ActionStringGreater),\n\t\t\tActionDefineFunction2: wrap(avm1_0x8E_ActionDefineFunction2),\n\t\t\tActionExtends: wrap(avm1_0x69_ActionExtends),\n\t\t\tActionCastOp: wrap(avm1_0x2B_ActionCastOp),\n\t\t\tActionImplementsOp: wrap(avm1_0x2C_ActionImplementsOp),\n\t\t\tActionTry: wrap(avm1_0x8F_ActionTry),\n\t\t\tActionThrow: wrap(avm1_0x2A_ActionThrow),\n\t\t\tActionFSCommand2: wrap(avm1_0x2D_ActionFSCommand2),\n\t\t\tActionStrictMode: wrap(avm1_0x89_ActionStrictMode)\n\t\t};\n\t}\n\n\tfunction interpretAction(executionContext: ExecutionContext, parsedAction: ParsedAction): boolean {\n\t\tlet stack = executionContext.stack;\n\n\t\tlet actionCode: number = parsedAction.actionCode;\n\t\tlet args: any[] = parsedAction.args;\n\n\t\tlet actionTracer = executionContext.context.actionTracer;\n\t\trelease || (actionTracer && actionTracer.print(parsedAction, stack));\n\n\t\tlet shallBranch = false;\n\t\tswitch (actionCode | 0) {\n\t\t\t// SWF 3 actions\n\t\t\tcase ActionCode.ActionGotoFrame:\n\t\t\t\tavm1_0x81_ActionGotoFrame(executionContext, args);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionGetURL:\n\t\t\t\tavm1_0x83_ActionGetURL(executionContext, args);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionNextFrame:\n\t\t\t\tavm1_0x04_ActionNextFrame(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionPreviousFrame:\n\t\t\t\tavm1_0x05_ActionPreviousFrame(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionPlay:\n\t\t\t\tavm1_0x06_ActionPlay(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionStop:\n\t\t\t\tavm1_0x07_ActionStop(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionToggleQuality:\n\t\t\t\tavm1_0x08_ActionToggleQuality(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionStopSounds:\n\t\t\t\tavm1_0x09_ActionStopSounds(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionWaitForFrame:\n\t\t\t\tshallBranch = avm1_0x8A_ActionWaitForFrame(executionContext, args);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionSetTarget:\n\t\t\t\tavm1_0x8B_ActionSetTarget(executionContext, args);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionGoToLabel:\n\t\t\t\tavm1_0x8C_ActionGoToLabel(executionContext, args);\n\t\t\t\tbreak;\n\t\t\t// SWF 4 actions\n\t\t\tcase ActionCode.ActionPush:\n\t\t\t\tavm1_0x96_ActionPush(executionContext, args);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionPop:\n\t\t\t\tavm1_0x17_ActionPop(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionAdd:\n\t\t\t\tavm1_0x0A_ActionAdd(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionSubtract:\n\t\t\t\tavm1_0x0B_ActionSubtract(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionMultiply:\n\t\t\t\tavm1_0x0C_ActionMultiply(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionDivide:\n\t\t\t\tavm1_0x0D_ActionDivide(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionEquals:\n\t\t\t\tavm1_0x0E_ActionEquals(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionLess:\n\t\t\t\tavm1_0x0F_ActionLess(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionAnd:\n\t\t\t\tavm1_0x10_ActionAnd(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionOr:\n\t\t\t\tavm1_0x11_ActionOr(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionNot:\n\t\t\t\tavm1_0x12_ActionNot(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionStringEquals:\n\t\t\t\tavm1_0x13_ActionStringEquals(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionStringLength:\n\t\t\t\tavm1_0x14_ActionStringLength(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionMBStringLength:\n\t\t\t\tavm1_0x31_ActionMBStringLength(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionStringAdd:\n\t\t\t\tavm1_0x21_ActionStringAdd(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionStringExtract:\n\t\t\t\tavm1_0x15_ActionStringExtract(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionMBStringExtract:\n\t\t\t\tavm1_0x35_ActionMBStringExtract(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionStringLess:\n\t\t\t\tavm1_0x29_ActionStringLess(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionToInteger:\n\t\t\t\tavm1_0x18_ActionToInteger(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionCharToAscii:\n\t\t\t\tavm1_0x32_ActionCharToAscii(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionMBCharToAscii:\n\t\t\t\tavm1_0x36_ActionMBCharToAscii(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionAsciiToChar:\n\t\t\t\tavm1_0x33_ActionAsciiToChar(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionMBAsciiToChar:\n\t\t\t\tavm1_0x37_ActionMBAsciiToChar(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionJump:\n\t\t\t\tavm1_0x99_ActionJump(executionContext, args);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionIf:\n\t\t\t\tshallBranch = avm1_0x9D_ActionIf(executionContext, args);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionCall:\n\t\t\t\tavm1_0x9E_ActionCall(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionGetVariable:\n\t\t\t\tavm1_0x1C_ActionGetVariable(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionSetVariable:\n\t\t\t\tavm1_0x1D_ActionSetVariable(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionGetURL2:\n\t\t\t\tavm1_0x9A_ActionGetURL2(executionContext, args);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionGotoFrame2:\n\t\t\t\tavm1_0x9F_ActionGotoFrame2(executionContext, args);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionSetTarget2:\n\t\t\t\tavm1_0x20_ActionSetTarget2(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionGetProperty:\n\t\t\t\tavm1_0x22_ActionGetProperty(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionSetProperty:\n\t\t\t\tavm1_0x23_ActionSetProperty(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionCloneSprite:\n\t\t\t\tavm1_0x24_ActionCloneSprite(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionRemoveSprite:\n\t\t\t\tavm1_0x25_ActionRemoveSprite(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionStartDrag:\n\t\t\t\tavm1_0x27_ActionStartDrag(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionEndDrag:\n\t\t\t\tavm1_0x28_ActionEndDrag(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionWaitForFrame2:\n\t\t\t\tshallBranch = avm1_0x8D_ActionWaitForFrame2(executionContext, args);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionTrace:\n\t\t\t\tavm1_0x26_ActionTrace(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionGetTime:\n\t\t\t\tavm1_0x34_ActionGetTime(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionRandomNumber:\n\t\t\t\tavm1_0x30_ActionRandomNumber(executionContext);\n\t\t\t\tbreak;\n\t\t\t// SWF 5\n\t\t\tcase ActionCode.ActionCallFunction:\n\t\t\t\tavm1_0x3D_ActionCallFunction(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionCallMethod:\n\t\t\t\tavm1_0x52_ActionCallMethod(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionConstantPool:\n\t\t\t\tavm1_0x88_ActionConstantPool(executionContext, args);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionDefineFunction:\n\t\t\t\tavm1_0x9B_ActionDefineFunction(executionContext, args);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionDefineLocal:\n\t\t\t\tavm1_0x3C_ActionDefineLocal(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionDefineLocal2:\n\t\t\t\tavm1_0x41_ActionDefineLocal2(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionDelete:\n\t\t\t\tavm1_0x3A_ActionDelete(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionDelete2:\n\t\t\t\tavm1_0x3B_ActionDelete2(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionEnumerate:\n\t\t\t\tavm1_0x46_ActionEnumerate(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionEquals2:\n\t\t\t\tavm1_0x49_ActionEquals2(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionGetMember:\n\t\t\t\tavm1_0x4E_ActionGetMember(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionInitArray:\n\t\t\t\tavm1_0x42_ActionInitArray(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionInitObject:\n\t\t\t\tavm1_0x43_ActionInitObject(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionNewMethod:\n\t\t\t\tavm1_0x53_ActionNewMethod(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionNewObject:\n\t\t\t\tavm1_0x40_ActionNewObject(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionSetMember:\n\t\t\t\tavm1_0x4F_ActionSetMember(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionTargetPath:\n\t\t\t\tavm1_0x45_ActionTargetPath(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionWith:\n\t\t\t\tavm1_0x94_ActionWith(executionContext, args);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionToNumber:\n\t\t\t\tavm1_0x4A_ActionToNumber(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionToString:\n\t\t\t\tavm1_0x4B_ActionToString(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionTypeOf:\n\t\t\t\tavm1_0x44_ActionTypeOf(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionAdd2:\n\t\t\t\tavm1_0x47_ActionAdd2(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionLess2:\n\t\t\t\tavm1_0x48_ActionLess2(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionModulo:\n\t\t\t\tavm1_0x3F_ActionModulo(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionBitAnd:\n\t\t\t\tavm1_0x60_ActionBitAnd(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionBitLShift:\n\t\t\t\tavm1_0x63_ActionBitLShift(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionBitOr:\n\t\t\t\tavm1_0x61_ActionBitOr(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionBitRShift:\n\t\t\t\tavm1_0x64_ActionBitRShift(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionBitURShift:\n\t\t\t\tavm1_0x65_ActionBitURShift(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionBitXor:\n\t\t\t\tavm1_0x62_ActionBitXor(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionDecrement:\n\t\t\t\tavm1_0x51_ActionDecrement(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionIncrement:\n\t\t\t\tavm1_0x50_ActionIncrement(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionPushDuplicate:\n\t\t\t\tavm1_0x4C_ActionPushDuplicate(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionReturn:\n\t\t\t\tavm1_0x3E_ActionReturn(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionStackSwap:\n\t\t\t\tavm1_0x4D_ActionStackSwap(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionStoreRegister:\n\t\t\t\tavm1_0x87_ActionStoreRegister(executionContext, args);\n\t\t\t\tbreak;\n\t\t\t// SWF 6\n\t\t\tcase ActionCode.ActionInstanceOf:\n\t\t\t\tavm1_0x54_ActionInstanceOf(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionEnumerate2:\n\t\t\t\tavm1_0x55_ActionEnumerate2(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionStrictEquals:\n\t\t\t\tavm1_0x66_ActionStrictEquals(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionGreater:\n\t\t\t\tavm1_0x67_ActionGreater(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionStringGreater:\n\t\t\t\tavm1_0x68_ActionStringGreater(executionContext);\n\t\t\t\tbreak;\n\t\t\t// SWF 7\n\t\t\tcase ActionCode.ActionDefineFunction2:\n\t\t\t\tavm1_0x8E_ActionDefineFunction2(executionContext, args);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionExtends:\n\t\t\t\tavm1_0x69_ActionExtends(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionCastOp:\n\t\t\t\tavm1_0x2B_ActionCastOp(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionImplementsOp:\n\t\t\t\tavm1_0x2C_ActionImplementsOp(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionTry:\n\t\t\t\tavm1_0x8F_ActionTry(executionContext, args);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionThrow:\n\t\t\t\tavm1_0x2A_ActionThrow(executionContext);\n\t\t\t\tbreak;\n\t\t\t// Not documented by the spec\n\t\t\tcase ActionCode.ActionFSCommand2:\n\t\t\t\tavm1_0x2D_ActionFSCommand2(executionContext);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.ActionStrictMode:\n\t\t\t\tavm1_0x89_ActionStrictMode(executionContext, args);\n\t\t\t\tbreak;\n\t\t\tcase ActionCode.None: // End of actions\n\t\t\t\texecutionContext.isEndOfActions = true;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new Error('Unknown action code: ' + actionCode);\n\t\t}\n\t\treturn shallBranch;\n\t}\n\n\tfunction interpretActionWithRecovery(executionContext: ExecutionContext,\n\t                                     parsedAction: ParsedAction): boolean {\n\t\tlet currentContext: AVM1ContextImpl;\n\t\tlet result;\n\t\ttry {\n\t\t\tresult = interpretAction(executionContext, parsedAction);\n\n\t\t\texecutionContext.recoveringFromError = false;\n\n\t\t} catch (e) {\n\t\t\t// handling AVM1 errors\n\t\t\tcurrentContext = executionContext.context;\n\t\t\te = as2CastError(e);\n\t\t\tif ((avm1ErrorsEnabled.value && !currentContext.isTryCatchListening) ||\n\t\t\t\te instanceof AVM1CriticalError) {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t\tif (e instanceof AVM1Error) {\n\t\t\t\tthrow e;\n\t\t\t}\n\n\t\t\tTelemetry.instance.reportTelemetry({topic: 'error', error: Telemetry.ErrorTypes.AVM1_ERROR});\n\n\t\t\tif (!executionContext.recoveringFromError) {\n\t\t\t\tif (currentContext.errorsIgnored++ >= MAX_AVM1_ERRORS_LIMIT) {\n\t\t\t\t\tthrow new AVM1CriticalError('long running script -- AVM1 errors limit is reached');\n\t\t\t\t}\n\t\t\t\tconsole.error('AVM1 error: ' + e);\n\t\t\t\t// REDUX\n\t\t\t\t//let avm2 = Shumway.AVM2.Runtime.AVM2;\n\t\t\t\t//avm2.instance.exceptions.push({source: 'avm1', message: e.message,\n\t\t\t\t//  stack: e.stack});\n\t\t\t\texecutionContext.recoveringFromError = true;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction analyzeAndCompileActionsData(ectx: ExecutionContext, actionsData: AVM1ActionsData): void {\n\t\tlet context = ectx.context;\n\t\tlet compiled;\n\n\t\tif (avm1WellknownActionsCompilationsEnabled.value) {\n\t\t\tcompiled = findWellknowCompilation(actionsData, context);\n\t\t\tif (compiled) {\n\t\t\t\tactionsData.compiled = compiled;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tlet parser = new ActionsDataParser(actionsData, context.swfVersion);\n\t\tlet analyzer = new ActionsDataAnalyzer();\n\t\tanalyzer.registersLimit = ectx.registers.length;\n\t\tanalyzer.parentResults = actionsData.parent && <AnalyzerResults>actionsData.parent.ir;\n\t\tlet ir: AnalyzerResults = analyzer.analyze(parser);\n\t\tactionsData.ir = ir;\n\n\t\tif (avm1CompilerEnabled.value) {\n\t\t\ttry {\n\t\t\t\tlet c = new ActionsDataCompiler();\n\t\t\t\tcompiled = c.generate(ir);\n\t\t\t\tactionsData.compiled = compiled;\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('Unable to compile AVM1 function: ' + e);\n\t\t\t}\n\t\t}\n\n\t}\n\n\tfunction interpretActionsData(ectx: ExecutionContext, actionsData: AVM1ActionsData) {\n\t\tif (!actionsData.ir && !actionsData.compiled) {\n\t\t\tanalyzeAndCompileActionsData(ectx, actionsData);\n\t\t}\n\n\t\tlet currentContext = ectx.context;\n\t\tlet scopeList = ectx.scopeList;\n\n\t\tlet scope = scopeList.scope;\n\t\tlet as3Object = (<any>scope)._as3Object; // FIXME refactor\n\t\tif (as3Object && as3Object._deferScriptExecution) {\n\t\t\tcurrentContext.deferScriptExecution = true;\n\t\t}\n\n\t\tlet compiled = actionsData.compiled;\n\t\tif (compiled) {\n\t\t\trelease || (currentContext.actionTracer && currentContext.actionTracer.message('Running compiled ' + actionsData.id));\n\t\t\treturn compiled(ectx);\n\t\t}\n\n\t\tlet instructionsExecuted = 0;\n\t\tlet abortExecutionAt = currentContext.abortExecutionAt;\n\n\t\tlet ir = actionsData.ir;\n\t\tif (avm1DebuggerEnabled.value &&\n\t\t\t(Debugger.pause || Debugger.breakpoints[(<AnalyzerResults>ir).dataId])) {\n\t\t\tdebugger;\n\t\t}\n\n\t\trelease || Debug.assert(ir);\n\n\t\tlet position = 0;\n\t\tlet nextAction: ActionCodeBlockItem = (<AnalyzerResults>ir).actions[position];\n\t\t// will try again if we are skipping errors\n\t\twhile (nextAction && !ectx.isEndOfActions) {\n\t\t\t// let's check timeout/Date.now every some number of instructions\n\t\t\tif (instructionsExecuted++ % CHECK_AVM1_HANG_EVERY === 0 && Date.now() >= abortExecutionAt) {\n\t\t\t\tthrow new AVM1CriticalError('long running script -- AVM1 instruction hang timeout');\n\t\t\t}\n\n\t\t\tlet shallBranch: boolean = interpretActionWithRecovery(ectx, nextAction.action);\n\t\t\tif (shallBranch) {\n\t\t\t\tposition = nextAction.conditionalJumpTo;\n\t\t\t} else {\n\t\t\t\tposition = nextAction.next;\n\t\t\t}\n\t\t\tnextAction = (<AnalyzerResults>ir).actions[position];\n\t\t}\n\t\tlet stack = ectx.stack;\n\t\treturn stack.pop();\n\t}\n\n\tclass ActionTracer {\n\t\tprivate _indentation = 0;\n\t\tprivate _indentStringCache: Array<string> = [];\n\n\t\tprivate _getIndentString(): string {\n\t\t\treturn this._indentStringCache[this._indentation] ||\n\t\t\t\t(this._indentStringCache[this._indentation] = new Array(this._indentation + 1).join('..'));\n\t\t}\n\n\t\tprint(parsedAction: ParsedAction, stack: any[]): void {\n\t\t\tlet position: number = parsedAction.position;\n\t\t\tlet actionCode: number = parsedAction.actionCode;\n\t\t\tlet actionName: string = parsedAction.actionName;\n\t\t\tlet stackDump = [];\n\t\t\tfor (let q = 0; q < stack.length; q++) {\n\t\t\t\tlet item = stack[q];\n\t\t\t\tif (item && typeof item === 'object') {\n\t\t\t\t\tlet constr = item.alGetConstructorProperty();\n\t\t\t\t\tstackDump.push('[' + (constr ? constr.name : 'Object') + ']');\n\n\t\t\t\t} else {\n\t\t\t\t\tstackDump.push(item);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconsole.log('AVM1 trace: ' + this._getIndentString() + position + ': ' +\n\t\t\t\tactionName + '(' + actionCode.toString(16) + '), ' +\n\t\t\t\t'stack=' + stackDump);\n\t\t}\n\n\t\tindent(): void {\n\t\t\tthis._indentation++;\n\t\t}\n\n\t\tunindent(): void {\n\t\t\tthis._indentation--;\n\t\t}\n\n\t\tmessage(msg: string): void {\n\t\t\tconsole.log('AVM1 trace: ------- ' + msg);\n\t\t}\n\t}\n\n\texport enum MovieClipProperties {\n\t\t_x,\n\t\t_y,\n\t\t_xscale,\n\t\t_yscale,\n\t\t_currentframe,\n\t\t_totalframes,\n\t\t_alpha,\n\t\t_visible,\n\t\t_width,\n\t\t_height,\n\t\t_rotation,\n\t\t_target,\n\t\t_framesloaded,\n\t\t_name,\n\t\t_droptarget,\n\t\t_url,\n\t\t_highquality,\n\t\t_focusrect,\n\t\t_soundbuftime,\n\t\t_quality,\n\t\t_xmouse,\n\t\t_ymouse\n\t}\n}\n","/*\n * Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule Shumway.AVM1 {\n\timport notImplemented = Shumway.Debug.notImplemented;\n\n\tinterface IExecutionContext {\n\t\tconstantPool: any[];\n\t\tregisters: any[];\n\t\tstack: any[];\n\t\tisEndOfActions: boolean;\n\t}\n\n\tlet cachedActionsCalls: any = null;\n\n\tfunction getActionsCalls() {\n\t\tif (!cachedActionsCalls) {\n\t\t\tcachedActionsCalls = generateActionCalls();\n\t\t}\n\t\treturn cachedActionsCalls;\n\t}\n\n\t/**\n\t *  Bare-minimum JavaScript code generator to make debugging better.\n\t */\n\texport class ActionsDataCompiler {\n\t\tprivate convertArgs(args: any[], id: number, res: any, ir: AnalyzerResults): string {\n\t\t\tlet parts: string[] = [];\n\t\t\tfor (let i: number = 0; i < args.length; i++) {\n\t\t\t\tlet arg = args[i];\n\t\t\t\tif (typeof arg === 'object' && arg !== null && !Array.isArray(arg)) {\n\t\t\t\t\tif (arg instanceof ParsedPushConstantAction) {\n\t\t\t\t\t\tif (ir.singleConstantPool) {\n\t\t\t\t\t\t\tlet constant = ir.singleConstantPool[(<ParsedPushConstantAction> arg).constantIndex];\n\t\t\t\t\t\t\tparts.push(constant === undefined ? 'undefined' : JSON.stringify(constant));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet hint = '';\n\t\t\t\t\t\t\tlet currentConstantPool = res.constantPool;\n\t\t\t\t\t\t\tif (currentConstantPool) {\n\t\t\t\t\t\t\t\tlet constant = currentConstantPool[(<ParsedPushConstantAction> arg).constantIndex];\n\t\t\t\t\t\t\t\thint = constant === undefined ? 'undefined' : JSON.stringify(constant);\n\t\t\t\t\t\t\t\t// preventing code breakage due to bad constant\n\t\t\t\t\t\t\t\thint = hint.indexOf('*/') >= 0 ? '' : ' /* ' + hint + ' */';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tparts.push('constantPool[' + (<ParsedPushConstantAction> arg).constantIndex + ']' + hint);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (arg instanceof ParsedPushRegisterAction) {\n\t\t\t\t\t\tlet registerNumber = (<ParsedPushRegisterAction> arg).registerNumber;\n\t\t\t\t\t\tif (registerNumber < 0 || registerNumber >= ir.registersLimit) {\n\t\t\t\t\t\t\tparts.push('undefined'); // register is out of bounds -- undefined\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparts.push('registers[' + registerNumber + ']');\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (arg instanceof AVM1ActionsData) {\n\t\t\t\t\t\tlet resName = 'code_' + id + '_' + i;\n\t\t\t\t\t\tres[resName] = arg;\n\t\t\t\t\t\tparts.push('res.' + resName);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnotImplemented('Unknown AVM1 action argument type');\n\t\t\t\t\t}\n\t\t\t\t} else if (arg === undefined) {\n\t\t\t\t\tparts.push('undefined'); // special case\n\t\t\t\t} else {\n\t\t\t\t\tparts.push(JSON.stringify(arg));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn parts.join(',');\n\t\t}\n\n\t\tprivate convertAction(item: ActionCodeBlockItem, id: number, res: any, indexInBlock: number, ir: AnalyzerResults): string {\n\t\t\tswitch (item.action.actionCode) {\n\t\t\t\tcase ActionCode.ActionJump:\n\t\t\t\tcase ActionCode.ActionReturn:\n\t\t\t\t\treturn '';\n\t\t\t\tcase ActionCode.ActionConstantPool:\n\t\t\t\t\tres.constantPool = item.action.args[0];\n\t\t\t\t\treturn '  constantPool = [' + this.convertArgs(item.action.args[0], id, res, ir) + '];\\n' +\n\t\t\t\t\t\t'  ectx.constantPool = constantPool;\\n';\n\t\t\t\tcase ActionCode.ActionPush:\n\t\t\t\t\treturn '  stack.push(' + this.convertArgs(item.action.args, id, res, ir) + ');\\n';\n\t\t\t\tcase ActionCode.ActionStoreRegister:\n\t\t\t\t\tlet registerNumber = item.action.args[0];\n\t\t\t\t\tif (registerNumber < 0 || registerNumber >= ir.registersLimit) {\n\t\t\t\t\t\treturn ''; // register is out of bounds -- noop\n\t\t\t\t\t}\n\t\t\t\t\treturn '  registers[' + registerNumber + '] = stack[stack.length - 1];\\n';\n\t\t\t\tcase ActionCode.ActionWaitForFrame:\n\t\t\t\tcase ActionCode.ActionWaitForFrame2:\n\t\t\t\t\treturn '  if (calls.' + item.action.actionName + '(ectx,[' +\n\t\t\t\t\t\tthis.convertArgs(item.action.args, id, res, ir) + '])) { position = ' + item.conditionalJumpTo + '; ' +\n\t\t\t\t\t\t'checkTimeAfter -= ' + (indexInBlock + 1) + '; break; }\\n';\n\t\t\t\tcase ActionCode.ActionIf:\n\t\t\t\t\treturn '  if (!!stack.pop()) { position = ' + item.conditionalJumpTo + '; ' +\n\t\t\t\t\t\t'checkTimeAfter -= ' + (indexInBlock + 1) + '; break; }\\n';\n\t\t\t\tdefault:\n\t\t\t\t\tlet result = '  calls.' + item.action.actionName + '(ectx' +\n\t\t\t\t\t\t(item.action.args ? ',[' + this.convertArgs(item.action.args, id, res, ir) + ']' : '') +\n\t\t\t\t\t\t');\\n';\n\t\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\n\t\tgenerate(ir: AnalyzerResults): Function {\n\t\t\tlet blocks = ir.blocks;\n\t\t\tlet res = {};\n\t\t\tlet uniqueId = 0;\n\t\t\tlet debugName = ir.dataId;\n\t\t\tlet fn = 'return function avm1gen_' + debugName + '(ectx) {\\n' +\n\t\t\t\t'let position = 0;\\n' +\n\t\t\t\t'let checkTimeAfter = 0;\\n' +\n\t\t\t\t'let constantPool = ectx.constantPool, registers = ectx.registers, stack = ectx.stack;\\n';\n\t\t\tif (avm1DebuggerEnabled.value) {\n\t\t\t\tfn += '/* Running ' + debugName + ' */ ' +\n\t\t\t\t\t'if (Shumway.AVM1.Debugger.pause || Shumway.AVM1.Debugger.breakpoints.' +\n\t\t\t\t\tdebugName + ') { debugger; }\\n'\n\t\t\t}\n\t\t\tfn += 'while (!ectx.isEndOfActions) {\\n' +\n\t\t\t\t'if (checkTimeAfter <= 0) { checkTimeAfter = ' + CHECK_AVM1_HANG_EVERY + '; ectx.context.checkTimeout(); }\\n' +\n\t\t\t\t'switch(position) {\\n';\n\t\t\tblocks.forEach((b: ActionCodeBlock) => {\n\t\t\t\tfn += ' case ' + b.label + ':\\n';\n\t\t\t\tb.items.forEach((item: ActionCodeBlockItem, index: number) => {\n\t\t\t\t\tfn += this.convertAction(item, uniqueId++, res, index, ir);\n\t\t\t\t});\n\t\t\t\tfn += '  position = ' + b.jump + ';\\n' +\n\t\t\t\t\t'  checkTimeAfter -= ' + b.items.length + ';\\n' +\n\t\t\t\t\t'  break;\\n'\n\t\t\t});\n\t\t\tfn += ' default: ectx.isEndOfActions = true; break;\\n}\\n}\\n' +\n\t\t\t\t'return stack.pop();};';\n\t\t\tfn += '//# sourceURL=avm1gen-' + debugName;\n\t\t\treturn (new Function('calls', 'res', fn))(getActionsCalls(), res);\n\t\t}\n\t}\n\n\t// Instead of compiling, we can match frequently used actions patterns and use\n\t// the dictionary functions without analyzing or compilations of the code.\n\t// The functions/patterns were selected by analyzing the large amount of\n\t// real-life SWFs.\n\texport function findWellknowCompilation(actionsData: AVM1ActionsData, context: AVM1Context): Function {\n\t\tlet bytes = actionsData.bytes;\n\n\t\tlet fn: Function = null;\n\t\tif (bytes.length === 0 || bytes[0] === ActionCode.None) {\n\t\t\t// Empty/no actions or first command is ActionEnd.\n\t\t\tfn = actionsNoop;\n\t\t} else if (bytes.length >= 2 && bytes[1] === ActionCode.None) {\n\t\t\t// Single bytes actions: ActionPlay, ActionStop, ActionStopSounds\n\t\t\t// Example: 07 00\n\t\t\tswitch (bytes[0]) {\n\t\t\t\tcase ActionCode.ActionPlay:\n\t\t\t\t\tfn = actionsPlay;\n\t\t\t\t\tbreak;\n\t\t\t\tcase ActionCode.ActionStop:\n\t\t\t\t\tfn = actionsStop;\n\t\t\t\t\tbreak;\n\t\t\t\tcase ActionCode.ActionStopSounds:\n\t\t\t\t\tfn = actionsStopSounds;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t} else if (bytes.length >= 7 && bytes[6] === ActionCode.None &&\n\t\t\tbytes[0] === ActionCode.ActionGotoFrame &&\n\t\t\tbytes[1] === 2 && bytes[2] === 0 &&\n\t\t\tbytes[5] === ActionCode.ActionPlay) {\n\t\t\t// ActionGotoFrame n, ActionPlay\n\t\t\t// Example: 81 02 00 04 00 06 00\n\t\t\tlet frameIndex = bytes[3] | (bytes[4] << 8);\n\t\t\tfn = actionsGotoFrame.bind(null, [frameIndex, true]);\n\t\t} else if (bytes.length >= 6 && bytes[0] === ActionCode.ActionGoToLabel &&\n\t\t\tbytes[2] === 0 && bytes.length >= bytes[1] + 5 &&\n\t\t\tbytes[bytes[1] + 4] === ActionCode.None &&\n\t\t\tbytes[bytes[1] + 3] === ActionCode.ActionPlay) {\n\t\t\t//  ActionGoToLabel s, ActonPlay\n\t\t\t// Example: 8c 03 00 73 31 00 06 00\n\t\t\tlet stream = new ActionsDataStream(bytes.subarray(3, 3 + bytes[1]), context.swfVersion);\n\t\t\tlet label = stream.readString();\n\t\t\tfn = actionsGotoLabel.bind(null, [label, true]);\n\t\t}\n\n\t\t// TODO debugger pause and breakpoints ?\n\t\treturn fn;\n\t}\n\n\tfunction actionsNoop(ectx: IExecutionContext) {\n\t\t// no operations stub\n\t}\n\n\tfunction actionsPlay(ectx: IExecutionContext) {\n\t\tgetActionsCalls().ActionPlay(ectx);\n\t}\n\n\tfunction actionsStop(ectx: IExecutionContext) {\n\t\tgetActionsCalls().ActionStop(ectx);\n\t}\n\n\tfunction actionsStopSounds(ectx: IExecutionContext) {\n\t\tgetActionsCalls().ActionStopSounds(ectx);\n\t}\n\n\tfunction actionsGotoFrame(args: any[], ectx: IExecutionContext) {\n\t\tgetActionsCalls().ActionGotoFrame(ectx, args);\n\t}\n\n\tfunction actionsGotoLabel(args: any[], ectx: IExecutionContext) {\n\t\tgetActionsCalls().ActionGoToLabel(ectx, args);\n\t}\n}","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='../references.ts' />\n\nmodule Shumway.AVM1.Lib {\n\timport ASObject = Shumway.AVMX.AS.ASObject;\n\timport flash = Shumway.AVMX.AS.flash;\n\timport AXClass = Shumway.AVMX.AXClass;\n\n\texport let DEPTH_OFFSET = 16384;\n\n\texport interface IHasAS3ObjectReference {\n\t\t_as3Object: ASObject;\n\t}\n\n\texport interface IAVM1SymbolBase extends IHasAS3ObjectReference {\n\t\tcontext: AVM1Context;\n\n\t\tinitAVM1SymbolInstance(context: AVM1Context, as3Object: flash.display.InteractiveObject): void;\n\n\t\tupdateAllEvents(): void;\n\n\t\tgetDepth(): number;\n\t}\n\n\texport class AVM1EventHandler {\n\t\tconstructor(public propertyName: string,\n\t\t            public eventName: string,\n\t\t            public argsConverter: Function = null) {\n\t\t}\n\n\t\tpublic onBind(target: IAVM1SymbolBase): void {\n\t\t}\n\n\t\tpublic onUnbind(target: IAVM1SymbolBase): void {\n\t\t}\n\t}\n\n\t/**\n\t * Checks if an object contains a reference to a native AS3 object.\n\t * Returns false for MovieClip instances or instances of constructors with\n\t * MovieClip on their prototype chain that were created in script using,\n\t * e.g. new MovieClip(). Those lack the part of their internal structure\n\t * that makes them displayable.\n\t */\n\texport function hasAS3ObjectReference(obj: any): boolean {\n\t\treturn !!obj._as3Object;\n\t}\n\n\t/**\n\t * Returns obj's reference to a native AS3 object. If the reference\n\t * does not exist, returns undefined.\n\t */\n\texport function getAS3Object(obj: IHasAS3ObjectReference): ASObject {\n\t\treturn obj._as3Object;\n\t}\n\n\t/**\n\t * Returns obj's reference to a native AS3 object. If the reference\n\t * doesn't exist, obj was created in script, e.g. with new MovieClip(),\n\t * and doesn't reflect a real, displayable display object. In that case,\n\t * an empty null-proto object is created and returned. This is used for\n\t * classes that are linked to embedded symbols that extend MovieClip. Their\n\t * inheritance chain is built by assigning new MovieClip to their prototype.\n\t * When a proper, displayable, instance of such a class is created via\n\t * attachMovie, initial values for properties such as tabEnabled\n\t * can be initialized from values set on the template object.\n\t */\n\texport function getAS3ObjectOrTemplate<T extends flash.display.InteractiveObject>(obj: AVM1SymbolBase<T>): T {\n\t\tif (obj._as3Object) {\n\t\t\treturn <T>obj._as3Object;\n\t\t}\n\t\t// The _as3ObjectTemplate is not really an ASObject type, but we will fake\n\t\t// that for AVM1SymbolBase's properties transfers.\n\t\tif (!obj._as3ObjectTemplate) {\n\t\t\tlet template;\n\t\t\tlet proto = obj.alPrototype;\n\t\t\twhile (proto && !(<any>proto).initAVM1SymbolInstance) {\n\t\t\t\ttemplate = (<any>proto)._as3ObjectTemplate;\n\t\t\t\tif (template) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tproto = proto.alPrototype;\n\t\t\t}\n\t\t\tobj._as3ObjectTemplate = Object.create(template || null);\n\t\t}\n\t\treturn <T>obj._as3ObjectTemplate;\n\t}\n\n\texport class AVM1LoaderHelper {\n\t\tprivate _loader: flash.display.Loader;\n\t\tprivate _context: AVM1Context;\n\n\t\tpublic get loader(): flash.display.Loader {\n\t\t\treturn this._loader;\n\t\t}\n\n\t\tpublic get loaderInfo(): flash.display.LoaderInfo {\n\t\t\treturn this._loader.contentLoaderInfo;\n\t\t}\n\n\t\tpublic get content(): flash.display.DisplayObject {\n\t\t\treturn this._loader._content;\n\t\t}\n\n\t\tpublic constructor(context: AVM1Context) {\n\t\t\tthis._context = context;\n\t\t\tthis._loader = new context.sec.flash.display.Loader();\n\t\t}\n\n\t\tpublic load(url: string, method: string): Promise<flash.display.DisplayObject> {\n\t\t\tlet context = this._context;\n\t\t\tlet loader = this._loader;\n\t\t\tlet loaderContext: flash.system.LoaderContext = new context.sec.flash.system.LoaderContext();\n\t\t\tloaderContext._avm1Context = context;\n\t\t\tlet request = new context.sec.flash.net.URLRequest(url);\n\t\t\tif (method) {\n\t\t\t\trequest.method = method;\n\t\t\t}\n\n\t\t\tlet loaderInfo = loader.contentLoaderInfo;\n\t\t\tlet result = new PromiseWrapper<flash.display.DisplayObject>();\n\t\t\t// Waiting for content in the progress event -- the result promise will be resolved\n\t\t\t// as soon as loader's content will be set to non-empty value.\n\t\t\tlet progressEventHandler = function (e: flash.events.ProgressEvent): void {\n\t\t\t\tif (!loader._content) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tloaderInfo.removeEventListener(flash.events.ProgressEvent.PROGRESS, progressEventHandler);\n\t\t\t\tresult.resolve(loader._content);\n\t\t\t};\n\t\t\tloaderInfo.addEventListener(flash.events.ProgressEvent.PROGRESS, progressEventHandler);\n\n\t\t\tloader.load(request, loaderContext);\n\t\t\treturn result.promise;\n\t\t}\n\t}\n\n\texport class AVM1SymbolBase<T extends flash.display.InteractiveObject> extends AVM1Object implements IAVM1SymbolBase, IAVM1EventPropertyObserver {\n\t\t_as3Object: T;\n\t\t_as3ObjectTemplate: any;\n\n\t\tpublic initAVM1SymbolInstance(context: AVM1Context, as3Object: T) {\n\t\t\tAVM1Object.call(this, context);\n\n\t\t\trelease || Debug.assert(as3Object);\n\t\t\tthis._as3Object = as3Object;\n\t\t\tlet name = as3Object.name;\n\t\t\tlet parent = this.get_parent();\n\t\t\tif (name && parent) {\n\t\t\t\tparent._addChildName(this, name);\n\t\t\t}\n\t\t}\n\n\t\tprivate _eventsMap: MapObject<AVM1EventHandler>;\n\t\tprivate _events: AVM1EventHandler[];\n\t\tprivate _eventsListeners: MapObject<Function>;\n\n\t\tpublic bindEvents(events: AVM1EventHandler[], autoUnbind: boolean = true) {\n\t\t\tthis._events = events;\n\t\t\tlet eventsMap = Object.create(null);\n\t\t\tthis._eventsMap = eventsMap;\n\t\t\tthis._eventsListeners = Object.create(null);\n\t\t\tlet observer = this;\n\t\t\tlet context: AVM1Context = (<any>this).context;\n\t\t\tevents.forEach(function (event: AVM1EventHandler) {\n\t\t\t\t// Normalization will always stay valid in a player instance, so we can safely modify\n\t\t\t\t// the event itself, here.\n\t\t\t\tlet propertyName = event.propertyName = context.normalizeName(event.propertyName);\n\t\t\t\teventsMap[propertyName] = event;\n\t\t\t\tcontext.registerEventPropertyObserver(propertyName, observer);\n\t\t\t\tobserver._updateEvent(event);\n\t\t\t});\n\n\t\t\tif (autoUnbind) {\n\t\t\t\tobserver._as3Object.addEventListener('removedFromStage', function removedHandler() {\n\t\t\t\t\tobserver._as3Object.removeEventListener('removedFromStage', removedHandler);\n\t\t\t\t\tobserver.unbindEvents();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tpublic unbindEvents() {\n\t\t\tlet events = this._events;\n\t\t\tlet observer = this;\n\t\t\tlet context = this.context;\n\t\t\tevents.forEach(function (event: AVM1EventHandler) {\n\t\t\t\tcontext.unregisterEventPropertyObserver(event.propertyName, observer);\n\t\t\t\tobserver._removeEventListener(event);\n\t\t\t});\n\t\t\tthis._events = null;\n\t\t\tthis._eventsMap = null;\n\t\t\tthis._eventsListeners = null;\n\t\t}\n\n\t\tpublic updateAllEvents() {\n\t\t\tthis._events.forEach(function (event: AVM1EventHandler) {\n\t\t\t\tthis._updateEvent(event);\n\t\t\t}, this)\n\t\t}\n\n\t\tprivate _updateEvent(event: AVM1EventHandler) {\n\t\t\tif (avm1HasEventProperty(this.context, this, event.propertyName)) {\n\t\t\t\tthis._addEventListener(event);\n\t\t\t} else {\n\t\t\t\tthis._removeEventListener(event);\n\t\t\t}\n\t\t}\n\n\t\tprivate _addEventListener(event: AVM1EventHandler) {\n\t\t\tlet propertyName = this.context.normalizeName(event.propertyName);\n\t\t\tlet listener: any = this._eventsListeners[propertyName];\n\t\t\tif (!listener) {\n\t\t\t\tlistener = function avm1EventHandler() {\n\t\t\t\t\tlet args = event.argsConverter ? event.argsConverter.apply(null, arguments) : null;\n\t\t\t\t\tavm1BroadcastNativeEvent(this.context, this, propertyName, args);\n\t\t\t\t}.bind(this);\n\t\t\t\tthis._as3Object.addEventListener(event.eventName, listener);\n\t\t\t\tevent.onBind(this);\n\t\t\t\tthis._eventsListeners[propertyName] = listener;\n\t\t\t}\n\t\t}\n\n\t\tprivate _removeEventListener(event: AVM1EventHandler) {\n\t\t\tlet propertyName = this.context.normalizeName(event.propertyName);\n\t\t\tlet listener: any = this._eventsListeners[propertyName];\n\t\t\tif (listener) {\n\t\t\t\tevent.onUnbind(this);\n\t\t\t\tthis._as3Object.removeEventListener(event.eventName, listener);\n\t\t\t\tthis._eventsListeners[propertyName] = null;\n\t\t\t}\n\t\t}\n\n\t\tpublic onEventPropertyModified(propertyName: string) {\n\t\t\tpropertyName = this.context.normalizeName(propertyName);\n\t\t\tlet event = this._eventsMap[propertyName];\n\t\t\tthis._updateEvent(event);\n\t\t}\n\n\t\t// Common DisplayObject properties\n\n\t\tpublic get_alpha(): number {\n\t\t\treturn this._as3Object.alpha * 100;\n\t\t}\n\n\t\tpublic set_alpha(value: number) {\n\t\t\tvalue = alToNumber(this.context, value);\n\t\t\tif (isNaN(value)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._as3Object.alpha = value / 100;\n\t\t}\n\n\t\tpublic getBlendMode(): string {\n\t\t\treturn this._as3Object.blendMode;\n\t\t}\n\n\t\tpublic setBlendMode(value: string) {\n\t\t\tvalue = typeof value === 'number' ? BlendModesMap[value] : alCoerceString(this.context, value);\n\t\t\tthis._as3Object.blendMode = value || null;\n\t\t}\n\n\t\tpublic getCacheAsBitmap(): boolean {\n\t\t\treturn this._as3Object.cacheAsBitmap;\n\t\t}\n\n\t\tpublic setCacheAsBitmap(value: boolean) {\n\t\t\tvalue = alToBoolean(this.context, value);\n\t\t\tthis._as3Object.cacheAsBitmap = value;\n\t\t}\n\n\t\tpublic getFilters(): AVM1Object {\n\t\t\treturn convertFromAS3Filters(this.context, this._as3Object.filters);\n\t\t}\n\n\t\tpublic setFilters(value: any) {\n\t\t\tthis._as3Object.filters = convertToAS3Filters(this.context, value);\n\t\t}\n\n\t\tpublic get_focusrect(): boolean {\n\t\t\treturn this._as3Object.focusRect || false; // suppressing null\n\t\t}\n\n\t\tpublic set_focusrect(value: boolean) {\n\t\t\tvalue = alToBoolean(this.context, value);\n\t\t\tthis._as3Object.focusRect = value;\n\t\t}\n\n\t\tpublic get_height() {\n\t\t\treturn this._as3Object.height;\n\t\t}\n\n\t\tpublic set_height(value: number) {\n\t\t\tvalue = alToNumber(this.context, value);\n\t\t\tif (isNaN(value)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._as3Object.height = value;\n\t\t}\n\n\t\tpublic get_highquality(): number {\n\t\t\tswitch (this.get_quality()) {\n\t\t\t\tcase 'BEST':\n\t\t\t\t\treturn 2;\n\t\t\t\tcase 'HIGH':\n\t\t\t\t\treturn 1;\n\t\t\t\tdefault: // case 'LOW':\n\t\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\n\t\tpublic set_highquality(value: number) {\n\t\t\tlet quality: string;\n\t\t\tswitch (alToInteger(this.context, value)) {\n\t\t\t\tcase 2:\n\t\t\t\t\tquality = 'BEST';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\t\tquality = 'HIGH';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tquality = 'LOW';\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.set_quality(quality);\n\t\t}\n\n\t\tpublic getMenu() {\n\t\t\tDebug.somewhatImplemented('AVM1SymbolBase.getMenu');\n\t\t\t// return this._as3Object.contextMenu;\n\t\t}\n\n\t\tpublic setMenu(value: any) {\n\t\t\tDebug.somewhatImplemented('AVM1SymbolBase.setMenu');\n\t\t\t// this._as3Object.contextMenu = value;\n\t\t}\n\n\t\tpublic get_name(): string {\n\t\t\treturn this._as3Object ? this._as3Object.name : undefined;\n\t\t}\n\n\t\tpublic set_name(value: string) {\n\t\t\tvalue = alCoerceString(this.context, value);\n\t\t\tlet oldName = this._as3Object.name;\n\t\t\tthis._as3Object.name = value;\n\t\t\tthis.get_parent()._updateChildName(<AVM1MovieClip><any>this, oldName, value);\n\t\t}\n\n\t\tpublic get_parent(): AVM1MovieClip {\n\t\t\tlet parent = getAVM1Object(this._as3Object.parent, this.context);\n\t\t\t// In AVM1, the _parent property is `undefined`, not `null` if the element has no parent.\n\t\t\treturn <AVM1MovieClip>parent || undefined;\n\t\t}\n\n\t\tpublic set_parent(value: AVM1MovieClip) {\n\t\t\tDebug.notImplemented('AVM1SymbolBase.set_parent');\n\t\t}\n\n\t\tpublic getOpaqueBackground(): number {\n\t\t\treturn this._as3Object.opaqueBackground;\n\t\t}\n\n\t\tpublic setOpaqueBackground(value: number) {\n\t\t\tif (isNullOrUndefined(value)) {\n\t\t\t\tthis._as3Object.opaqueBackground = null;\n\t\t\t} else {\n\t\t\t\tthis._as3Object.opaqueBackground = alToInt32(this.context, value);\n\t\t\t}\n\t\t}\n\n\t\tpublic get_quality(): string {\n\t\t\tDebug.somewhatImplemented('AVM1SymbolBase.get_quality');\n\t\t\treturn 'HIGH';\n\t\t}\n\n\t\tpublic set_quality(value: any) {\n\t\t\tDebug.somewhatImplemented('AVM1SymbolBase.set_quality');\n\t\t}\n\n\t\tpublic get_root(): AVM1MovieClip {\n\t\t\tlet as3Object: flash.display.InteractiveObject = this._as3Object;\n\t\t\twhile (as3Object && as3Object !== as3Object.root) {\n\t\t\t\tlet as2Object = <AVM1MovieClip>getAVM1Object(as3Object, this.context);\n\t\t\t\tif (as2Object.get_lockroot()) {\n\t\t\t\t\treturn as2Object;\n\t\t\t\t}\n\t\t\t\tas3Object = as3Object.parent;\n\t\t\t}\n\t\t\tif (!as3Object) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn <AVM1MovieClip>getAVM1Object(as3Object, this.context);\n\t\t}\n\n\t\tpublic get_rotation(): number {\n\t\t\treturn this._as3Object.rotation;\n\t\t}\n\n\t\tpublic set_rotation(value: number) {\n\t\t\tvalue = alToNumber(this.context, value);\n\t\t\tif (isNaN(value)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._as3Object.rotation = value;\n\t\t}\n\n\t\tpublic getScale9Grid(): AVM1Rectangle {\n\t\t\treturn AVM1Rectangle.fromAS3Rectangle(this.context, this._as3Object.scale9Grid);\n\t\t}\n\n\t\tpublic setScale9Grid(value: AVM1Rectangle) {\n\t\t\tthis._as3Object.scale9Grid = isNullOrUndefined(value) ? null : toAS3Rectangle(value);\n\t\t}\n\n\t\tpublic getScrollRect(): AVM1Rectangle {\n\t\t\treturn AVM1Rectangle.fromAS3Rectangle(this.context, this._as3Object.scrollRect);\n\t\t}\n\n\t\tpublic setScrollRect(value: AVM1Rectangle) {\n\t\t\tthis._as3Object.scrollRect = isNullOrUndefined(value) ? null : toAS3Rectangle(value);\n\t\t}\n\n\t\tpublic get_soundbuftime(): number {\n\t\t\tDebug.somewhatImplemented('AVM1SymbolBase.get_soundbuftime');\n\t\t\treturn 0;\n\t\t}\n\n\t\tpublic set_soundbuftime(value: number) {\n\t\t\tDebug.somewhatImplemented('AVM1SymbolBase.set_soundbuftime');\n\t\t}\n\n\t\tpublic getTabEnabled(): boolean {\n\t\t\treturn getAS3ObjectOrTemplate(this).tabEnabled;\n\t\t}\n\n\t\tpublic setTabEnabled(value: boolean) {\n\t\t\tvalue = alToBoolean(this.context, value);\n\t\t\tgetAS3ObjectOrTemplate(this).tabEnabled = value;\n\t\t}\n\n\t\tpublic getTabIndex(): number {\n\t\t\tlet tabIndex = this._as3Object.tabIndex;\n\t\t\treturn tabIndex < 0 ? undefined : tabIndex;\n\t\t}\n\n\t\tpublic setTabIndex(value: number) {\n\t\t\tif (isNullOrUndefined(value)) {\n\t\t\t\tthis._as3Object.tabIndex = -1;\n\t\t\t} else {\n\t\t\t\tthis._as3Object.tabIndex = alToInteger(this.context, value);\n\t\t\t}\n\t\t}\n\n\t\tpublic get_target(): string {\n\t\t\tlet nativeObject: flash.display.DisplayObject = this._as3Object;\n\t\t\tif (nativeObject === nativeObject.root) {\n\t\t\t\treturn '/';\n\t\t\t}\n\t\t\tlet path = '';\n\t\t\tdo {\n\t\t\t\tif (isNullOrUndefined(nativeObject)) {\n\t\t\t\t\trelease || Debug.assert(false);\n\t\t\t\t\treturn undefined; // something went wrong\n\t\t\t\t}\n\t\t\t\tpath = '/' + nativeObject.name + path;\n\t\t\t\tnativeObject = nativeObject.parent;\n\t\t\t} while (nativeObject !== nativeObject.root);\n\t\t\treturn path;\n\t\t}\n\n\t\tpublic getTransform(): AVM1Object {\n\t\t\tlet transformCtor = <AVM1Function>this.context.globals.Transform;\n\t\t\treturn transformCtor.alConstruct([this]);\n\t\t}\n\n\t\tpublic setTransform(value: AVM1Transform) {\n\t\t\tif (!(value instanceof AVM1Transform)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet as3Transform = value.as3Transform;\n\t\t\tthis._as3Object.transform = as3Transform;\n\t\t}\n\n\t\tpublic get_visible(): boolean {\n\t\t\treturn this._as3Object.visible;\n\t\t}\n\n\t\tpublic set_visible(value: boolean) {\n\t\t\tvalue = alToBoolean(this.context, value);\n\t\t\tthis._as3Object.visible = value;\n\t\t}\n\n\t\tpublic get_url(): string {\n\t\t\treturn this._as3Object.loaderInfo.url;\n\t\t}\n\n\t\tpublic get_width(): number {\n\t\t\treturn this._as3Object.width;\n\t\t}\n\n\t\tpublic set_width(value: number) {\n\t\t\tvalue = alToNumber(this.context, value);\n\t\t\tif (isNaN(value)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._as3Object.width = value;\n\t\t}\n\n\t\tpublic get_x(): number {\n\t\t\treturn this._as3Object.x;\n\t\t}\n\n\t\tpublic set_x(value: number) {\n\t\t\tvalue = alToNumber(this.context, value);\n\t\t\tif (isNaN(value)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._as3Object.x = value;\n\t\t}\n\n\t\tpublic get_xmouse(): number {\n\t\t\treturn this._as3Object.mouseX;\n\t\t}\n\n\t\tpublic get_xscale(): number {\n\t\t\treturn this._as3Object.scaleX * 100;\n\t\t}\n\n\t\tpublic set_xscale(value: number) {\n\t\t\tvalue = alToNumber(this.context, value);\n\t\t\tif (isNaN(value)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._as3Object.scaleX = value / 100;\n\t\t}\n\n\t\tpublic get_y(): number {\n\t\t\treturn this._as3Object.y;\n\t\t}\n\n\t\tpublic set_y(value: number) {\n\t\t\tvalue = alToNumber(this.context, value);\n\t\t\tif (isNaN(value)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._as3Object.y = value;\n\t\t}\n\n\t\tpublic get_ymouse(): number {\n\t\t\treturn this._as3Object.mouseY;\n\t\t}\n\n\t\tpublic get_yscale(): number {\n\t\t\treturn this._as3Object.scaleY * 100;\n\t\t}\n\n\t\tpublic set_yscale(value: number) {\n\t\t\tvalue = alToNumber(this.context, value);\n\t\t\tif (isNaN(value)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._as3Object.scaleY = value / 100;\n\t\t}\n\n\t\tpublic getDepth() {\n\t\t\treturn this._as3Object._depth - DEPTH_OFFSET;\n\t\t}\n\t}\n\n\texport let BlendModesMap = [undefined, \"normal\", \"layer\", \"multiply\",\n\t\t\"screen\", \"lighten\", \"darken\", \"difference\", \"add\", \"subtract\", \"invert\",\n\t\t\"alpha\", \"erase\", \"overlay\", \"hardlight\"];\n\n\texport function avm1HasEventProperty(context: AVM1Context, target: any, propertyName: string): boolean {\n\t\tif (target.alHasProperty(propertyName) &&\n\t\t\t(target.alGet(propertyName) instanceof AVM1Function)) {\n\t\t\treturn true;\n\t\t}\n\t\tlet listenersField = target.alGet('_listeners');\n\t\tif (!(listenersField instanceof Natives.AVM1ArrayNative)) {\n\t\t\treturn false;\n\t\t}\n\t\tlet listeners: any[] = listenersField.value;\n\t\treturn listeners.some(function (listener) {\n\t\t\treturn (listener instanceof AVM1Object) && listener.alHasProperty(propertyName);\n\t\t});\n\t}\n\n\tfunction avm1BroadcastNativeEvent(context: AVM1Context, target: any, propertyName: string, args: any[] = null): void {\n\t\tlet handler: AVM1Function = target.alGet(propertyName);\n\t\tif (handler instanceof AVM1Function) {\n\t\t\tcontext.executeFunction(handler, target, args);\n\t\t}\n\t\tlet _listeners = target.alGet('_listeners');\n\t\tif (_listeners instanceof Natives.AVM1ArrayNative) {\n\t\t\t_listeners.value.forEach(function (listener) {\n\t\t\t\tif (!(listener instanceof AVM1Object)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet handlerOnListener: AVM1Function = listener.alGet(propertyName);\n\t\t\t\tif (handlerOnListener instanceof AVM1Function) {\n\t\t\t\t\tcontext.executeFunction(handlerOnListener, target, args);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\texport function avm1BroadcastEvent(context: AVM1Context, target: any, propertyName: string, args: any[] = null): void {\n\t\tlet handler: AVM1Function = target.alGet(propertyName);\n\t\tif (handler instanceof AVM1Function) {\n\t\t\thandler.alCall(target, args);\n\t\t}\n\t\tlet _listeners = target.alGet('_listeners');\n\t\tif (_listeners instanceof Natives.AVM1ArrayNative) {\n\t\t\t_listeners.value.forEach(function (listener) {\n\t\t\t\tif (!(listener instanceof AVM1Object)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet handlerOnListener: AVM1Function = listener.alGet(propertyName);\n\t\t\t\tif (handlerOnListener instanceof AVM1Function) {\n\t\t\t\t\thandlerOnListener.alCall(target, args);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction createAVM1NativeObject(ctor: any, nativeObject: flash.display.DisplayObject, context: AVM1Context) {\n\t\t// We need to walk on __proto__ to find right ctor.prototype.\n\t\tlet template;\n\t\tlet proto = ctor.alGetPrototypeProperty();\n\t\twhile (proto && !(<any>proto).initAVM1SymbolInstance) {\n\t\t\tif ((<any>proto)._as3ObjectTemplate && !template) {\n\t\t\t\ttemplate = (<any>proto)._as3ObjectTemplate;\n\t\t\t}\n\t\t\tproto = proto.alPrototype;\n\t\t}\n\t\trelease || Debug.assert(proto);\n\t\tlet avm1Object = Object.create(proto);\n\t\t(<any>proto).initAVM1SymbolInstance.call(avm1Object, context, nativeObject);\n\t\tavm1Object.alPrototype = ctor.alGetPrototypeProperty();\n\t\tavm1Object.alSetOwnConstructorProperty(ctor);\n\t\t(<any>nativeObject)._as2Object = avm1Object;\n\t\tctor.alCall(avm1Object);\n\t\tif (template) {\n\t\t\t// transfer properties from the template\n\t\t\tfor (let prop in template) {\n\t\t\t\tnativeObject[prop] = template[prop];\n\t\t\t}\n\t\t}\n\t\treturn avm1Object;\n\t}\n\n\texport function getAVM1Object(as3Object: any, context: AVM1Context): AVM1Object {\n\t\tif (!as3Object) {\n\t\t\treturn null;\n\t\t}\n\t\tif (as3Object._as2Object) {\n\t\t\treturn as3Object._as2Object;\n\t\t}\n\t\tlet sec = context.sec;\n\t\tif (sec.flash.display.MovieClip.axClass.axIsType(as3Object)) {\n\t\t\tlet theClass = as3Object._symbol &&\n\t\t\t\tcontext.getSymbolClass(as3Object._symbol.data.id);\n\t\t\tif (theClass) {\n\t\t\t\treturn createAVM1NativeObject(theClass, as3Object, context);\n\t\t\t}\n\t\t\treturn createAVM1NativeObject(context.globals.MovieClip, as3Object, context);\n\t\t}\n\t\tif (sec.flash.display.SimpleButton.axClass.axIsType(as3Object)) {\n\t\t\treturn createAVM1NativeObject(context.globals.Button, as3Object, context);\n\t\t}\n\t\tif (sec.flash.text.TextField.axClass.axIsType(as3Object)) {\n\t\t\treturn createAVM1NativeObject(context.globals.TextField, as3Object, context);\n\t\t}\n\t\tif (sec.flash.display.BitmapData.axClass.axIsType(as3Object)) {\n\t\t\treturn new as3Object;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\texport function wrapAVM1NativeMembers(context: AVM1Context, wrap: AVM1Object, obj: any, members: string[], prefixFunctions: boolean = false): void {\n\t\tfunction wrapFunction(fn: any) {\n\t\t\tif (isNullOrUndefined(fn)) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\trelease || Debug.assert(typeof fn === 'function');\n\t\t\tif (!prefixFunctions) {\n\t\t\t\treturn new AVM1NativeFunction(context, fn);\n\t\t\t}\n\t\t\treturn new AVM1NativeFunction(context, function () {\n\t\t\t\tlet args = Array.prototype.slice.call(arguments, 0);\n\t\t\t\targs.unshift(context);\n\t\t\t\treturn fn.apply(this, args);\n\t\t\t});\n\t\t}\n\n\t\tfunction getMemberDescriptor(memberName: string): PropertyDescriptor {\n\t\t\tlet desc;\n\t\t\tfor (let p = obj; p; p = Object.getPrototypeOf(p)) {\n\t\t\t\tdesc = Object.getOwnPropertyDescriptor(p, memberName);\n\t\t\t\tif (desc) {\n\t\t\t\t\treturn desc;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tif (!members) {\n\t\t\treturn;\n\t\t}\n\t\tmembers.forEach(function (memberName) {\n\t\t\tif (memberName[memberName.length - 1] === '#') {\n\t\t\t\t// Property mapping\n\t\t\t\tlet getterName = 'get' + memberName[0].toUpperCase() + memberName.slice(1, -1);\n\t\t\t\tlet getter = obj[getterName];\n\t\t\t\tlet setterName = 'set' + memberName[0].toUpperCase() + memberName.slice(1, -1);\n\t\t\t\tlet setter = obj[setterName];\n\t\t\t\trelease || Debug.assert(getter || setter, 'define getter or setter')\n\t\t\t\tlet desc = new AVM1PropertyDescriptor(AVM1PropertyFlags.ACCESSOR |\n\t\t\t\t\tAVM1PropertyFlags.DONT_DELETE |\n\t\t\t\t\tAVM1PropertyFlags.DONT_ENUM,\n\t\t\t\t\tnull, wrapFunction(getter), wrapFunction(setter));\n\t\t\t\twrap.alSetOwnProperty(memberName.slice(0, -1), desc);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet nativeDesc = getMemberDescriptor(memberName);\n\t\t\tif (!nativeDesc) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (nativeDesc.get || nativeDesc.set) {\n\t\t\t\trelease || Debug.assert(false, 'Redefine ' + memberName + ' property getter/setter as functions');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet value = nativeDesc.value;\n\t\t\tif (typeof value === 'function') {\n\t\t\t\tvalue = wrapFunction(value);\n\t\t\t}\n\t\t\tlet desc = new AVM1PropertyDescriptor(AVM1PropertyFlags.DATA |\n\t\t\t\tAVM1PropertyFlags.DONT_DELETE |\n\t\t\t\tAVM1PropertyFlags.DONT_ENUM,\n\t\t\t\tvalue);\n\t\t\twrap.alSetOwnProperty(memberName, desc);\n\t\t});\n\t}\n\n\texport function wrapAVM1NativeClass(context: AVM1Context, wrapAsFunction: boolean, cls: typeof AVM1Object, staticMembers: string[], members: string[], call?: Function, cstr?: Function): AVM1Object {\n\t\tlet wrappedFn = wrapAsFunction ?\n\t\t\tnew AVM1NativeFunction(context, call || function () {\n\t\t\t}, function () {\n\t\t\t\t// Creating simple AVM1 object\n\t\t\t\tlet obj = new cls(context);\n\t\t\t\tobj.alPrototype = wrappedPrototype;\n\t\t\t\tobj.alSetOwnConstructorProperty(wrappedFn);\n\t\t\t\tif (cstr) {\n\t\t\t\t\tcstr.apply(obj, arguments);\n\t\t\t\t}\n\t\t\t\treturn obj;\n\t\t\t}) :\n\t\t\tnew AVM1Object(context);\n\t\twrapAVM1NativeMembers(context, wrappedFn, cls, staticMembers, true);\n\t\tlet wrappedPrototype = new cls(context);\n\t\twrappedPrototype.alPrototype = context.builtins.Object.alGetPrototypeProperty();\n\t\twrapAVM1NativeMembers(context, wrappedPrototype, cls.prototype, members, false);\n\t\talDefineObjectProperties(wrappedFn, {\n\t\t\tprototype: {\n\t\t\t\tvalue: wrappedPrototype\n\t\t\t}\n\t\t});\n\t\talDefineObjectProperties(wrappedPrototype, {\n\t\t\tconstructor: {\n\t\t\t\tvalue: wrappedFn,\n\t\t\t\twritable: true\n\t\t\t}\n\t\t});\n\t\treturn wrappedFn;\n\t}\n\n\t// TODO: type arguments strongly\n\texport function initializeAVM1Object(as3Object: any,\n\t                                     context: AVM1Context,\n\t                                     placeObjectTag: any) {\n\t\tlet instanceAVM1 = <AVM1SymbolBase<flash.display.InteractiveObject>>getAVM1Object(as3Object, context);\n\t\trelease || Debug.assert(instanceAVM1);\n\n\t\tif (placeObjectTag.variableName) {\n\t\t\tinstanceAVM1.alPut('variable', placeObjectTag.variableName);\n\t\t}\n\n\t\tlet events = placeObjectTag.events;\n\t\tif (!events) {\n\t\t\treturn;\n\t\t}\n\t\tlet stageListeners: Array<any> = [];\n\t\tlet as3Stage = (<any>context.globals.Stage)._as3Stage;\n\t\tfor (let j = 0; j < events.length; j++) {\n\t\t\tlet swfEvent = events[j];\n\t\t\tlet actionsData;\n\t\t\tif (swfEvent.actionsBlock) {\n\t\t\t\tactionsData = context.actionsDataFactory.createActionsData(\n\t\t\t\t\tswfEvent.actionsBlock,\n\t\t\t\t\t's' + placeObjectTag.symbolId + 'd' + placeObjectTag.depth + 'e' + j);\n\t\t\t\tswfEvent.actionsBlock = null;\n\t\t\t\tswfEvent.compiled = actionsData;\n\t\t\t} else {\n\t\t\t\tactionsData = swfEvent.compiled;\n\t\t\t}\n\t\t\trelease || Debug.assert(actionsData);\n\t\t\tlet handler = clipEventHandler.bind(null, actionsData, instanceAVM1);\n\t\t\tlet flags = swfEvent.flags;\n\t\t\tfor (let eventFlag in ClipEventMappings) {\n\t\t\t\tif ((flags & (+eventFlag)) === 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tlet eventMapping = ClipEventMappings[eventFlag];\n\t\t\t\tlet eventName = eventMapping.name;\n\t\t\t\tif (!eventName) {\n\t\t\t\t\tDebug.warning(\"ClipEvent: \" + eventFlag + ' not implemented');\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// AVM1 MovieClips are set to button mode if one of the button-related event listeners is\n\t\t\t\t// set. This behaviour is triggered regardless of the actual value they are set to.\n\t\t\t\tif (eventMapping.isButtonEvent) {\n\t\t\t\t\tas3Object.buttonMode = true;\n\t\t\t\t}\n\n\t\t\t\t// Some AVM1 MovieClip events (e.g. mouse and key events) are bound to\n\t\t\t\t// the stage rather then object itself -- binding listeners there.\n\t\t\t\tif (eventMapping.isStageEvent) {\n\t\t\t\t\tstageListeners.push({eventName: eventName, handler: handler});\n\t\t\t\t\tas3Stage.addEventListener(eventName, handler);\n\t\t\t\t} else {\n\t\t\t\t\tas3Object.addEventListener(eventName, handler);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (stageListeners.length > 0) {\n\t\t\tas3Object.addEventListener('removedFromStage', function () {\n\t\t\t\tfor (let i = 0; i < stageListeners.length; i++) {\n\t\t\t\t\tas3Stage.removeEventListener(stageListeners[i].eventName, stageListeners[i].fn, false);\n\t\t\t\t}\n\t\t\t}, false);\n\t\t}\n\t}\n\n\tfunction clipEventHandler(actionsData: AVM1.AVM1ActionsData,\n\t                          receiver: IAVM1SymbolBase) {\n\t\treturn receiver.context.executeActions(actionsData, receiver);\n\t}\n\n\timport AVM1ClipEvents = SWF.Parser.AVM1ClipEvents;\n\tlet ClipEventMappings: { [key: number]: { name: string; isStageEvent: boolean; isButtonEvent: boolean } };\n\tClipEventMappings = Object.create(null);\n\tClipEventMappings[AVM1ClipEvents.Load] = {name: 'load', isStageEvent: false, isButtonEvent: false};\n\t// AVM1's enterFrame happens at the same point in the cycle as AVM2's frameConstructed.\n\tClipEventMappings[AVM1ClipEvents.EnterFrame] = {\n\t\tname: 'frameConstructed',\n\t\tisStageEvent: false,\n\t\tisButtonEvent: false\n\t};\n\tClipEventMappings[AVM1ClipEvents.Unload] = {name: 'unload', isStageEvent: false, isButtonEvent: false};\n\tClipEventMappings[AVM1ClipEvents.MouseMove] = {name: 'mouseMove', isStageEvent: true, isButtonEvent: false};\n\tClipEventMappings[AVM1ClipEvents.MouseDown] = {name: 'mouseDown', isStageEvent: true, isButtonEvent: false};\n\tClipEventMappings[AVM1ClipEvents.MouseUp] = {name: 'mouseUp', isStageEvent: true, isButtonEvent: false};\n\tClipEventMappings[AVM1ClipEvents.KeyDown] = {name: 'keyDown', isStageEvent: true, isButtonEvent: false};\n\tClipEventMappings[AVM1ClipEvents.KeyUp] = {name: 'keyUp', isStageEvent: true, isButtonEvent: false};\n\tClipEventMappings[AVM1ClipEvents.Data] = {name: null, isStageEvent: false, isButtonEvent: false};\n\tClipEventMappings[AVM1ClipEvents.Initialize] = {name: 'initialize', isStageEvent: false, isButtonEvent: false};\n\tClipEventMappings[AVM1ClipEvents.Press] = {name: 'mouseDown', isStageEvent: true, isButtonEvent: true};\n\tClipEventMappings[AVM1ClipEvents.Release] = {name: 'click', isStageEvent: false, isButtonEvent: true};\n\tClipEventMappings[AVM1ClipEvents.ReleaseOutside] = {\n\t\tname: 'releaseOutside',\n\t\tisStageEvent: false,\n\t\tisButtonEvent: true\n\t};\n\tClipEventMappings[AVM1ClipEvents.RollOver] = {name: 'mouseOver', isStageEvent: true, isButtonEvent: true};\n\tClipEventMappings[AVM1ClipEvents.RollOut] = {name: 'mouseOut', isStageEvent: true, isButtonEvent: true};\n\tClipEventMappings[AVM1ClipEvents.DragOver] = {name: null, isStageEvent: false, isButtonEvent: false};\n\tClipEventMappings[AVM1ClipEvents.DragOut] = {name: null, isStageEvent: false, isButtonEvent: false};\n\tClipEventMappings[AVM1ClipEvents.KeyPress] = {name: null, isStageEvent: true, isButtonEvent: false};\n\tClipEventMappings[AVM1ClipEvents.Construct] = {name: 'construct', isStageEvent: false, isButtonEvent: false};\n\n}\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='../references.ts' />\n\nmodule Shumway.AVM1.Lib {\n\timport notImplemented = Shumway.Debug.notImplemented;\n\timport somewhatImplemented = Shumway.Debug.somewhatImplemented;\n\timport assert = Shumway.Debug.assert;\n\n\timport flash = Shumway.AVMX.AS.flash; // REDUX remove\n\n\tlet _escape: (str: string) => string = jsGlobal.escape;\n\n\tlet _internalTimeouts: number[] = [];\n\n\texport class AVM1Globals extends AVM1Object {\n\t\tpublic static createGlobalsObject(context: AVM1Context): AVM1Globals {\n\t\t\tlet globals = new AVM1Globals(context);\n\t\t\twrapAVM1NativeMembers(context, globals, globals,\n\t\t\t\t['flash', 'ASSetPropFlags', 'clearInterval', 'clearTimeout',\n\t\t\t\t\t'escape', 'unescape', 'setInterval', 'setTimeout', 'showRedrawRegions',\n\t\t\t\t\t'trace', 'updateAfterEvent',\n\t\t\t\t\t'NaN', 'Infinity', 'isFinite', 'isNaN', 'parseFloat', 'parseInt', 'undefined',\n\t\t\t\t\t'Object', 'Function', 'Array', 'Number', 'Math', 'Boolean', 'Date', 'String', 'Error',\n\t\t\t\t\t'MovieClip', 'AsBroadcaster', 'System', 'Stage', 'Button',\n\t\t\t\t\t'TextField', 'Color', 'Key', 'Mouse', 'MovieClipLoader', 'XML', 'XMLNode', 'LoadVars',\n\t\t\t\t\t'Sound', 'SharedObject', 'ContextMenu', 'ContextMenuItem', 'TextFormat'], false);\n\t\t\treturn globals;\n\t\t}\n\n\t\tconstructor(context: AVM1Context) {\n\t\t\tsuper(context);\n\n\t\t\tthis._initBuiltins(context);\n\n\t\t\tlet swfVersion = context.loaderInfo.swfVersion;\n\t\t\tif (swfVersion >= 8) {\n\t\t\t\tthis._initializeFlashObject(context);\n\t\t\t}\n\t\t}\n\n\t\tpublic flash: AVM1Object;\n\n\t\tpublic ASSetPropFlags(obj: any, children: any, flags: any, allowFalse: any): any {\n\t\t\t// flags (from bit 0): dontenum, dontdelete, readonly, ....\n\t\t\t// TODO\n\t\t}\n\n\t\tpublic clearInterval(id: number /* uint */): void {\n\t\t\tlet internalId = _internalTimeouts[id - 1];\n\t\t\tif (internalId) {\n\t\t\t\tclearInterval(internalId);\n\t\t\t\tdelete _internalTimeouts[id - 1];\n\t\t\t}\n\t\t}\n\n\t\tpublic clearTimeout(id: number /* uint */): void {\n\t\t\tlet internalId = _internalTimeouts[id - 1];\n\t\t\tif (internalId) {\n\t\t\t\tclearTimeout(internalId);\n\t\t\t\tdelete _internalTimeouts[id - 1];\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * AVM1 escapes slightly more characters than JS's encodeURIComponent, and even more than\n\t\t * the deprecated JS version of escape. That leaves no other option but to do manual post-\n\t\t * processing of the encoded result. :/\n\t\t *\n\t\t * Luckily, unescape isn't thus afflicted - it happily unescapes all the additional things\n\t\t * we escape here.\n\t\t */\n\t\tpublic escape(str: string): string {\n\t\t\tlet result = encodeURIComponent(str);\n\t\t\treturn result.replace(/!|'|\\(|\\)|\\*|-|\\.|_|~/g, function (char: string): string {\n\t\t\t\tswitch (char) {\n\t\t\t\t\tcase '*':\n\t\t\t\t\t\treturn '%2A';\n\t\t\t\t\tcase '-':\n\t\t\t\t\t\treturn '%2D';\n\t\t\t\t\tcase '.':\n\t\t\t\t\t\treturn '%2E';\n\t\t\t\t\tcase '_':\n\t\t\t\t\t\treturn '%5F';\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn _escape(char);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tpublic unescape(str: string): string {\n\t\t\treturn decodeURIComponent(str);\n\t\t}\n\n\t\tpublic setInterval(): any {\n\t\t\t// AVM1 setInterval silently swallows everything that vaguely looks like an error.\n\t\t\tif (arguments.length < 2) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tlet context = this.context;\n\t\t\tlet args: any[] = [];\n\t\t\tif (alIsFunction(arguments[0])) {\n\t\t\t\tlet fn: AVM1Function = arguments[0];\n\t\t\t\targs.push(fn.toJSFunction(), arguments[1]);\n\t\t\t} else {\n\t\t\t\tif (arguments.length < 3) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t\tlet obj: any = arguments[0];\n\t\t\t\tlet funName: string = arguments[1];\n\t\t\t\tif (!(obj instanceof AVM1Object) || typeof funName !== 'string') {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t\targs.push(function () {\n\t\t\t\t\tlet fn: AVM1Function = obj.alGet(funName);\n\t\t\t\t\tif (!alIsFunction(fn)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tlet args = Array.prototype.slice.call(arguments, 0);\n\t\t\t\t\tcontext.executeFunction(fn, obj, args);\n\t\t\t\t});\n\t\t\t}\n\t\t\tfor (let i = 2; i < arguments.length; i++) {\n\t\t\t\targs.push(arguments[i]);\n\t\t\t}\n\t\t\t// Unconditionally coerce interval to int, as one would do.\n\t\t\targs[1] = alToInteger(context, args[1]);\n\t\t\tlet internalId = setInterval.apply(null, args);\n\t\t\treturn _internalTimeouts.push(internalId);\n\t\t}\n\n\t\tpublic setTimeout() {\n\t\t\t// AVM1 setTimeout silently swallows most things that vaguely look like errors.\n\t\t\tif (arguments.length < 2 || !alIsFunction(arguments[0])) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tlet args: any[] = [];\n\t\t\tlet fn: AVM1Function = arguments[0];\n\t\t\targs.push(fn.toJSFunction());\n\t\t\t// Unconditionally coerce interval to int, as one would do.\n\t\t\targs.push(alToInteger(this.context, arguments[1]));\n\t\t\tfor (let i = 2; i < arguments.length; i++) {\n\t\t\t\targs.push(arguments[i]);\n\t\t\t}\n\n\t\t\tlet internalId = setTimeout.apply(null, args);\n\t\t\treturn _internalTimeouts.push(internalId);\n\t\t}\n\n\t\tpublic showRedrawRegions(enable: any, color: any) {\n\t\t\t// flash.profiler.showRedrawRegions.apply(null, arguments);\n\t\t\tnotImplemented('AVM1Globals.showRedrawRegions');\n\t\t}\n\n\t\tpublic trace(expression: any): any {\n\t\t\t(<any>this.context).actions.trace(expression);\n\t\t}\n\n\t\tpublic updateAfterEvent() {\n\t\t\tthis.context.sec.player.requestRendering();\n\t\t}\n\n\t\t// built-ins\n\t\tpublic NaN: number = Number.NaN;\n\t\tpublic Infinity: number = Number.POSITIVE_INFINITY;\n\n\t\tpublic isFinite(n: number): boolean {\n\t\t\treturn isFinite(alToNumber(this.context, n));\n\t\t}\n\n\t\tpublic isNaN(n: number): boolean {\n\t\t\treturn isNaN(alToNumber(this.context, n));\n\t\t}\n\n\t\tpublic parseFloat(s: string): number {\n\t\t\treturn parseFloat(alToString(this.context, s));\n\t\t}\n\n\t\tpublic parseInt(s: string, radix?: number): number {\n\t\t\treturn parseInt(alToString(this.context, s), alToInt32(this.context, radix));\n\t\t}\n\n\t\tpublic undefined: any = undefined;\n\n\t\tpublic Object: AVM1Object;\n\t\tpublic Function: AVM1Object;\n\t\tpublic Array: AVM1Object;\n\t\tpublic Number: AVM1Object;\n\t\tpublic Math: AVM1Object;\n\t\tpublic Boolean: AVM1Object;\n\t\tpublic Date: AVM1Object;\n\t\tpublic String: AVM1Object;\n\t\tpublic Error: AVM1Object;\n\n\t\tpublic MovieClip: AVM1Object;\n\t\tpublic AsBroadcaster: AVM1Object;\n\t\tpublic System: AVM1Object;\n\t\tpublic Stage: AVM1Object;\n\t\tpublic Button: AVM1Object;\n\t\tpublic TextField: AVM1Object;\n\t\tpublic Color: AVM1Object;\n\t\tpublic Key: AVM1Object;\n\t\tpublic Mouse: AVM1Object;\n\t\tpublic MovieClipLoader: AVM1Object;\n\t\tpublic LoadVars: AVM1Object;\n\n\t\tpublic Sound: AVM1Object;\n\t\tpublic SharedObject: AVM1Object;\n\t\tpublic ContextMenu: AVM1Object;\n\t\tpublic ContextMenuItem: AVM1Object;\n\t\tpublic TextFormat: AVM1Object;\n\n\t\tpublic XMLNode: AVM1Object;\n\t\tpublic XML: AVM1Object;\n\n\t\tpublic filters: AVM1Object;\n\t\tpublic BitmapData: AVM1Object;\n\t\tpublic Matrix: AVM1Object;\n\t\tpublic Point: AVM1Object;\n\t\tpublic Rectangle: AVM1Object;\n\t\tpublic Transform: AVM1Object;\n\t\tpublic ColorTransform: AVM1Object;\n\n\t\tprivate _initBuiltins(context: AVM1Context) {\n\t\t\tlet builtins = context.builtins;\n\n\t\t\tthis.Object = builtins.Object;\n\t\t\tthis.Function = builtins.Function;\n\t\t\tthis.Array = builtins.Array;\n\t\t\tthis.Number = builtins.Number;\n\t\t\tthis.Math = builtins.Math;\n\t\t\tthis.Boolean = builtins.Boolean;\n\t\t\tthis.Date = builtins.Date;\n\t\t\tthis.String = builtins.String;\n\t\t\tthis.Error = builtins.Error;\n\n\t\t\tthis.MovieClip = AVM1MovieClip.createAVM1Class(context);\n\t\t\tthis.AsBroadcaster = AVM1Broadcaster.createAVM1Class(context);\n\t\t\tthis.System = AVM1System.createAVM1Class(context);\n\t\t\tthis.Stage = AVM1Stage.createAVM1Class(context);\n\t\t\tthis.Button = AVM1Button.createAVM1Class(context);\n\t\t\tthis.TextField = AVM1TextField.createAVM1Class(context);\n\t\t\tthis.Color = AVM1Color.createAVM1Class(context);\n\t\t\tthis.Key = AVM1Key.createAVM1Class(context);\n\t\t\tthis.Mouse = AVM1Mouse.createAVM1Class(context);\n\t\t\tthis.MovieClipLoader = AVM1MovieClipLoader.createAVM1Class(context);\n\t\t\tthis.LoadVars = new AVM1LoadVarsFunction(context);\n\n\t\t\tthis.Sound = AVM1Sound.createAVM1Class(context);\n\t\t\tthis.SharedObject = new AVM1SharedObjectFunction(context);\n\t\t\tthis.ContextMenu = undefined; // wrapAVM1Builtin(sec.flash.ui.ContextMenu.axClass);\n\t\t\tthis.ContextMenuItem = undefined; // wrapAVM1Builtin(sec.flash.ui.ContextMenuItem.axClass);\n\t\t\tthis.TextFormat = AVM1TextFormat.createAVM1Class(context);\n\n\t\t\tthis.XMLNode = new AVM1XMLNodeFunction(context);\n\t\t\tthis.XML = new AVM1XMLFunction(context, <AVM1XMLNodeFunction>this.XMLNode);\n\n\t\t\tthis.BitmapData = AVM1BitmapData.createAVM1Class(context);\n\t\t\tthis.Matrix = new AVM1MatrixFunction(context);\n\t\t\tthis.Point = new AVM1PointFunction(context);\n\t\t\tthis.Rectangle = new AVM1RectangleFunction(context);\n\t\t\tthis.Transform = AVM1Transform.createAVM1Class(context);\n\t\t\tthis.ColorTransform = new AVM1ColorTransformFunction(context);\n\n\t\t\tAVM1Broadcaster.initialize(context, this.Stage);\n\t\t\tAVM1Broadcaster.initialize(context, this.Key);\n\t\t\tAVM1Broadcaster.initialize(context, this.Mouse);\n\t\t}\n\n\t\tprivate _initializeFlashObject(context: AVM1Context): void {\n\t\t\tthis.flash = alNewObject(context);\n\t\t\tlet display: AVM1Object = alNewObject(context);\n\t\t\tdisplay.alPut('BitmapData', this.BitmapData);\n\t\t\tthis.flash.alPut('display', display);\n\t\t\tlet external: AVM1Object = alNewObject(context);\n\t\t\texternal.alPut('ExternalInterface', AVM1ExternalInterface.createAVM1Class(context));\n\t\t\tthis.flash.alPut('external', external);\n\t\t\tlet filters: AVM1Object = createFiltersClasses(context);\n\t\t\tthis.flash.alPut('filters', filters);\n\t\t\tthis.filters = filters;\n\t\t\tlet geom: AVM1Object = alNewObject(context);\n\t\t\tgeom.alPut('ColorTransform', this.ColorTransform);\n\t\t\tgeom.alPut('Matrix', this.Matrix);\n\t\t\tgeom.alPut('Point', this.Point);\n\t\t\tgeom.alPut('Rectangle', this.Rectangle);\n\t\t\tgeom.alPut('Transform', this.Transform);\n\t\t\tthis.flash.alPut('geom', geom);\n\t\t\tlet text: AVM1Object = alNewObject(context);\n\t\t\tthis.flash.alPut('text', text);\n\t\t}\n\t}\n\n\texport class AVM1NativeActions {\n\t\tpublic constructor(public context: AVM1Context) {\n\t\t\t// TODO ?\n\t\t}\n\n\t\tpublic asfunction(link: any) {\n\t\t\tnotImplemented('AVM1Globals.$asfunction');\n\t\t}\n\n\t\tpublic call(frame: any) {\n\t\t\tlet nativeTarget = <AVM1MovieClip>this.context.resolveTarget(null);\n\t\t\tlet as3Object = <flash.display.MovieClip>getAS3Object(nativeTarget);\n\t\t\tlet frameNum = as3Object._getAbsFrameNumber(<any>frame, null);\n\t\t\tif (frameNum === undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tas3Object.callFrame(frameNum);\n\t\t}\n\n\t\tpublic chr(code: any) {\n\t\t\tcode = alToInteger(this.context, code);\n\t\t\tif (this.context.swfVersion <= 5) {\n\t\t\t\tcode &= 0xFF;\n\t\t\t}\n\t\t\treturn code ? String.fromCharCode(code) : '';\n\t\t}\n\n\t\tpublic duplicateMovieClip(target: any, newname: any, depth: number) {\n\t\t\tlet normalizedDepth = alCoerceNumber(this.context, depth) - DEPTH_OFFSET;\n\t\t\tlet nativeTarget = <AVM1MovieClip>this.context.resolveTarget(target);\n\t\t\tnativeTarget.duplicateMovieClip(newname, normalizedDepth, null);\n\t\t}\n\n\t\tpublic fscommand(command: string, args?: string) {\n\t\t\treturn this.context.sec.flash.system.fscommand.axCall(null, this.context.sec, command, args);\n\t\t}\n\n\t\tpublic getTimer(): number {\n\t\t\treturn Shumway.AVMX.AS.FlashUtilScript_getTimer(this.context.sec);\n\t\t}\n\n\t\tpublic getURL(url: any, target?: any, method?: any) {\n\t\t\tlet sec = this.context.sec;\n\t\t\tlet request = new sec.flash.net.URLRequest(String(url));\n\t\t\tif (method) {\n\t\t\t\trequest.method = method;\n\t\t\t}\n\t\t\tif (typeof target === 'string' && target.indexOf('_level') === 0) {\n\t\t\t\tthis.loadMovieNum(url, +target.substr(6), method);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tShumway.AVMX.AS.FlashNetScript_navigateToURL(sec, request, target);\n\t\t}\n\n\t\tpublic gotoAndPlay(scene: any, frame?: any) {\n\t\t\tlet nativeTarget = <AVM1MovieClip>this.context.resolveTarget(null);\n\t\t\tlet as3Object = <flash.display.MovieClip>getAS3Object(nativeTarget);\n\t\t\tif (arguments.length < 2) {\n\t\t\t\tas3Object.gotoAndPlay(arguments[0]);\n\t\t\t} else {\n\t\t\t\tas3Object.gotoAndPlay(arguments[1], arguments[0]); // scene and frame are swapped for AS3\n\t\t\t}\n\t\t}\n\n\t\tpublic gotoAndStop(scene: any, frame?: any) {\n\t\t\tlet nativeTarget = <AVM1MovieClip>this.context.resolveTarget(null);\n\t\t\tlet as3Object = <flash.display.MovieClip>getAS3Object(nativeTarget);\n\t\t\tif (arguments.length < 2) {\n\t\t\t\tas3Object.gotoAndStop(arguments[0]);\n\t\t\t} else {\n\t\t\t\tas3Object.gotoAndStop(arguments[1], arguments[0]); // scene and frame are swapped for AS3\n\t\t\t}\n\t\t}\n\n\t\tpublic ifFrameLoaded(scene: any, frame?: any) {\n\t\t\t// ignoring scene parameter ?\n\t\t\tlet nativeTarget = <AVM1MovieClip>this.context.resolveTarget(null);\n\t\t\tlet frameNum = arguments.length < 2 ? arguments[0] : arguments[1];\n\t\t\tlet framesLoaded = nativeTarget.alGet('_framesloaded');\n\t\t\tlet totalFrames = nativeTarget.alGet('_totalframes');\n\t\t\t// The (0-based) requested frame index is clamped to (the 1-based) totalFrames value.\n\t\t\t// I.e., asking if frame 20 is loaded in a timline with only 10 frames returns true if all\n\t\t\t// frames have been loaded.\n\t\t\treturn Math.min(frameNum + 1, totalFrames) <= framesLoaded;\n\t\t}\n\n\t\tpublic length_(expression: any): number {\n\t\t\treturn ('' + expression).length; // ASCII Only?\n\t\t}\n\n\t\tpublic loadMovie(url: string, target: any, method: string): void {\n\t\t\t// some swfs are using loadMovie to call fscommmand\n\t\t\tif (url && url.toLowerCase().indexOf('fscommand:') === 0) {\n\t\t\t\tthis.fscommand(url.substring('fscommand:'.length), target);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet loadLevel: boolean = typeof target === 'string' &&\n\t\t\t\ttarget.indexOf('_level') === 0;\n\t\t\tlet levelNumber: number;\n\t\t\tif (loadLevel) {\n\t\t\t\tlet levelStr: string = target.substr(6);\n\t\t\t\tlevelNumber = parseInt(levelStr, 10);\n\t\t\t\tloadLevel = levelNumber.toString() === levelStr;\n\t\t\t}\n\t\t\tif (loadLevel) {\n\t\t\t\tthis.loadMovieNum(url, levelNumber, method);\n\t\t\t} else {\n\t\t\t\tlet nativeTarget = <AVM1MovieClip>this.context.resolveTarget(target);\n\t\t\t\tnativeTarget.loadMovie(url, method);\n\t\t\t}\n\t\t}\n\n\t\tpublic loadMovieNum(url: any, level: any, method: any) {\n\t\t\turl = alCoerceString(this.context, url);\n\t\t\tlevel = alToInteger(this.context, level);\n\t\t\tmethod = alCoerceString(this.context, method);\n\n\t\t\t// some swfs are using loadMovieNum to call fscommmand\n\t\t\tif (url && url.toLowerCase().indexOf('fscommand:') === 0) {\n\t\t\t\treturn this.fscommand(url.substring('fscommand:'.length));\n\t\t\t}\n\n\t\t\tif (level === 0) {\n\t\t\t\trelease || Debug.notImplemented('loadMovieNum at _level0');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet avm1LevelHolder = this.context.levelsContainer;\n\t\t\tlet loaderHelper = new AVM1LoaderHelper(this.context);\n\t\t\tloaderHelper.load(url, method).then(function () {\n\t\t\t\tavm1LevelHolder._addRoot(level, loaderHelper.content);\n\t\t\t});\n\t\t}\n\n\t\tpublic loadVariables(url: string, target: any, method: string = ''): void {\n\t\t\turl = alCoerceString(this.context, url);\n\t\t\tmethod = alCoerceString(this.context, method);\n\n\t\t\tlet nativeTarget = this.context.resolveTarget(target);\n\t\t\tif (!nativeTarget) {\n\t\t\t\treturn; // target was not found\n\t\t\t}\n\t\t\tthis._loadVariables(nativeTarget, url, method);\n\t\t}\n\n\t\tpublic loadVariablesNum(url: string, level: number, method: string = ''): void {\n\t\t\turl = alCoerceString(this.context, url);\n\t\t\tlevel = alToInteger(this.context, level);\n\t\t\tmethod = alCoerceString(this.context, method);\n\n\t\t\tlet nativeTarget = this.context.resolveLevel(level);\n\t\t\tif (!nativeTarget) {\n\t\t\t\treturn; // target was not found\n\t\t\t}\n\t\t\tthis._loadVariables(nativeTarget, url, method);\n\t\t}\n\n\t\t_loadVariables(nativeTarget: IAVM1SymbolBase, url: string, method: string): void {\n\t\t\tlet context = this.context;\n\t\t\tlet request = new context.sec.flash.net.URLRequest(url);\n\t\t\tif (method) {\n\t\t\t\trequest.method = method;\n\t\t\t}\n\t\t\tlet loader = new context.sec.flash.net.URLLoader(request);\n\t\t\tloader._ignoreDecodeErrors = true;\n\t\t\tloader.dataFormat = 'variables'; // flash.net.URLLoaderDataFormat.VARIABLES;\n\t\t\tlet completeHandler = context.sec.boxFunction(function (event: flash.events.Event): void {\n\t\t\t\tloader.removeEventListener(flash.events.Event.COMPLETE, completeHandler);\n\t\t\t\t// If the response data is empty, URLLoader#data contains an empty string.\n\t\t\t\tif (loader.data !== '') {\n\t\t\t\t\trelease || Debug.assert(typeof loader.data === 'object');\n\t\t\t\t\tShumway.AVMX.forEachPublicProperty(loader.data, function (key, value) {\n\t\t\t\t\t\tcontext.utils.setProperty(nativeTarget, key, value);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (nativeTarget instanceof AVM1MovieClip) {\n\t\t\t\t\tavm1BroadcastEvent(context, nativeTarget, 'onData');\n\t\t\t\t}\n\t\t\t});\n\t\t\tloader.addEventListener(flash.events.Event.COMPLETE, completeHandler);\n\t\t}\n\n\t\tpublic mbchr(code: any) {\n\t\t\tcode = alToInteger(this.context, code);\n\t\t\treturn code ? String.fromCharCode(code) : '';\n\t\t}\n\n\t\tpublic mblength(expression: any) {\n\t\t\treturn ('' + expression).length;\n\t\t}\n\n\t\tpublic mbord(character: any) {\n\t\t\treturn ('' + character).charCodeAt(0);\n\t\t}\n\n\t\tpublic mbsubstring(value: any, index: number, count: number) {\n\t\t\tif (index !== (0 | index) || count !== (0 | count)) {\n\t\t\t\t// index or count are not integers, the result is the empty string.\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\treturn ('' + value).substr(index, count);\n\t\t}\n\n\t\tpublic nextFrame() {\n\t\t\tlet nativeTarget = <AVM1MovieClip>this.context.resolveTarget(null);\n\t\t\tlet as3Object = <flash.display.MovieClip>getAS3Object(nativeTarget);\n\t\t\tas3Object.nextFrame();\n\t\t}\n\n\t\tpublic nextScene() {\n\t\t\tlet nativeTarget = <AVM1MovieClip>this.context.resolveTarget(null);\n\t\t\tlet as3Object = <flash.display.MovieClip>getAS3Object(nativeTarget);\n\t\t\tas3Object.nextScene();\n\t\t}\n\n\t\tpublic ord(character: any) {\n\t\t\treturn ('' + character).charCodeAt(0); // ASCII only?\n\t\t}\n\n\t\tpublic play() {\n\t\t\tlet nativeTarget = <AVM1MovieClip>this.context.resolveTarget(null);\n\t\t\tnativeTarget.play();\n\t\t}\n\n\t\tpublic prevFrame() {\n\t\t\tlet nativeTarget = <AVM1MovieClip>this.context.resolveTarget(null);\n\t\t\tlet as3Object = <flash.display.MovieClip>getAS3Object(nativeTarget);\n\t\t\tas3Object.prevFrame();\n\t\t}\n\n\t\tpublic prevScene() {\n\t\t\tlet nativeTarget = <AVM1MovieClip>this.context.resolveTarget(null);\n\t\t\tlet as3Object = <flash.display.MovieClip>getAS3Object(nativeTarget);\n\t\t\tas3Object.prevScene();\n\t\t}\n\n\t\tpublic print(target: any, boundingBox: any) {\n\t\t\t// flash.printing.PrintJob\n\t\t\tnotImplemented('AVM1Globals.print');\n\t\t}\n\n\t\tpublic printAsBitmap(target: any, boundingBox: any) {\n\t\t\tnotImplemented('AVM1Globals.printAsBitmap');\n\t\t}\n\n\t\tpublic printAsBitmapNum(level: any, boundingBox: any) {\n\t\t\tnotImplemented('AVM1Globals.printAsBitmapNum');\n\t\t}\n\n\t\tpublic printNum(level: any, bondingBox: any) {\n\t\t\tnotImplemented('AVM1Globals.printNum');\n\t\t}\n\n\t\tpublic random(value: number) {\n\t\t\treturn 0 | (Math.random() * (0 | value));\n\t\t}\n\n\t\tpublic removeMovieClip(target: any) {\n\t\t\tlet nativeTarget = <AVM1MovieClip>this.context.resolveTarget(target);\n\t\t\tif (!nativeTarget) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tnativeTarget.removeMovieClip();\n\t\t}\n\n\t\tpublic startDrag(target?: any, ...args: any[]): void {\n\t\t\tlet mc = <AVM1MovieClip>this.context.resolveTarget(target);\n\t\t\tmc.startDrag.apply(mc, args);\n\t\t}\n\n\t\tpublic stop() {\n\t\t\tlet nativeTarget = <AVM1MovieClip>this.context.resolveTarget(null);\n\t\t\tnativeTarget.stop();\n\t\t}\n\n\t\tpublic stopAllSounds() {\n\t\t\tthis.context.sec.flash.media.SoundMixer.axClass.stopAll();\n\t\t}\n\n\t\tpublic stopDrag() {\n\t\t\t// Using current draggable instead of current target.\n\t\t\tlet as3CurrentDraggable = this.context.sec.flash.ui.Mouse.axClass.draggableObject;\n\t\t\tif (as3CurrentDraggable) {\n\t\t\t\tlet nativeTarget = <AVM1MovieClip>getAVM1Object(as3CurrentDraggable, this.context);\n\t\t\t\tnativeTarget.stopDrag();\n\t\t\t}\n\t\t}\n\n\t\tpublic substring(value: any, index: number, count: number) {\n\t\t\treturn this.mbsubstring(value, index, count); // ASCII Only?\n\t\t}\n\n\t\tpublic toggleHighQuality() {\n\t\t\t// flash.display.Stage.quality\n\t\t\tnotImplemented('AVM1Globals.toggleHighQuality');\n\t\t}\n\n\t\tpublic trace(expression: any) {\n\t\t\tlet value: string;\n\t\t\tswitch (typeof expression) {\n\t\t\t\tcase 'undefined':\n\t\t\t\t\t// undefined is always 'undefined' for trace (even for SWF6).\n\t\t\t\t\tvalue = 'undefined';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'string':\n\t\t\t\t\tvalue = expression;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tvalue = alToString(this.context, expression);\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tShumway.AVMX.AS.Natives.print(this.context.sec, value);\n\t\t}\n\n\t\tpublic unloadMovie(target: any) {\n\t\t\tlet nativeTarget = <AVM1MovieClip>this.context.resolveTarget(target);\n\t\t\tif (!nativeTarget) {\n\t\t\t\treturn; // target was not found\n\t\t\t}\n\t\t\tnativeTarget.unloadMovie();\n\t\t}\n\n\t\tpublic unloadMovieNum(level: number) {\n\t\t\tlevel = alToInt32(this.context, level);\n\t\t\tif (level === 0) {\n\t\t\t\trelease || Debug.notImplemented('unloadMovieNum at _level0');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet avm1MovieHolder = this.context.levelsContainer;\n\t\t\tavm1MovieHolder._removeRoot(level);\n\t\t}\n\t}\n}\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='../references.ts' />\n\nmodule Shumway.AVM1.Lib {\n\tfunction _updateAllSymbolEvents(symbolInstance: IAVM1SymbolBase) {\n\t\tif (!hasAS3ObjectReference(symbolInstance)) {\n\t\t\treturn;\n\t\t}\n\t\tsymbolInstance.updateAllEvents();\n\t}\n\n\texport class AVM1Broadcaster extends AVM1Object {\n\t\tpublic static createAVM1Class(context: AVM1Context): AVM1Object {\n\t\t\treturn wrapAVM1NativeClass(context, true, AVM1Broadcaster, ['initialize'], []);\n\t\t}\n\n\t\tpublic static initialize(context: AVM1Context, obj: AVM1Object): void {\n\t\t\tlet desc = new AVM1PropertyDescriptor(AVM1PropertyFlags.DATA | AVM1PropertyFlags.DONT_ENUM,\n\t\t\t\tnew Natives.AVM1ArrayNative(context, []));\n\t\t\tobj.alSetOwnProperty('_listeners', desc);\n\t\t\tdesc = new AVM1PropertyDescriptor(AVM1PropertyFlags.DATA | AVM1PropertyFlags.DONT_ENUM,\n\t\t\t\tnew AVM1NativeFunction(context, function broadcastMessage(eventName: string, ...args: Array<any>): void {\n\t\t\t\t\tlet listenersField = this.alGet('_listeners');\n\t\t\t\t\tif (!(listenersField instanceof Natives.AVM1ArrayNative)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tavm1BroadcastEvent(context, this, eventName, args);\n\t\t\t\t}));\n\t\t\tobj.alSetOwnProperty('broadcastMessage', desc);\n\t\t\tdesc = new AVM1PropertyDescriptor(AVM1PropertyFlags.DATA | AVM1PropertyFlags.DONT_ENUM,\n\t\t\t\tnew AVM1NativeFunction(context, function addListener(listener: any): boolean {\n\t\t\t\t\tlet listenersField = this.alGet('_listeners');\n\t\t\t\t\tif (!(listenersField instanceof Natives.AVM1ArrayNative)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tlet listeners: any[] = (<Natives.AVM1ArrayNative>listenersField).value;\n\t\t\t\t\tlisteners.push(listener);\n\t\t\t\t\t_updateAllSymbolEvents(<any>this);\n\t\t\t\t\treturn true;\n\t\t\t\t}));\n\t\t\tobj.alSetOwnProperty('addListener', desc);\n\t\t\tdesc = new AVM1PropertyDescriptor(AVM1PropertyFlags.DATA | AVM1PropertyFlags.DONT_ENUM,\n\t\t\t\tnew AVM1NativeFunction(context, function removeListener(listener: any): boolean {\n\t\t\t\t\tlet listenersField = this.alGet('_listeners');\n\t\t\t\t\tif (!(listenersField instanceof Natives.AVM1ArrayNative)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tlet listeners: any[] = (<Natives.AVM1ArrayNative>listenersField).value;\n\t\t\t\t\tlet i = listeners.indexOf(listener);\n\t\t\t\t\tif (i < 0) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tlisteners.splice(i, 1);\n\t\t\t\t\t_updateAllSymbolEvents(<any>this);\n\t\t\t\t\treturn true;\n\t\t\t\t}));\n\t\t\tobj.alSetOwnProperty('removeListener', desc);\n\t\t}\n\t}\n}\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='../references.ts' />\n\nmodule Shumway.AVM1.Lib {\n\timport flash = Shumway.AVMX.AS.flash;\n\timport assert = Shumway.Debug.assert;\n\timport ASObject = Shumway.AVMX.AS.ASObject;\n\n\texport class AVM1Key extends AVM1Object {\n\t\tpublic static DOWN: number = 40;\n\t\tpublic static LEFT: number = 37;\n\t\tpublic static RIGHT: number = 39;\n\t\tpublic static UP: number = 38;\n\n\t\tprivate static _keyStates: any[];\n\t\tprivate static _lastKeyCode: number;\n\n\t\tpublic static createAVM1Class(context: AVM1Context): AVM1Object {\n\t\t\tlet wrapped = wrapAVM1NativeClass(context, false, AVM1Key,\n\t\t\t\t['DOWN', 'LEFT', 'RIGHT', 'UP', 'isDown', 'getCode'],\n\t\t\t\t[]);\n\t\t\treturn wrapped;\n\t\t}\n\n\t\tstatic alInitStatic(context: AVM1Context): void {\n\t\t\tthis._keyStates = [];\n\t\t\tthis._lastKeyCode = 0;\n\t\t}\n\n\t\tpublic static bindStage(context: AVM1Context, cls: AVM1Object, stage: flash.display.Stage): void {\n\t\t\tstage.addEventListener('keyDown', function (e: flash.events.KeyboardEvent) {\n\t\t\t\tlet keyCode = e.axGetPublicProperty('keyCode');\n\t\t\t\tlet staticState: typeof AVM1Key = context.getStaticState(AVM1Key);\n\t\t\t\tstaticState._lastKeyCode = keyCode;\n\t\t\t\tstaticState._keyStates[keyCode] = 1;\n\t\t\t\talCallProperty(cls, 'broadcastMessage', ['onKeyDown']);\n\t\t\t}, false);\n\n\t\t\tstage.addEventListener('keyUp', function (e: flash.events.KeyboardEvent) {\n\t\t\t\tlet keyCode = e.axGetPublicProperty('keyCode');\n\t\t\t\tlet staticState: typeof AVM1Key = context.getStaticState(AVM1Key);\n\t\t\t\tstaticState._lastKeyCode = keyCode;\n\t\t\t\tdelete staticState._keyStates[keyCode];\n\t\t\t\talCallProperty(cls, 'broadcastMessage', ['onKeyUp']);\n\t\t\t}, false);\n\t\t}\n\n\t\tpublic static isDown(context: AVM1Context, code: number) {\n\t\t\tlet staticState: typeof AVM1Key = context.getStaticState(AVM1Key);\n\t\t\treturn !!staticState._keyStates[code];\n\t\t}\n\n\t\tpublic static getCode(context: AVM1Context): number {\n\t\t\tlet staticState: typeof AVM1Key = context.getStaticState(AVM1Key);\n\t\t\treturn staticState._lastKeyCode;\n\t\t}\n\t}\n}\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='../references.ts' />\n\nmodule Shumway.AVM1.Lib {\n\timport flash = Shumway.AVMX.AS.flash;\n\timport assert = Shumway.Debug.assert;\n\n\texport class AVM1Mouse extends AVM1Object {\n\t\tpublic static createAVM1Class(context: AVM1Context): AVM1Object {\n\t\t\tlet wrapped = wrapAVM1NativeClass(context, false, AVM1Mouse, ['show', 'hide'], []);\n\t\t\treturn wrapped;\n\t\t}\n\n\t\tpublic static bindStage(context: AVM1Context, cls: AVM1Object, stage: flash.display.Stage): void {\n\t\t\tstage.addEventListener('mouseDown', function (e: flash.events.MouseEvent) {\n\t\t\t\talCallProperty(cls, 'broadcastMessage', ['onMouseDown']);\n\t\t\t}, false);\n\t\t\tstage.addEventListener('mouseMove', function (e: flash.events.MouseEvent) {\n\t\t\t\talCallProperty(cls, 'broadcastMessage', ['onMouseMove']);\n\t\t\t}, false);\n\t\t\tstage.addEventListener('mouseOut', function (e: flash.events.MouseEvent) {\n\t\t\t\talCallProperty(cls, 'broadcastMessage', ['onMouseMove']);\n\t\t\t}, false);\n\t\t\tstage.addEventListener('mouseUp', function (e: flash.events.MouseEvent) {\n\t\t\t\talCallProperty(cls, 'broadcastMessage', ['onMouseUp']);\n\t\t\t}, false);\n\t\t}\n\n\t\tpublic static hide() {\n\t\t\t// TODO hide();\n\t\t}\n\n\t\tpublic static show() {\n\t\t\t// TODO show();\n\t\t}\n\t}\n}\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='../references.ts' />\n\nmodule Shumway.AVM1.Lib {\n\texport class AVM1Stage extends AVM1Object {\n\t\tpublic static createAVM1Class(context: AVM1Context): AVM1Object {\n\t\t\tlet wrapped = new AVM1Stage(context);\n\t\t\twrapAVM1NativeMembers(context, wrapped, AVM1Stage.prototype,\n\t\t\t\t['align#', 'displayState#', 'fullScreenSourceRect#', 'height#',\n\t\t\t\t\t'scaleMode#', 'showMenu#', 'width#'],\n\t\t\t\tfalse);\n\t\t\treturn wrapped;\n\t\t}\n\n\t\tpublic static bindStage(context: AVM1Context, cls: AVM1Object, stage: Shumway.AVMX.AS.flash.display.Stage): void {\n\t\t\t(<AVM1Stage>cls)._as3Stage = stage;\n\t\t}\n\n\t\t_as3Stage: Shumway.AVMX.AS.flash.display.Stage;\n\n\t\tpublic getAlign() {\n\t\t\treturn this._as3Stage.align;\n\t\t}\n\n\t\tpublic setAlign(value: any) {\n\t\t\tthis._as3Stage.align = value;\n\t\t}\n\n\t\tpublic getDisplayState() {\n\t\t\treturn this._as3Stage.displayState;\n\t\t}\n\n\t\tpublic setDisplayState(value: any) {\n\t\t\tthis._as3Stage.displayState = value;\n\t\t}\n\n\t\tpublic getFullScreenSourceRect() {\n\t\t\treturn this._as3Stage.fullScreenSourceRect;\n\t\t}\n\n\t\tpublic setFullScreenSourceRect(value: any) {\n\t\t\tthis._as3Stage.fullScreenSourceRect = value;\n\t\t}\n\n\t\tpublic getHeight() {\n\t\t\treturn this._as3Stage.stageHeight;\n\t\t}\n\n\t\tpublic getScaleMode() {\n\t\t\treturn this._as3Stage.scaleMode;\n\t\t}\n\n\t\tpublic setScaleMode(value: any) {\n\t\t\tthis._as3Stage.scaleMode = value;\n\t\t}\n\n\t\tpublic getShowMenu() {\n\t\t\treturn this._as3Stage.showDefaultContextMenu;\n\t\t}\n\n\t\tpublic setShowMenu(value: any) {\n\t\t\tthis._as3Stage.showDefaultContextMenu = value;\n\t\t}\n\n\t\tpublic getWidth() {\n\t\t\treturn this._as3Stage.stageWidth;\n\t\t}\n\t}\n}\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='../references.ts' />\n\nmodule Shumway.AVM1.Lib {\n\timport flash = Shumway.AVMX.AS.flash;\n\timport assert = Shumway.Debug.assert;\n\timport LookupChildOptions = Shumway.AVMX.AS.flash.display.LookupChildOptions;\n\n\tclass AVM1MovieClipButtonModeEvent extends AVM1EventHandler {\n\t\tconstructor(public propertyName: string,\n\t\t            public eventName: string,\n\t\t            public argsConverter: Function = null) {\n\t\t\tsuper(propertyName, eventName, argsConverter);\n\t\t}\n\n\t\tpublic onBind(target: IAVM1SymbolBase): void {\n\t\t\tlet mc: AVM1MovieClip = <any>target;\n\t\t\tmc._as3Object.buttonMode = true;\n\t\t}\n\t}\n\n\tfunction convertAS3RectangeToBounds(as3Rectange: flash.geom.Rectangle): AVM1Object {\n\t\tlet result = alNewObject(this.context);\n\t\tresult.alPut('xMin', as3Rectange.axGetPublicProperty('left'));\n\t\tresult.alPut('yMin', as3Rectange.axGetPublicProperty('top'));\n\t\tresult.alPut('xMax', as3Rectange.axGetPublicProperty('right'));\n\t\tresult.alPut('yMax', as3Rectange.axGetPublicProperty('bottom'));\n\t\treturn result;\n\t}\n\n\texport class AVM1MovieClip extends AVM1SymbolBase<flash.display.MovieClip> {\n\t\tpublic static createAVM1Class(context: AVM1Context): AVM1Object {\n\t\t\treturn wrapAVM1NativeClass(context, true, AVM1MovieClip,\n\t\t\t\t[],\n\t\t\t\t['$version#', '_alpha#', 'attachAudio', 'attachBitmap', 'attachMovie',\n\t\t\t\t\t'beginFill', 'beginBitmapFill', 'beginGradientFill', 'blendMode#',\n\t\t\t\t\t'cacheAsBitmap#', '_callFrame', 'clear', 'createEmptyMovieClip',\n\t\t\t\t\t'createTextField', '_currentframe#', 'curveTo', '_droptarget#',\n\t\t\t\t\t'duplicateMovieClip', 'enabled#', 'endFill', 'filters#', '_framesloaded#',\n\t\t\t\t\t'_focusrect#', 'forceSmoothing#', 'getBounds',\n\t\t\t\t\t'getBytesLoaded', 'getBytesTotal', 'getDepth', 'getInstanceAtDepth',\n\t\t\t\t\t'getNextHighestDepth', 'getRect', 'getSWFVersion', 'getTextSnapshot',\n\t\t\t\t\t'getURL', 'globalToLocal', 'gotoAndPlay', 'gotoAndStop', '_height#',\n\t\t\t\t\t'_highquality#', 'hitArea#', 'hitTest', 'lineGradientStyle', 'lineStyle',\n\t\t\t\t\t'lineTo', 'loadMovie', 'loadVariables', 'localToGlobal', '_lockroot#',\n\t\t\t\t\t'menu#', 'moveTo', '_name#', 'nextFrame', 'opaqueBackground#', '_parent#',\n\t\t\t\t\t'play', 'prevFrame', '_quality#', 'removeMovieClip', '_rotation#',\n\t\t\t\t\t'scale9Grid#', 'scrollRect#', 'setMask', '_soundbuftime#', 'startDrag',\n\t\t\t\t\t'stop', 'stopDrag', 'swapDepths', 'tabChildren#', 'tabEnabled#', 'tabIndex#',\n\t\t\t\t\t'_target#', '_totalframes#', 'trackAsMenu#', 'transform#', 'toString',\n\t\t\t\t\t'unloadMovie', '_url#', 'useHandCursor#', '_visible#', '_width#',\n\t\t\t\t\t'_x#', '_xmouse#', '_xscale#', '_y#', '_ymouse#', '_yscale#']);\n\t\t}\n\n\t\tprivate _hitArea: any;\n\t\tprivate _lockroot: boolean;\n\n\t\tprivate get graphics(): flash.display.Graphics {\n\t\t\treturn this._as3Object.graphics;\n\t\t}\n\n\t\tpublic initAVM1SymbolInstance(context: AVM1Context, as3Object: flash.display.MovieClip) {\n\t\t\tthis._childrenByName = Object.create(null);\n\t\t\tsuper.initAVM1SymbolInstance(context, as3Object);\n\t\t\tthis._initEventsHandlers();\n\t\t}\n\n\t\t_lookupChildByName(name: string): AVM1Object {\n\t\t\trelease || assert(alIsName(this.context, name));\n\t\t\treturn this._childrenByName[name];\n\t\t}\n\n\t\tprivate _lookupChildInAS3Object(name: string): AVM1Object {\n\t\t\tlet lookupOptions = LookupChildOptions.INCLUDE_NON_INITIALIZED;\n\t\t\tif (!this.context.isPropertyCaseSensitive) {\n\t\t\t\tlookupOptions |= LookupChildOptions.IGNORE_CASE;\n\t\t\t}\n\t\t\tlet as3Child = this._as3Object._lookupChildByName(name, lookupOptions);\n\t\t\treturn getAVM1Object(as3Child, this.context);\n\t\t}\n\n\t\tpublic get __targetPath() {\n\t\t\tlet target = this.get_target();\n\t\t\tlet as3Root = this._as3Object.root;\n\t\t\trelease || Debug.assert(as3Root);\n\t\t\tlet level = this.context.levelsContainer._getLevelForRoot(as3Root);\n\t\t\trelease || Debug.assert(level >= 0);\n\t\t\tlet prefix = '_level' + level;\n\t\t\treturn target != '/' ? prefix + target.replace(/\\//g, '.') : prefix;\n\t\t}\n\n\t\tpublic attachAudio(id: any): void {\n\t\t\tif (Shumway.isNullOrUndefined(id)) {\n\t\t\t\treturn; // ignoring all undefined objects, probably nothing to attach\n\t\t\t}\n\t\t\tif (id === false) {\n\t\t\t\treturn; // TODO stop playing all attached audio source (when implemented).\n\t\t\t}\n\t\t\t// TODO implement NetStream and Microphone objects to make this work.\n\t\t\tDebug.notImplemented('AVM1MovieClip.attachAudio');\n\t\t}\n\n\t\tpublic attachBitmap(bmp: AVM1BitmapData, depth: number, pixelSnapping: String = 'auto', smoothing: Boolean = false): void {\n\t\t\tpixelSnapping = alCoerceString(this.context, pixelSnapping);\n\t\t\tsmoothing = alToBoolean(this.context, smoothing);\n\t\t\tlet as3BitmapData = bmp.as3BitmapData;\n\t\t\tlet bitmap: flash.display.Bitmap = this.context.sec.flash.display.Bitmap.axClass.axConstruct([as3BitmapData, pixelSnapping, smoothing]);\n\t\t\tthis._insertChildAtDepth(bitmap, depth);\n\t\t}\n\n\t\tpublic _constructMovieClipSymbol(symbolId: string, name: string): flash.display.MovieClip {\n\t\t\tsymbolId = alToString(this.context, symbolId);\n\t\t\tname = alToString(this.context, name);\n\n\t\t\tlet symbol = this.context.getAsset(symbolId);\n\t\t\tif (!symbol) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tlet props: flash.display.SpriteSymbol = Object.create(symbol.symbolProps);\n\t\t\tprops.avm1Name = name;\n\n\t\t\tlet mc: flash.display.MovieClip;\n\t\t\tmc = Shumway.AVMX.AS.constructClassFromSymbol(props, this.context.sec.flash.display.MovieClip.axClass) as any;\n\n\t\t\treturn mc;\n\t\t}\n\n\t\tpublic get$version(): string {\n\t\t\treturn this.context.sec.flash.system.Capabilities.version;\n\t\t}\n\n\t\tpublic attachMovie(symbolId: string, name: string, depth: number, initObject: any) {\n\t\t\tlet mc = this._constructMovieClipSymbol(symbolId, name);\n\t\t\tif (!mc) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tlet as2mc = <AVM1MovieClip>this._insertChildAtDepth(mc, depth);\n\t\t\tif (initObject) {\n\t\t\t\tas2mc._init(initObject);\n\t\t\t}\n\n\t\t\treturn as2mc;\n\t\t}\n\n\t\tpublic beginFill(color: number, alpha: number = 100): void {\n\t\t\tcolor = alToInt32(this.context, color);\n\t\t\talpha = alToNumber(this.context, alpha);\n\t\t\tthis.graphics.beginFill(color, alpha / 100.0);\n\t\t}\n\n\t\tpublic beginBitmapFill(bmp: AVM1BitmapData, matrix: AVM1Object = null,\n\t\t                       repeat: boolean = false, smoothing: boolean = false): void {\n\t\t\tif (!alInstanceOf(this.context, bmp, this.context.globals.BitmapData)) {\n\t\t\t\treturn; // skipping operation if first parameter is not a BitmapData.\n\t\t\t}\n\t\t\tlet bmpNative = toAS3BitmapData(bmp);\n\t\t\tlet matrixNative = Shumway.isNullOrUndefined(matrix) ? null : toAS3Matrix(matrix);\n\t\t\trepeat = alToBoolean(this.context, repeat);\n\t\t\tsmoothing = alToBoolean(this.context, smoothing);\n\n\t\t\tthis.graphics.beginBitmapFill(bmpNative, matrixNative, repeat, smoothing);\n\t\t}\n\n\t\tpublic beginGradientFill(fillType: string, colors: AVM1Object, alphas: AVM1Object,\n\t\t                         ratios: AVM1Object, matrix: AVM1Object,\n\t\t                         spreadMethod: string = 'pad', interpolationMethod: string = 'rgb',\n\t\t                         focalPointRatio: number = 0.0): void {\n\t\t\tlet context = this.context, sec = context.sec;\n\t\t\tfillType = alToString(this.context, fillType);\n\t\t\tlet colorsNative = sec.createArray(\n\t\t\t\tNatives.AVM1ArrayNative.mapToJSArray(colors, (item) => alToInt32(this.context, item)));\n\t\t\tlet alphasNative = sec.createArray(\n\t\t\t\tNatives.AVM1ArrayNative.mapToJSArray(alphas, (item) => alToNumber(this.context, item) / 100.0));\n\t\t\tlet ratiosNative = sec.createArray(\n\t\t\t\tNatives.AVM1ArrayNative.mapToJSArray(ratios, (item) => alToNumber(this.context, item)));\n\t\t\tlet matrixNative = null;\n\t\t\tif (Shumway.isNullOrUndefined(matrix)) {\n\t\t\t\tDebug.somewhatImplemented('AVM1MovieClip.beginGradientFill');\n\t\t\t}\n\t\t\tspreadMethod = alToString(this.context, spreadMethod);\n\t\t\tinterpolationMethod = alToString(this.context, interpolationMethod);\n\t\t\tfocalPointRatio = alToNumber(this.context, focalPointRatio);\n\t\t\tthis.graphics.beginGradientFill(fillType, colorsNative, alphasNative, ratiosNative, matrixNative,\n\t\t\t\tspreadMethod, interpolationMethod, focalPointRatio);\n\t\t}\n\n\t\tpublic _callFrame(frame: any): any {\n\t\t\tlet nativeAS3Object = this._as3Object;\n\t\t\tnativeAS3Object._callFrame(frame);\n\t\t}\n\n\t\tpublic clear(): void {\n\t\t\tthis.graphics.clear();\n\t\t}\n\n\t\t/**\n\t\t * This map stores the AVM1MovieClip's children keyed by their names. It's updated by all\n\t\t * operations that can cause different results for name-based lookups. these are\n\t\t * addition/removal of children and swapDepths.\n\t\t *\n\t\t * Using this map instead of always relaying lookups to the AVM2 MovieClip substantially\n\t\t * reduces the time spent in looking up children. In some cases by two orders of magnitude.\n\t\t */\n\t\tprivate _childrenByName: MapObject<AVM1MovieClip>;\n\n\t\tprivate _insertChildAtDepth<T extends flash.display.DisplayObject>(mc: T, depth: number): AVM1Object {\n\t\t\tlet oldChild = this.getInstanceAtDepth(depth);\n\t\t\tif (oldChild) {\n\t\t\t\tlet oldAS3Object = oldChild._as3Object;\n\t\t\t\toldAS3Object.parent.removeChild(oldAS3Object);\n\t\t\t}\n\t\t\tlet symbolDepth = alCoerceNumber(this.context, depth) + DEPTH_OFFSET;\n\t\t\tlet nativeAS3Object = this._as3Object;\n\t\t\tnativeAS3Object.addTimelineObjectAtDepth(mc, symbolDepth);\n\t\t\t// Bitmaps aren't reflected in AVM1, so the rest here doesn't apply.\n\t\t\tif (this.context.sec.flash.display.Bitmap.axIsType(mc)) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn getAVM1Object(mc, this.context);\n\t\t}\n\n\t\tpublic _updateChildName(child: AVM1MovieClip, oldName: string, newName: string) {\n\t\t\toldName && this._removeChildName(child, oldName);\n\t\t\tnewName && this._addChildName(child, newName);\n\t\t}\n\n\t\t_removeChildName(child: IAVM1SymbolBase, name: string) {\n\t\t\trelease || assert(name);\n\t\t\tif (!this.context.isPropertyCaseSensitive) {\n\t\t\t\tname = name.toLowerCase();\n\t\t\t}\n\t\t\trelease || assert(this._childrenByName[name]);\n\t\t\tif (this._childrenByName[name] !== child) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet newChildForName = this._lookupChildInAS3Object(name);\n\t\t\tif (newChildForName) {\n\t\t\t\tthis._childrenByName[name] = newChildForName as any;\n\t\t\t} else {\n\t\t\t\tdelete this._childrenByName[name];\n\t\t\t}\n\t\t}\n\n\t\t_addChildName(child: IAVM1SymbolBase, name: string) {\n\t\t\trelease || assert(name);\n\t\t\tif (!this.context.isPropertyCaseSensitive) {\n\t\t\t\tname = name.toLowerCase();\n\t\t\t}\n\t\t\trelease || assert(this._childrenByName[name] !== child);\n\t\t\tlet currentChild = this._childrenByName[name];\n\t\t\tif (!currentChild || currentChild.getDepth() > child.getDepth()) {\n\t\t\t\tthis._childrenByName[name] = child as any;\n\t\t\t}\n\t\t}\n\n\t\tpublic createEmptyMovieClip(name: any, depth: number): AVM1MovieClip {\n\t\t\tname = alToString(this.context, name);\n\t\t\tlet mc: flash.display.MovieClip = new this.context.sec.flash.display.MovieClip();\n\t\t\tmc.name = name;\n\t\t\treturn <AVM1MovieClip>this._insertChildAtDepth(mc, depth);\n\t\t}\n\n\t\tpublic createTextField(name: any, depth: number, x: number, y: number, width: number, height: number): AVM1TextField {\n\t\t\tname = alToString(this.context, name);\n\t\t\tlet text: flash.text.TextField = new this.context.sec.flash.text.TextField();\n\t\t\ttext.name = name;\n\t\t\ttext.x = x;\n\t\t\ttext.y = y;\n\t\t\ttext.width = width;\n\t\t\ttext.height = height;\n\t\t\treturn <AVM1TextField>this._insertChildAtDepth(text, depth);\n\t\t}\n\n\t\tpublic get_currentframe() {\n\t\t\treturn this._as3Object.currentFrame;\n\t\t}\n\n\t\tpublic curveTo(controlX: number, controlY: number, anchorX: number, anchorY: number): void {\n\t\t\tcontrolX = alToNumber(this.context, controlX);\n\t\t\tcontrolY = alToNumber(this.context, controlY);\n\t\t\tanchorX = alToNumber(this.context, anchorX);\n\t\t\tanchorY = alToNumber(this.context, anchorY);\n\t\t\tthis.graphics.curveTo(controlX, controlY, anchorX, anchorY);\n\t\t}\n\n\t\tpublic get_droptarget() {\n\t\t\treturn this._as3Object.dropTarget;\n\t\t}\n\n\t\tpublic duplicateMovieClip(name: any, depth: number, initObject: any): AVM1MovieClip {\n\t\t\tname = alToString(this.context, name);\n\t\t\tlet parent = this.context.resolveTarget(null);\n\t\t\tlet nativeAS3Object = this._as3Object;\n\t\t\tlet mc: flash.display.MovieClip;\n\t\t\tif (nativeAS3Object._symbol) {\n\t\t\t\tmc = Shumway.AVMX.AS.constructClassFromSymbol(nativeAS3Object._symbol, nativeAS3Object.axClass) as any;\n\t\t\t} else {\n\t\t\t\tmc = new this.context.sec.flash.display.MovieClip();\n\t\t\t}\n\t\t\tmc.name = name;\n\n\t\t\t// These are all properties that get copied over when duplicating a movie clip.\n\t\t\t// Examined by testing.\n\t\t\tmc.x = nativeAS3Object.x;\n\t\t\tmc.scaleX = nativeAS3Object.scaleX;\n\t\t\tmc.y = nativeAS3Object.y;\n\t\t\tmc.scaleY = nativeAS3Object.scaleY;\n\t\t\tmc.rotation = nativeAS3Object.rotation;\n\t\t\tmc.alpha = nativeAS3Object.alpha;\n\t\t\tmc.blendMode = nativeAS3Object.blendMode;\n\t\t\tmc.cacheAsBitmap = nativeAS3Object.cacheAsBitmap;\n\t\t\tmc.opaqueBackground = nativeAS3Object.opaqueBackground;\n\t\t\tmc.tabChildren = nativeAS3Object.tabChildren;\n\t\t\t// Not supported yet: _quality, _highquality, _soundbuftime.\n\n\t\t\tmc.graphics.copyFrom(nativeAS3Object.graphics);\n\n\t\t\t// TODO: Do event listeners get copied?\n\n\t\t\tlet as2mc = <AVM1MovieClip>parent._insertChildAtDepth(mc, depth);\n\t\t\tif (initObject) {\n\t\t\t\tas2mc._init(initObject);\n\t\t\t}\n\n\t\t\treturn as2mc;\n\t\t}\n\n\t\tpublic getEnabled() {\n\t\t\treturn getAS3ObjectOrTemplate(this).enabled;\n\t\t}\n\n\t\tpublic setEnabled(value: any) {\n\t\t\tgetAS3ObjectOrTemplate(this).enabled = value;\n\t\t}\n\n\t\tpublic endFill(): void {\n\t\t\tthis.graphics.endFill();\n\t\t}\n\n\t\tpublic getForceSmoothing(): boolean {\n\t\t\tDebug.somewhatImplemented('AVM1MovieClip.getForceSmoothing');\n\t\t\treturn false;\n\t\t}\n\n\t\tpublic setForceSmoothing(value: boolean) {\n\t\t\tvalue = alToBoolean(this.context, value);\n\t\t\tDebug.somewhatImplemented('AVM1MovieClip.setForceSmoothing');\n\t\t}\n\n\t\tpublic get_framesloaded() {\n\t\t\treturn this._as3Object.framesLoaded;\n\t\t}\n\n\t\tpublic getBounds(bounds: any): AVM1Object {\n\t\t\tlet obj = <flash.display.InteractiveObject>getAS3Object(bounds);\n\t\t\tif (!obj) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn convertAS3RectangeToBounds(this._as3Object.getBounds(obj));\n\t\t}\n\n\t\tpublic getBytesLoaded(): number {\n\t\t\tlet loaderInfo = this._as3Object.loaderInfo;\n\t\t\treturn loaderInfo.bytesLoaded;\n\t\t}\n\n\t\tpublic getBytesTotal() {\n\t\t\tlet loaderInfo = this._as3Object.loaderInfo;\n\t\t\treturn loaderInfo.bytesTotal;\n\t\t}\n\n\t\tpublic getInstanceAtDepth(depth: number): AVM1MovieClip {\n\t\t\tlet symbolDepth = alCoerceNumber(this.context, depth) + DEPTH_OFFSET;\n\t\t\tlet nativeObject = this._as3Object;\n\t\t\tlet lookupChildOptions = LookupChildOptions.INCLUDE_NON_INITIALIZED;\n\t\t\tfor (let i = 0, numChildren = nativeObject.numChildren; i < numChildren; i++) {\n\t\t\t\tlet child = nativeObject._lookupChildByIndex(i, lookupChildOptions);\n\t\t\t\t// child is null if it hasn't been constructed yet. This can happen in InitActionBlocks.\n\t\t\t\tif (child && child._depth === symbolDepth) {\n\t\t\t\t\t// Somewhat absurdly, this method returns the mc if a bitmap is at the given depth.\n\t\t\t\t\tif (this.context.sec.flash.display.Bitmap.axIsType(child)) {\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t}\n\t\t\t\t\treturn <AVM1MovieClip>getAVM1Object(child, this.context);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\n\t\tpublic getNextHighestDepth(): number {\n\t\t\tlet nativeObject = this._as3Object;\n\t\t\tlet maxDepth = DEPTH_OFFSET;\n\t\t\tlet lookupChildOptions = LookupChildOptions.INCLUDE_NON_INITIALIZED;\n\t\t\tfor (let i = 0, numChildren = nativeObject.numChildren; i < numChildren; i++) {\n\t\t\t\tlet child = nativeObject._lookupChildByIndex(i, lookupChildOptions);\n\t\t\t\tif (child._depth >= maxDepth) {\n\t\t\t\t\tmaxDepth = child._depth + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn maxDepth - DEPTH_OFFSET;\n\t\t}\n\n\t\tpublic getRect(bounds: any): AVM1Object {\n\t\t\tlet obj = <flash.display.InteractiveObject>getAS3Object(bounds);\n\t\t\tif (!obj) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn convertAS3RectangeToBounds(this._as3Object.getRect(obj));\n\t\t}\n\n\t\tpublic getSWFVersion(): number {\n\t\t\tlet loaderInfo = this._as3Object.loaderInfo;\n\t\t\treturn loaderInfo.swfVersion;\n\t\t}\n\n\t\tpublic getTextSnapshot() {\n\t\t\tDebug.notImplemented('AVM1MovieClip.getTextSnapshot');\n\t\t}\n\n\t\tpublic getURL(url: any, window: any, method: any) {\n\t\t\tlet request = new this.context.sec.flash.net.URLRequest(url);\n\t\t\tif (method) {\n\t\t\t\trequest.method = method;\n\t\t\t}\n\t\t\tShumway.AVMX.AS.FlashNetScript_navigateToURL(request, window);\n\t\t}\n\n\t\tpublic globalToLocal(pt: any) {\n\t\t\tlet tmp = this._as3Object.globalToLocal(toAS3Point(pt));\n\t\t\tcopyAS3PointTo(tmp, pt);\n\t\t}\n\n\t\tpublic gotoAndPlay(frame: any) {\n\t\t\tthis._as3Object.gotoAndPlay(frame);\n\t\t}\n\n\t\tpublic gotoAndStop(frame: any) {\n\t\t\tthis._as3Object.gotoAndStop(frame);\n\t\t}\n\n\t\tpublic getHitArea() {\n\t\t\treturn this._hitArea;\n\t\t}\n\n\t\tpublic setHitArea(value: any) {\n\t\t\t// The hitArea getter always returns exactly the value set here, so we have to store that.\n\t\t\tthis._hitArea = value;\n\t\t\tlet obj = value ? <flash.display.InteractiveObject>getAS3Object(value) : null;\n\t\t\t// If the passed-in value isn't a MovieClip, reset the hitArea.\n\t\t\tif (!this.context.sec.flash.display.MovieClip.axIsType(obj)) {\n\t\t\t\tobj = null;\n\t\t\t}\n\t\t\tthis._as3Object.hitArea = obj;\n\t\t}\n\n\t\tpublic hitTest(x: number, y: number, shapeFlag: boolean): boolean {\n\t\t\tif (arguments.length <= 1) {\n\t\t\t\t// Alternative method signature: hitTest(target: AVM1Object): boolean\n\t\t\t\tlet target = arguments[0];\n\t\t\t\tif (Shumway.isNullOrUndefined(target) || !hasAS3ObjectReference(target)) {\n\t\t\t\t\treturn false; // target is undefined or not a AVM1 display object, returning false.\n\t\t\t\t}\n\t\t\t\treturn this._as3Object.hitTestObject(<flash.display.InteractiveObject>getAS3Object(target));\n\t\t\t}\n\t\t\tx = alToNumber(this.context, x);\n\t\t\ty = alToNumber(this.context, y);\n\t\t\tshapeFlag = alToBoolean(this.context, shapeFlag);\n\t\t\treturn this._as3Object.hitTestPoint(x, y, shapeFlag);\n\t\t}\n\n\t\tpublic lineGradientStyle(fillType: string, colors: AVM1Object, alphas: AVM1Object,\n\t\t                         ratios: AVM1Object, matrix: AVM1Object,\n\t\t                         spreadMethod: string = 'pad', interpolationMethod: string = 'rgb',\n\t\t                         focalPointRatio: number = 0.0): void {\n\t\t\tlet context = this.context, sec = context.sec;\n\t\t\tfillType = alToString(this.context, fillType);\n\t\t\tlet colorsNative = sec.createArray(\n\t\t\t\tNatives.AVM1ArrayNative.mapToJSArray(colors, (item) => alToInt32(this.context, item)));\n\t\t\tlet alphasNative = sec.createArray(\n\t\t\t\tNatives.AVM1ArrayNative.mapToJSArray(alphas, (item) => alToNumber(this.context, item) / 100.0));\n\t\t\tlet ratiosNative = sec.createArray(\n\t\t\t\tNatives.AVM1ArrayNative.mapToJSArray(ratios, (item) => alToNumber(this.context, item)));\n\t\t\tlet matrixNative = null;\n\t\t\tif (Shumway.isNullOrUndefined(matrix)) {\n\t\t\t\tDebug.somewhatImplemented('AVM1MovieClip.lineGradientStyle');\n\t\t\t}\n\t\t\tspreadMethod = alToString(this.context, spreadMethod);\n\t\t\tinterpolationMethod = alToString(this.context, interpolationMethod);\n\t\t\tfocalPointRatio = alToNumber(this.context, focalPointRatio);\n\t\t\tthis.graphics.lineGradientStyle(fillType, colorsNative, alphasNative, ratiosNative, matrixNative,\n\t\t\t\tspreadMethod, interpolationMethod, focalPointRatio);\n\t\t}\n\n\t\tpublic lineStyle(thickness: number = NaN, rgb: number = 0x000000,\n\t\t                 alpha: number = 100, pixelHinting: boolean = false,\n\t\t                 noScale: string = 'normal', capsStyle: string = 'round',\n\t\t                 jointStyle: string = 'round', miterLimit: number = 3): void {\n\t\t\tthickness = alToNumber(this.context, thickness);\n\t\t\trgb = alToInt32(this.context, rgb);\n\t\t\tpixelHinting = alToBoolean(this.context, pixelHinting);\n\t\t\tnoScale = alToString(this.context, noScale);\n\t\t\tcapsStyle = alToString(this.context, capsStyle);\n\t\t\tjointStyle = alToString(this.context, jointStyle);\n\t\t\tmiterLimit = alToNumber(this.context, miterLimit);\n\t\t\tthis.graphics.lineStyle(thickness, rgb, alpha / 100.0, pixelHinting,\n\t\t\t\tnoScale, capsStyle, jointStyle, miterLimit);\n\t\t}\n\n\t\tpublic lineTo(x: number, y: number): void {\n\t\t\tx = alToNumber(this.context, x);\n\t\t\ty = alToNumber(this.context, y);\n\t\t\tthis.graphics.lineTo(x, y);\n\t\t}\n\n\t\tpublic loadMovie(url: string, method: string) {\n\t\t\tlet loaderHelper = new AVM1LoaderHelper(this.context);\n\t\t\tloaderHelper.load(url, method).then(function () {\n\t\t\t\tlet newChild = loaderHelper.content;\n\t\t\t\t// TODO fix newChild name to match target_mc\n\t\t\t\tlet parent: flash.display.MovieClip = this._as3Object.parent;\n\t\t\t\tlet depth = this._as3Object._depth;\n\t\t\t\tparent.removeChild(this._as3Object);\n\t\t\t\tparent.addTimelineObjectAtDepth(newChild, depth);\n\t\t\t}.bind(this));\n\t\t}\n\n\t\tpublic loadVariables(url: string, method?: string) {\n\t\t\t// REDUX move _loadVariables here?\n\t\t\t(<any>this.context).actions._loadVariables(this, url, method);\n\t\t}\n\n\t\tpublic localToGlobal(pt: any) {\n\t\t\tlet tmp = this._as3Object.localToGlobal(toAS3Point(pt));\n\t\t\tcopyAS3PointTo(tmp, pt);\n\t\t}\n\n\t\tpublic get_lockroot(): boolean {\n\t\t\treturn this._lockroot;\n\t\t}\n\n\t\tpublic set_lockroot(value: boolean) {\n\t\t\tDebug.somewhatImplemented('AVM1MovieClip._lockroot');\n\t\t\tthis._lockroot = alToBoolean(this.context, value);\n\t\t}\n\n\t\tpublic moveTo(x: number, y: number): void {\n\t\t\tx = alToNumber(this.context, x);\n\t\t\ty = alToNumber(this.context, y);\n\t\t\tthis.graphics.moveTo(x, y);\n\t\t}\n\n\t\tpublic nextFrame() {\n\t\t\tthis._as3Object.nextFrame();\n\t\t}\n\n\t\tpublic nextScene() {\n\t\t\tthis._as3Object.nextScene();\n\t\t}\n\n\t\tpublic play() {\n\t\t\tthis._as3Object.play();\n\t\t}\n\n\t\tpublic prevFrame() {\n\t\t\tthis._as3Object.prevFrame();\n\t\t}\n\n\t\tpublic prevScene() {\n\t\t\tthis._as3Object.prevScene();\n\t\t}\n\n\t\tpublic removeMovieClip() {\n\t\t\tlet as2Parent = this.get_parent();\n\t\t\tif (!as2Parent) {\n\t\t\t\treturn; // let's not remove root symbol\n\t\t\t}\n\t\t\tas2Parent._removeChildName(this, this._as3Object.name);\n\t\t\tas2Parent._as3Object.removeChild(this._as3Object);\n\t\t}\n\n\t\tpublic setMask(mc: Object) {\n\t\t\tif (mc == null) {\n\t\t\t\t// Cancel a mask.\n\t\t\t\tthis._as3Object.mask = null;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet mask = this.context.resolveTarget(mc);\n\t\t\tif (mask) {\n\t\t\t\tthis._as3Object.mask = <flash.display.InteractiveObject>getAS3Object(mask);\n\t\t\t}\n\t\t}\n\n\t\tpublic startDrag(lock?: boolean, left?: number, top?: number, right?: number, bottom?: number): void {\n\t\t\tlock = alToBoolean(this.context, lock);\n\t\t\tlet bounds = null;\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tleft = alToNumber(this.context, left);\n\t\t\t\ttop = alToNumber(this.context, top);\n\t\t\t\tright = alToNumber(this.context, right);\n\t\t\t\tbottom = alToNumber(this.context, bottom);\n\t\t\t\tbounds = new this.context.sec.flash.geom.Rectangle(left, top, right - left, bottom - top);\n\t\t\t}\n\t\t\tthis._as3Object.startDrag(lock, bounds);\n\t\t}\n\n\t\tpublic stop() {\n\t\t\treturn this._as3Object.stop();\n\t\t}\n\n\t\tpublic stopDrag() {\n\t\t\treturn this._as3Object.stopDrag();\n\t\t}\n\n\t\tpublic swapDepths(target: any): void {\n\t\t\tlet child1 = this._as3Object;\n\t\t\tlet child2: any, target_mc: any;\n\t\t\tif (typeof target === 'number') {\n\t\t\t\tchild2 = child1.parent.getTimelineObjectAtDepth(<number>target);\n\t\t\t\tif (child2) {\n\t\t\t\t\t// Don't swap if child at depth does not exist.\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\ttarget_mc = getAVM1Object(child2, this.context);\n\t\t\t} else {\n\t\t\t\tlet target_mc = this.context.resolveTarget(target);\n\t\t\t\tif (!target_mc) {\n\t\t\t\t\t// Don't swap with non-existent target.\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tchild2 = target_mc._as3Object;\n\t\t\t\tif (child1.parent !== child2.parent) {\n\t\t\t\t\treturn; // must be the same parent\n\t\t\t\t}\n\t\t\t}\n\t\t\tchild1.parent.swapChildren(child1, child2);\n\t\t\tlet lower: AVM1MovieClip;\n\t\t\tlet higher: AVM1MovieClip;\n\t\t\tif (this.getDepth() < target_mc.getDepth()) {\n\t\t\t\tlower = this;\n\t\t\t\thigher = target_mc;\n\t\t\t} else {\n\t\t\t\tlower = target_mc;\n\t\t\t\thigher = this;\n\t\t\t}\n\t\t\tlet lowerName = (<flash.display.InteractiveObject>getAS3Object(lower)).name;\n\t\t\tlet higherName = (<flash.display.InteractiveObject>getAS3Object(higher)).name;\n\t\t\tif (this._lookupChildInAS3Object(lowerName) !== lower) {\n\t\t\t\tthis._removeChildName(lower, lowerName);\n\t\t\t}\n\t\t\tif (this._lookupChildInAS3Object(higherName) !== higher) {\n\t\t\t\tthis._addChildName(higher, higherName);\n\t\t\t}\n\t\t}\n\n\t\tpublic getTabChildren(): boolean {\n\t\t\treturn getAS3ObjectOrTemplate(this).tabChildren;\n\t\t}\n\n\t\tpublic setTabChildren(value: boolean) {\n\t\t\tgetAS3ObjectOrTemplate(this).tabChildren = alToBoolean(this.context, value);\n\t\t}\n\n\t\tpublic get_totalframes(): number {\n\t\t\treturn this._as3Object.totalFrames;\n\t\t}\n\n\t\tpublic getTrackAsMenu(): boolean {\n\t\t\treturn getAS3ObjectOrTemplate(this).trackAsMenu;\n\t\t}\n\n\t\tpublic setTrackAsMenu(value: boolean) {\n\t\t\tgetAS3ObjectOrTemplate(this).trackAsMenu = alToBoolean(this.context, value);\n\t\t}\n\n\t\tpublic toString() {\n\t\t\treturn this.__targetPath;\n\t\t}\n\n\t\tpublic unloadMovie() {\n\t\t\tlet nativeObject = this._as3Object;\n\t\t\t// TODO remove movie clip content\n\t\t\tnativeObject.parent.removeChild(nativeObject);\n\t\t\tnativeObject.stop();\n\t\t}\n\n\t\tpublic getUseHandCursor() {\n\t\t\tgetAS3ObjectOrTemplate(this).useHandCursor;\n\t\t}\n\n\t\tpublic setUseHandCursor(value: any) {\n\t\t\tgetAS3ObjectOrTemplate(this).useHandCursor = value;\n\t\t}\n\n\t\tpublic setParameters(parameters: any): any {\n\t\t\tfor (let paramName in parameters) {\n\t\t\t\tif (!this.alHasProperty(paramName)) {\n\t\t\t\t\tthis.alPut(paramName, parameters[paramName]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Special and children names properties resolutions\n\n\t\tprivate _resolveLevelNProperty(name: string): AVM1MovieClip {\n\t\t\trelease || assert(alIsName(this.context, name));\n\t\t\tif (name === '_level0') {\n\t\t\t\treturn this.context.resolveLevel(0);\n\t\t\t} else if (name === '_root') {\n\t\t\t\treturn this.context.resolveRoot();\n\t\t\t} else if (name.indexOf('_level') === 0) {\n\t\t\t\tlet level = name.substring(6);\n\t\t\t\tlet levelNum = <any>level | 0;\n\t\t\t\tif (levelNum > 0 && <any>level == levelNum) {\n\t\t\t\t\treturn this.context.resolveLevel(levelNum)\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tprivate _cachedPropertyResult: any;\n\n\t\tprivate _getCachedPropertyResult(value: any) {\n\t\t\tif (!this._cachedPropertyResult) {\n\t\t\t\tthis._cachedPropertyResult = {\n\t\t\t\t\tflags: AVM1PropertyFlags.DATA | AVM1PropertyFlags.DONT_ENUM,\n\t\t\t\t\tvalue: value\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tthis._cachedPropertyResult.value = value;\n\t\t\t}\n\t\t\treturn this._cachedPropertyResult;\n\t\t}\n\n\t\tpublic alGetOwnProperty(name: any): AVM1PropertyDescriptor {\n\t\t\tlet desc = super.alGetOwnProperty(name);\n\t\t\tif (desc) {\n\t\t\t\treturn desc;\n\t\t\t}\n\t\t\tif (name[0] === '_') {\n\t\t\t\tif ((name[1] === 'l' && name.indexOf('_level') === 0 ||\n\t\t\t\t\t\tname[1] === 'r' && name.indexOf('_root') === 0)) {\n\t\t\t\t\tlet level = this._resolveLevelNProperty(name);\n\t\t\t\t\tif (level) {\n\t\t\t\t\t\treturn this._getCachedPropertyResult(level);\n\t\t\t\t\t}\n\t\t\t\t} else if (name.toLowerCase() in MovieClipProperties) {\n\t\t\t\t\t// For MovieClip's properties that start from '_' case does not matter.\n\t\t\t\t\treturn super.alGetOwnProperty(name.toLowerCase());\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (hasAS3ObjectReference(this)) {\n\t\t\t\tlet child = this._lookupChildByName(name);\n\t\t\t\tif (child) {\n\t\t\t\t\treturn this._getCachedPropertyResult(child);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\n\t\tpublic alGetOwnPropertiesKeys(): any [] {\n\t\t\tlet keys = super.alGetOwnPropertiesKeys();\n\t\t\t// if it's a movie listing the children as well\n\t\t\tif (!hasAS3ObjectReference(this)) {\n\t\t\t\treturn keys; // not initialized yet\n\t\t\t}\n\n\t\t\tlet as3MovieClip = this._as3Object;\n\t\t\tif (as3MovieClip._children.length === 0) {\n\t\t\t\treturn keys; // no children\n\t\t\t}\n\n\t\t\tlet processed = Object.create(null);\n\t\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\t\tprocessed[keys[i]] = true;\n\t\t\t}\n\t\t\tfor (let i = 0, length = as3MovieClip._children.length; i < length; i++) {\n\t\t\t\tlet child = as3MovieClip._children[i];\n\t\t\t\tlet name = child.name;\n\t\t\t\tlet normalizedName = name; // TODO something like this._unescapeProperty(this._escapeProperty(name));\n\t\t\t\tprocessed[normalizedName] = true;\n\t\t\t}\n\t\t\treturn Object.getOwnPropertyNames(processed);\n\t\t}\n\n\t\tprivate _init(initObject: any) {\n\t\t\tif (initObject instanceof AVM1Object) {\n\t\t\t\talForEachProperty(initObject, (name: string) => {\n\t\t\t\t\tthis.alPut(name, initObject.alGet(name));\n\t\t\t\t}, null);\n\t\t\t}\n\t\t}\n\n\t\tprivate _initEventsHandlers() {\n\t\t\tthis.bindEvents([\n\t\t\t\tnew AVM1EventHandler('onData', 'data'),\n\t\t\t\tnew AVM1EventHandler('onDragOut', 'dragOut'),\n\t\t\t\tnew AVM1EventHandler('onDragOver', 'dragOver'),\n\t\t\t\tnew AVM1EventHandler('onEnterFrame', 'enterFrame'),\n\t\t\t\tnew AVM1EventHandler('onKeyDown', 'keyDown'),\n\t\t\t\tnew AVM1EventHandler('onKeyUp', 'keyUp'),\n\t\t\t\tnew AVM1EventHandler('onKillFocus', 'focusOut', function (e: any) {\n\t\t\t\t\treturn [e.relatedObject];\n\t\t\t\t}),\n\t\t\t\tnew AVM1EventHandler('onLoad', 'load'),\n\t\t\t\tnew AVM1EventHandler('onMouseDown', 'mouseDown'),\n\t\t\t\tnew AVM1EventHandler('onMouseUp', 'mouseUp'),\n\t\t\t\tnew AVM1EventHandler('onMouseMove', 'mouseMove'),\n\t\t\t\tnew AVM1MovieClipButtonModeEvent('onPress', 'mouseDown'),\n\t\t\t\tnew AVM1MovieClipButtonModeEvent('onRelease', 'mouseUp'),\n\t\t\t\tnew AVM1MovieClipButtonModeEvent('onReleaseOutside', 'releaseOutside'),\n\t\t\t\tnew AVM1MovieClipButtonModeEvent('onRollOut', 'mouseOut'),\n\t\t\t\tnew AVM1MovieClipButtonModeEvent('onRollOver', 'mouseOver'),\n\t\t\t\tnew AVM1EventHandler('onSetFocus', 'focusIn', function (e: any) {\n\t\t\t\t\treturn [e.relatedObject];\n\t\t\t\t}),\n\t\t\t\tnew AVM1EventHandler('onUnload', 'unload')\n\t\t\t]);\n\t\t}\n\t}\n}\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='../references.ts' />\n\nmodule Shumway.AVM1.Lib {\n\timport flash = Shumway.AVMX.AS.flash;\n\timport ButtonAction = Shumway.Timeline.AVM1ButtonAction;\n\timport somewhatImplemented = Shumway.Debug.somewhatImplemented;\n\n\tenum StateTransitions {\n\t\tIdleToOverUp = 0x001, // roll over\n\t\tOverUpToIdle = 0x002, // roll out\n\t\tOverUpToOverDown = 0x004, // press\n\t\tOverDownToOverUp = 0x008, // release\n\t\tOverDownToOutDown = 0x010, // drag out\n\t\tOutDownToOverDown = 0x020, // drag over\n\t\tOutDownToIdle = 0x040, // release outside\n\t\tIdleToOverDown = 0x080, // ???\n\t\tOverDownToIdle = 0x100  // ???\n\t}\n\n\t/**\n\t * Key codes below 32 aren't interpreted as char codes, but are mapped to specific buttons instead.\n\t * This array uses the key code as the index and KeyboardEvent.keyCode values matching the\n\t * specific keys as the value.\n\t * @type {number[]}\n\t */\n\tlet AVM1KeyCodeMap = [-1, 37, 39, 36, 35, 45, 46, -1, 8, -1, -1, -1, -1, 13, 38, 40, 33, 34, 9, 27];\n\n\texport class AVM1Button extends AVM1SymbolBase<flash.display.SimpleButton> {\n\t\tprivate _requiredListeners: any;\n\t\tprivate _actions: ButtonAction[];\n\n\t\tstatic createAVM1Class(context: AVM1Context): AVM1Object {\n\t\t\treturn wrapAVM1NativeClass(context, true, AVM1Button,\n\t\t\t\t[],\n\t\t\t\t['_alpha#', 'blendMode#', 'cacheAsBitmap#', 'enabled#', 'filters#', '_focusrect#',\n\t\t\t\t\t'getDepth', '_height#', '_highquality#', 'menu#', '_name#', '_parent#', '_quality#',\n\t\t\t\t\t'_rotation#', 'scale9Grid#', '_soundbuftime#', 'tabEnabled#', 'tabIndex#', '_target#',\n\t\t\t\t\t'trackAsMenu#', '_url#', 'useHandCursor#', '_visible#', '_width#',\n\t\t\t\t\t'_x#', '_xmouse#', '_xscale#', '_y#', '_ymouse#', '_yscale#']);\n\t\t}\n\n\t\tpublic initAVM1SymbolInstance(context: AVM1Context, as3Object: flash.display.SimpleButton) {\n\t\t\tsuper.initAVM1SymbolInstance(context, as3Object);\n\n\t\t\tlet nativeButton = this._as3Object;\n\t\t\tif (!nativeButton._symbol || !nativeButton._symbol.data.buttonActions) {\n\t\t\t\tthis._initEventsHandlers();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tnativeButton.buttonMode = true;\n\t\t\tnativeButton.addEventListener('addedToStage', this._addListeners.bind(this));\n\t\t\tnativeButton.addEventListener('removedFromStage', this._removeListeners.bind(this));\n\t\t\tlet requiredListeners = this._requiredListeners = Object.create(null);\n\t\t\tlet actions = this._actions = nativeButton._symbol.data.buttonActions;\n\t\t\tfor (let i = 0; i < actions.length; i++) {\n\t\t\t\tlet action = actions[i];\n\t\t\t\tif (!action.actionsBlock) {\n\t\t\t\t\taction.actionsBlock = context.actionsDataFactory.createActionsData(\n\t\t\t\t\t\taction.actionsData, 's' + nativeButton._symbol.id + 'e' + i);\n\t\t\t\t}\n\t\t\t\tif (action.keyCode) {\n\t\t\t\t\trequiredListeners['keyDown'] = this._keyDownHandler.bind(this);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tlet type: string;\n\t\t\t\tswitch (action.stateTransitionFlags) {\n\t\t\t\t\tcase StateTransitions.OutDownToIdle:\n\t\t\t\t\t\ttype = 'releaseOutside';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase StateTransitions.IdleToOverUp:\n\t\t\t\t\t\ttype = 'rollOver';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase StateTransitions.OverUpToIdle:\n\t\t\t\t\t\ttype = 'rollOut';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase StateTransitions.OverUpToOverDown:\n\t\t\t\t\t\ttype = 'mouseDown';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase StateTransitions.OverDownToOverUp:\n\t\t\t\t\t\ttype = 'mouseUp';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase StateTransitions.OverDownToOutDown:\n\t\t\t\t\tcase StateTransitions.OutDownToOverDown:\n\t\t\t\t\t\tsomewhatImplemented('AVM1 drag over/out button actions');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase StateTransitions.IdleToOverDown:\n\t\t\t\t\tcase StateTransitions.OverDownToIdle:\n\t\t\t\t\t\tsomewhatImplemented('AVM1 drag trackAsMenu over/out button actions');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tcontext.utils.warn('Unknown AVM1 button action type: ' + action.stateTransitionFlags);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\trequiredListeners[type] = this._mouseEventHandler.bind(this, action.stateTransitionFlags);\n\t\t\t}\n\t\t\tthis._initEventsHandlers();\n\t\t}\n\n\t\tpublic getEnabled(): boolean {\n\t\t\treturn this._as3Object.enabled;\n\t\t}\n\n\t\tpublic setEnabled(value: boolean) {\n\t\t\tthis._as3Object.enabled = alToBoolean(this.context, value);\n\t\t\t;\n\t\t}\n\n\t\tpublic getTrackAsMenu(): boolean {\n\t\t\treturn getAS3ObjectOrTemplate(this).trackAsMenu;\n\t\t}\n\n\t\tpublic setTrackAsMenu(value: boolean) {\n\t\t\tgetAS3ObjectOrTemplate(this).trackAsMenu = alToBoolean(this.context, value);\n\t\t}\n\n\t\tpublic getUseHandCursor(): boolean {\n\t\t\treturn getAS3ObjectOrTemplate(this).useHandCursor;\n\t\t}\n\n\t\tpublic setUseHandCursor(value: boolean) {\n\t\t\tgetAS3ObjectOrTemplate(this).useHandCursor = alToBoolean(this.context, value);\n\t\t}\n\n\n\t\tprivate _addListeners() {\n\t\t\tfor (let type in this._requiredListeners) {\n\t\t\t\t// on(key) works even if the button doesn't have focus, so we listen on the stage.\n\t\t\t\t// TODO: we probably need to filter these events somehow if an AVM1 swf is loaded into\n\t\t\t\t// an AVM2 one.\n\t\t\t\tlet target: flash.events.EventDispatcher = type === 'keyDown' ?\n\t\t\t\t\tthis._as3Object.stage :\n\t\t\t\t\tthis._as3Object;\n\t\t\t\ttarget.addEventListener(type, this._requiredListeners[type]);\n\t\t\t}\n\t\t}\n\n\t\tprivate _removeListeners() {\n\t\t\tfor (let type in this._requiredListeners) {\n\t\t\t\tlet target: flash.events.EventDispatcher = type === 'keyDown' ?\n\t\t\t\t\tthis._as3Object.stage :\n\t\t\t\t\tthis._as3Object;\n\t\t\t\ttarget.removeEventListener(type, this._requiredListeners[type]);\n\t\t\t}\n\t\t}\n\n\t\tprivate _keyDownHandler(event: any) {\n\t\t\tlet actions = this._actions;\n\t\t\tfor (let i = 0; i < actions.length; i++) {\n\t\t\t\tlet action = actions[i];\n\t\t\t\tif (!action.keyCode) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif ((action.keyCode < 32 &&\n\t\t\t\t\t\tAVM1KeyCodeMap[action.keyCode] === event.axGetPublicProperty('keyCode')) ||\n\t\t\t\t\taction.keyCode === event.axGetPublicProperty('charCode')) {\n\t\t\t\t\tthis._runAction(action);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprivate _mouseEventHandler(type: number) {\n\t\t\tlet actions = this._actions;\n\t\t\tfor (let i = 0; i < actions.length; i++) {\n\t\t\t\tlet action = actions[i];\n\t\t\t\tif (action.stateTransitionFlags === type) {\n\t\t\t\t\tthis._runAction(action);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprivate _runAction(action: ButtonAction) {\n\t\t\tlet avm1Context = this._as3Object.loaderInfo._avm1Context;\n\t\t\tavm1Context.executeActions(action.actionsBlock,\n\t\t\t\tgetAVM1Object(this._as3Object._parent, this.context));\n\t\t}\n\n\t\tprivate _initEventsHandlers() {\n\t\t\tthis.bindEvents([\n\t\t\t\tnew AVM1EventHandler('onDragOut', 'dragOut'),\n\t\t\t\tnew AVM1EventHandler('onDragOver', 'dragOver'),\n\t\t\t\tnew AVM1EventHandler('onKeyDown', 'keyDown'),\n\t\t\t\tnew AVM1EventHandler('onKeyUp', 'keyUp'),\n\t\t\t\tnew AVM1EventHandler('onKillFocus', 'focusOut', function (e: any) {\n\t\t\t\t\treturn [e.relatedObject];\n\t\t\t\t}),\n\t\t\t\tnew AVM1EventHandler('onLoad', 'load'),\n\t\t\t\tnew AVM1EventHandler('onMouseDown', 'mouseDown'),\n\t\t\t\tnew AVM1EventHandler('onMouseUp', 'mouseUp'),\n\t\t\t\tnew AVM1EventHandler('onPress', 'mouseDown'),\n\t\t\t\tnew AVM1EventHandler('onRelease', 'mouseUp'),\n\t\t\t\tnew AVM1EventHandler('onReleaseOutside', 'releaseOutside'),\n\t\t\t\tnew AVM1EventHandler('onRollOut', 'mouseOut'),\n\t\t\t\tnew AVM1EventHandler('onRollOver', 'mouseOver'),\n\t\t\t\tnew AVM1EventHandler('onSetFocus', 'focusIn', function (e: any) {\n\t\t\t\t\treturn [e.relatedObject];\n\t\t\t\t})\n\t\t\t]);\n\t\t}\n\t}\n}\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='../references.ts' />\n\nmodule Shumway.AVM1.Lib {\n\timport flash = Shumway.AVMX.AS.flash;\n\timport notImplemented = Shumway.Debug.notImplemented;\n\n\texport class AVM1TextField extends AVM1SymbolBase<flash.text.TextField> {\n\t\tstatic createAVM1Class(context: AVM1Context): AVM1Object {\n\t\t\treturn wrapAVM1NativeClass(context, true, AVM1TextField,\n\t\t\t\t[],\n\t\t\t\t['_alpha#', 'antiAliasType#', 'autoSize#', 'background#', 'backgroundColor#',\n\t\t\t\t\t'border#', 'borderColor#', 'bottomScroll#', 'condenseWhite#', 'embedFonts#',\n\t\t\t\t\t'filters#', 'getNewTextFormat', 'getTextFormat', 'gridFitType#', 'getDepth',\n\t\t\t\t\t'_height#', '_highquality#', 'hscroll#', 'html#', 'htmlText#', 'length#',\n\t\t\t\t\t'maxChars#', 'maxhscroll#', 'maxscroll#', 'multiline#',\n\t\t\t\t\t'_name#', '_parent#', 'password#', '_quality#', '_rotation#',\n\t\t\t\t\t'scroll#', 'selectable#', 'setNewTextFormat', 'setTextFormat',\n\t\t\t\t\t'_soundbuftime#', 'tabEnabled#', 'tabIndex#', '_target#',\n\t\t\t\t\t'text#', 'textColor#', 'textHeight#', 'textWidth#', 'type#',\n\t\t\t\t\t'_url#', 'variable#', '_visible#', '_width#', 'wordWrap#',\n\t\t\t\t\t'_x#', '_xmouse#', '_xscale#', '_y#', '_ymouse#', '_yscale#']);\n\t\t}\n\n\t\tprivate _variable: string;\n\t\tprivate _html: boolean;\n\t\tprivate _exitFrameHandler: (event: flash.events.Event) => void;\n\n\t\tpublic initAVM1SymbolInstance(context: AVM1Context, as3Object: flash.text.TextField) {\n\t\t\tsuper.initAVM1SymbolInstance(context, as3Object);\n\n\t\t\tthis._variable = '';\n\t\t\tthis._html = false;\n\t\t\tthis._exitFrameHandler = null;\n\n\t\t\tif (as3Object._symbol) {\n\t\t\t\tthis.setVariable(as3Object._symbol.variableName || '');\n\t\t\t\tthis._html = as3Object._symbol.html;\n\t\t\t}\n\n\t\t\tthis._initEventsHandlers();\n\t\t}\n\n\t\tpublic getAntiAliasType(): string {\n\t\t\treturn this._as3Object.antiAliasType;\n\t\t}\n\n\t\tpublic setAntiAliasType(value: string) {\n\t\t\tvalue = alCoerceString(this.context, value);\n\t\t\tthis._as3Object.antiAliasType = value;\n\t\t}\n\n\t\tpublic getAutoSize() {\n\t\t\treturn this._as3Object.autoSize;\n\t\t}\n\n\t\tpublic setAutoSize(value: any) {\n\t\t\t// AVM1 treats |true| as \"LEFT\" and |false| as \"NONE\".\n\t\t\tif (value === true) {\n\t\t\t\tvalue = \"left\";\n\t\t\t} else if (value === false) {\n\t\t\t\tvalue = \"none\";\n\t\t\t}\n\t\t\tvalue = alCoerceString(this.context, value);\n\t\t\tthis._as3Object.autoSize = value;\n\t\t}\n\n\t\tpublic getBackground(): boolean {\n\t\t\treturn this._as3Object.background;\n\t\t}\n\n\t\tpublic setBackground(value: boolean) {\n\t\t\tvalue = alToBoolean(this.context, value);\n\t\t\tthis._as3Object.background = value;\n\t\t}\n\n\t\tpublic getBackgroundColor(): number {\n\t\t\treturn this._as3Object.backgroundColor;\n\t\t}\n\n\t\tpublic setBackgroundColor(value: any) {\n\t\t\tvalue = alToInt32(this.context, value);\n\t\t\tthis._as3Object.backgroundColor = value;\n\t\t}\n\n\t\tpublic getBorder(): boolean {\n\t\t\treturn this._as3Object.border;\n\t\t}\n\n\t\tpublic setBorder(value: boolean) {\n\t\t\tvalue = alToBoolean(this.context, value);\n\t\t\tthis._as3Object.border = value;\n\t\t}\n\n\t\tpublic getBorderColor(): number {\n\t\t\treturn this._as3Object.borderColor;\n\t\t}\n\n\t\tpublic setBorderColor(value: number) {\n\t\t\tvalue = alToInt32(this.context, value);\n\t\t\tthis._as3Object.borderColor = value;\n\t\t}\n\n\t\tpublic getBottomScroll(): number {\n\t\t\treturn this._as3Object.bottomScrollV;\n\t\t}\n\n\t\tpublic getCondenseWhite(): boolean {\n\t\t\treturn this._as3Object.condenseWhite;\n\t\t}\n\n\t\tpublic setCondenseWhite(value: boolean) {\n\t\t\tvalue = alToBoolean(this.context, value);\n\t\t\tthis._as3Object.condenseWhite = value;\n\t\t}\n\n\t\tpublic getEmbedFonts(): boolean {\n\t\t\treturn this._as3Object.embedFonts;\n\t\t}\n\n\t\tpublic setEmbedFonts(value: any) {\n\t\t\tvalue = alToBoolean(this.context, value);\n\t\t\tthis._as3Object.embedFonts = value;\n\t\t}\n\n\t\tpublic getNewTextFormat() {\n\t\t\treturn AVM1TextFormat.createFromNative(this.context, this._as3Object.defaultTextFormat);\n\t\t}\n\n\t\tpublic getTextFormat(beginIndex: number = -1, endIndex: number = -1) {\n\t\t\tbeginIndex = alToInteger(this.context, beginIndex);\n\t\t\tendIndex = alToInteger(this.context, endIndex);\n\t\t\tlet as3TextFormat = this._as3Object.getTextFormat(beginIndex, endIndex);\n\t\t\treturn AVM1TextFormat.createFromNative(this.context, as3TextFormat);\n\t\t}\n\n\t\tpublic getGridFitType(): string {\n\t\t\treturn this._as3Object.gridFitType;\n\t\t}\n\n\t\tpublic setGridFitType(value: string) {\n\t\t\tvalue = alCoerceString(this.context, value);\n\t\t\tthis._as3Object.gridFitType = value;\n\t\t}\n\n\t\tpublic getHscroll(): number {\n\t\t\treturn this._as3Object.scrollH;\n\t\t}\n\n\t\tpublic setHscroll(value: number) {\n\t\t\tvalue = alCoerceNumber(this.context, value);\n\t\t\tthis._as3Object.scrollH = value;\n\t\t}\n\n\t\tpublic getHtml() {\n\t\t\treturn this._html;\n\t\t}\n\n\t\tpublic setHtml(value: any) {\n\t\t\tthis._html = !!value;\n\t\t\t// Flash doesn't update the displayed text at this point, but the return\n\t\t\t// value of `TextField#htmlText` is as though `TextField#htmlText = TextField#text` had\n\t\t\t// also been called. For now, we ignore that.\n\t\t}\n\n\t\tpublic getHtmlText(): string {\n\t\t\treturn this._html ? this._as3Object.htmlText : this._as3Object.text;\n\t\t}\n\n\t\tpublic setHtmlText(value: string) {\n\t\t\t// alToString turns `undefined` into an empty string, but we really do want \"undefined\" here.\n\t\t\tvalue = value === undefined ? 'undefined' : alToString(this.context, value);\n\t\t\tif (this._html) {\n\t\t\t\tthis._as3Object.htmlText = value;\n\t\t\t} else {\n\t\t\t\tthis._as3Object.text = value;\n\t\t\t}\n\t\t}\n\n\t\tpublic getLength(): number {\n\t\t\treturn this._as3Object.length;\n\t\t}\n\n\t\tpublic getMaxChars(): number {\n\t\t\treturn this._as3Object.maxChars;\n\t\t}\n\n\t\tpublic setMaxChars(value: any) {\n\t\t\tvalue = alCoerceNumber(this.context, value);\n\t\t\tthis._as3Object.maxChars = value;\n\t\t}\n\n\t\tpublic getMaxhscroll(): number {\n\t\t\treturn this._as3Object.maxScrollH;\n\t\t}\n\n\t\tpublic getMaxscroll(): number {\n\t\t\treturn this._as3Object.maxScrollV;\n\t\t}\n\n\t\tpublic getMultiline(): boolean {\n\t\t\treturn this._as3Object.multiline;\n\t\t}\n\n\t\tpublic setMultiline(value: boolean) {\n\t\t\tvalue = alToBoolean(this.context, value);\n\t\t\tthis._as3Object.multiline = value;\n\t\t}\n\n\t\tpublic getPassword(): boolean {\n\t\t\treturn this._as3Object.displayAsPassword;\n\t\t}\n\n\t\tpublic setPassword(value: boolean) {\n\t\t\tvalue = alToBoolean(this.context, value);\n\t\t\tthis._as3Object.displayAsPassword = value;\n\t\t}\n\n\t\tpublic getScroll(): number {\n\t\t\treturn this._as3Object.scrollV;\n\t\t}\n\n\t\tpublic setScroll(value: number) {\n\t\t\tvalue = alCoerceNumber(this.context, value);\n\t\t\tthis._as3Object.scrollV = value;\n\t\t}\n\n\t\tpublic getSelectable(): boolean {\n\t\t\treturn this._as3Object.selectable;\n\t\t}\n\n\t\tpublic setSelectable(value: boolean) {\n\t\t\tvalue = alToBoolean(this.context, value);\n\t\t\tthis._as3Object.selectable = value;\n\t\t}\n\n\t\tpublic setNewTextFormat(value: any) {\n\t\t\tlet as3TextFormat;\n\t\t\tif (value instanceof AVM1TextFormat) {\n\t\t\t\tas3TextFormat = (<AVM1TextFormat>value)._as3Object;\n\t\t\t}\n\t\t\tthis._as3Object.defaultTextFormat = as3TextFormat;\n\t\t}\n\n\t\tpublic setTextFormat() {\n\t\t\tlet beginIndex: number = -1, endIndex: number = -1, tf;\n\t\t\tswitch (arguments.length) {\n\t\t\t\tcase 0:\n\t\t\t\t\treturn; // invalid amount of arguments\n\t\t\t\tcase 1:\n\t\t\t\t\ttf = arguments[0];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\tbeginIndex = alToNumber(this.context, arguments[0]);\n\t\t\t\t\ttf = arguments[1];\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbeginIndex = alToNumber(this.context, arguments[0]);\n\t\t\t\t\tendIndex = alToNumber(this.context, arguments[1]);\n\t\t\t\t\ttf = arguments[2];\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tlet as3TextFormat;\n\t\t\tif (tf instanceof AVM1TextFormat) {\n\t\t\t\tas3TextFormat = (<AVM1TextFormat>tf)._as3Object;\n\t\t\t}\n\t\t\tthis._as3Object.setTextFormat(as3TextFormat, beginIndex, endIndex);\n\t\t}\n\n\t\tpublic getText(): string {\n\t\t\treturn this._as3Object.text;\n\t\t}\n\n\t\tpublic setText(value: string) {\n\t\t\t// alToString turns `undefined` into an empty string, but we really do want \"undefined\" here.\n\t\t\tvalue = value === undefined ? 'undefined' : alToString(this.context, value);\n\t\t\tthis._as3Object.text = value;\n\t\t}\n\n\t\tpublic getTextColor(): number {\n\t\t\treturn this._as3Object.textColor;\n\t\t}\n\n\t\tpublic setTextColor(value: number) {\n\t\t\tvalue = alToInt32(this.context, value);\n\t\t\tthis._as3Object.textColor = value;\n\t\t}\n\n\t\tpublic getTextHeight(): number {\n\t\t\treturn this._as3Object.textHeight;\n\t\t}\n\n\t\tpublic setTextHeight(value: number) {\n\t\t\tDebug.notImplemented('AVM1TextField.setTextHeight');\n\t\t}\n\n\t\tpublic getTextWidth(): number {\n\t\t\treturn this._as3Object.textWidth;\n\t\t}\n\n\t\tpublic setTextWidth(value: any) {\n\t\t\tDebug.notImplemented('AVM1TextField.setTextWidth');\n\t\t}\n\n\t\tpublic getType(): string {\n\t\t\treturn this._as3Object.type;\n\t\t}\n\n\t\tpublic setType(value: string) {\n\t\t\tvalue = alCoerceString(this.context, value);\n\t\t\tthis._as3Object.type = value;\n\t\t}\n\n\t\tpublic getVariable(): string {\n\t\t\treturn this._variable;\n\t\t}\n\n\t\tpublic setVariable(name: string) {\n\t\t\tname = alCoerceString(this.context, name);\n\t\t\tif (name === this._variable) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet instance = this._as3Object;\n\t\t\tif (this._exitFrameHandler && !name) {\n\t\t\t\tinstance.removeEventListener('exitFrame', this._exitFrameHandler);\n\t\t\t\tthis._exitFrameHandler = null;\n\t\t\t}\n\t\t\tthis._variable = name;\n\t\t\tif (!this._exitFrameHandler && name) {\n\t\t\t\tthis._exitFrameHandler = this._onAS3ObjectExitFrame.bind(this);\n\t\t\t\tinstance.addEventListener('exitFrame', this._exitFrameHandler);\n\t\t\t}\n\t\t}\n\n\t\tprivate _onAS3ObjectExitFrame() {\n\t\t\tthis._syncTextFieldValue(this._as3Object, this._variable);\n\t\t}\n\n\t\tprivate _syncTextFieldValue(instance: any, name: string) {\n\t\t\tlet clip;\n\t\t\tlet hasPath = name.indexOf('.') >= 0 || name.indexOf(':') >= 0;\n\t\t\tlet avm1ContextUtils = this.context.utils;\n\t\t\tif (hasPath) {\n\t\t\t\tlet targetPath = name.split(/[.:\\/]/g);\n\t\t\t\tname = targetPath.pop();\n\t\t\t\tif (targetPath[0] == '_root' || targetPath[0] === '') {\n\t\t\t\t\tif (instance.root === null) {\n\t\t\t\t\t\treturn; // text field is not part of the stage yet\n\t\t\t\t\t}\n\t\t\t\t\tclip = getAVM1Object(instance.root, this.context);\n\t\t\t\t\ttargetPath.shift();\n\t\t\t\t\tif (targetPath[0] === '') {\n\t\t\t\t\t\ttargetPath.shift();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclip = getAVM1Object(instance._parent, this.context);\n\t\t\t\t}\n\t\t\t\twhile (targetPath.length > 0) {\n\t\t\t\t\tlet childName = targetPath.shift();\n\t\t\t\t\tclip = avm1ContextUtils.getProperty(clip, childName);\n\t\t\t\t\tif (!clip) {\n\t\t\t\t\t\treturn; // cannot find child clip\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tclip = getAVM1Object(instance._parent, this.context);\n\t\t\t}\n\t\t\tif (!clip) { // REDUX\n\t\t\t\tavm1ContextUtils.warn('Clip ' + name + ' was not found');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Sets default values as defined in SWF if this property was not found.\n\t\t\tif (!avm1ContextUtils.hasProperty(clip, name)) {\n\t\t\t\tavm1ContextUtils.setProperty(clip, name, instance.text);\n\t\t\t}\n\n\t\t\tinstance.text = '' + avm1ContextUtils.getProperty(clip, name);\n\t\t}\n\n\t\tpublic getWordWrap(): boolean {\n\t\t\treturn this._as3Object.wordWrap;\n\t\t}\n\n\t\tpublic setWordWrap(value: boolean) {\n\t\t\tvalue = alToBoolean(this.context, value);\n\t\t\tthis._as3Object.wordWrap = value;\n\t\t}\n\n\n\t\tprivate _initEventsHandlers() {\n\t\t\tthis.bindEvents([\n\t\t\t\tnew AVM1EventHandler('onDragOut', 'dragOut'),\n\t\t\t\tnew AVM1EventHandler('onDragOver', 'dragOver'),\n\t\t\t\tnew AVM1EventHandler('onKeyDown', 'keyDown'),\n\t\t\t\tnew AVM1EventHandler('onKeyUp', 'keyUp'),\n\t\t\t\tnew AVM1EventHandler('onKillFocus', 'focusOut', function (e: any) {\n\t\t\t\t\treturn [e.relatedObject];\n\t\t\t\t}),\n\t\t\t\tnew AVM1EventHandler('onLoad', 'load'),\n\t\t\t\tnew AVM1EventHandler('onMouseDown', 'mouseDown'),\n\t\t\t\tnew AVM1EventHandler('onMouseUp', 'mouseUp'),\n\t\t\t\tnew AVM1EventHandler('onPress', 'mouseDown'),\n\t\t\t\tnew AVM1EventHandler('onRelease', 'mouseUp'),\n\t\t\t\tnew AVM1EventHandler('onReleaseOutside', 'releaseOutside'),\n\t\t\t\tnew AVM1EventHandler('onRollOut', 'mouseOut'),\n\t\t\t\tnew AVM1EventHandler('onRollOver', 'mouseOver'),\n\t\t\t\tnew AVM1EventHandler('onSetFocus', 'focusIn', function (e: any) {\n\t\t\t\t\treturn [e.relatedObject];\n\t\t\t\t})\n\t\t\t]);\n\t\t}\n\t}\n}\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='../references.ts' />\n\nmodule Shumway.AVM1.Lib {\n\timport flash = Shumway.AVMX.AS.flash;\n\n\texport class AVM1Color extends AVM1Object {\n\t\tstatic createAVM1Class(context: AVM1Context): AVM1Object {\n\t\t\treturn wrapAVM1NativeClass(context, true, AVM1Color,\n\t\t\t\t[],\n\t\t\t\t['getRGB', 'getTransform', 'setRGB', 'setTransform'],\n\t\t\t\tnull, AVM1Color.prototype.avm1Constructor);\n\t\t}\n\n\t\tprivate _target: IAVM1SymbolBase;\n\t\tprivate _targetAS3Object: flash.display.InteractiveObject;\n\n\t\tpublic avm1Constructor(target_mc: any) {\n\t\t\tthis._target = this.context.resolveTarget(target_mc);\n\t\t\tthis._targetAS3Object = <flash.display.InteractiveObject>getAS3Object(this._target);\n\t\t}\n\n\t\tpublic getRGB(): number {\n\t\t\tlet transform = AVM1Color.prototype.getTransform.call(this);\n\t\t\treturn transform.alGet('rgb');\n\t\t}\n\n\t\tpublic getTransform(): AVM1ColorTransform {\n\t\t\treturn AVM1ColorTransform.fromAS3ColorTransform(this.context,\n\t\t\t\tthis._targetAS3Object.transform.colorTransform);\n\t\t}\n\n\t\tpublic setRGB(offset: number): void {\n\t\t\tlet transform = AVM1Color.prototype.getTransform.call(this);\n\t\t\ttransform.alPut('rgb', offset);\n\t\t\tAVM1Color.prototype.setTransform.call(this, transform);\n\t\t}\n\n\t\tpublic setTransform(transform: AVM1Object): void {\n\t\t\tthis._targetAS3Object.transform.colorTransform = toAS3ColorTransform(transform);\n\t\t}\n\t}\n}\n","/**\n * Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='../references.ts' />\n\nmodule Shumway.AVM1.Lib {\n\timport flash = Shumway.AVMX.AS.flash;\n\n\tfunction defaultTo(v: any, defaultValue: any) {\n\t\treturn v === undefined ? defaultValue : v;\n\t}\n\n\texport function toAS3ColorTransform(v: any): flash.geom.ColorTransform {\n\t\tlet context = v.context;\n\t\tif (!(v instanceof AVM1Object)) {\n\t\t\treturn new context.sec.flash.geom.ColorTransform(1, 1, 1, 1, 0, 0, 0, 0);\n\t\t}\n\t\treturn new context.sec.flash.geom.ColorTransform(\n\t\t\talCoerceNumber(context, defaultTo(v.alGet('redMultiplier'), 1)),\n\t\t\talCoerceNumber(context, defaultTo(v.alGet('greenMultiplier'), 1)),\n\t\t\talCoerceNumber(context, defaultTo(v.alGet('blueMultiplier'), 1)),\n\t\t\talCoerceNumber(context, defaultTo(v.alGet('alphaMultiplier'), 1)),\n\t\t\talCoerceNumber(context, defaultTo(v.alGet('redOffset'), 0)),\n\t\t\talCoerceNumber(context, defaultTo(v.alGet('greenOffset'), 0)),\n\t\t\talCoerceNumber(context, defaultTo(v.alGet('blueOffset'), 0)),\n\t\t\talCoerceNumber(context, defaultTo(v.alGet('alphaOffset'), 0)));\n\t}\n\n\texport function copyAS3ColorTransform(t: flash.geom.ColorTransform, v: AVM1Object) {\n\t\tv.alPut('redMultiplier', t.redMultiplier);\n\t\tv.alPut('greenMultiplier', t.greenMultiplier);\n\t\tv.alPut('blueMultiplier', t.blueMultiplier);\n\t\tv.alPut('alphaMultiplier', t.alphaMultiplier);\n\t\tv.alPut('redOffset', t.redOffset);\n\t\tv.alPut('greenOffset', t.greenOffset);\n\t\tv.alPut('blueOffset', t.blueOffset);\n\t\tv.alPut('alphaOffset', t.alphaOffset);\n\t}\n\n\texport class AVM1ColorTransform extends AVM1Object {\n\t\tconstructor(context: AVM1Context,\n\t\t            redMultiplier: number = 1, greenMultiplier: number = 1, blueMultiplier: number = 1, alphaMultiplier: number = 1,\n\t\t            redOffset: number = 0, greenOffset: number = 0, blueOffset: number = 0, alphaOffset: number = 0) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.globals.ColorTransform.alGetPrototypeProperty();\n\t\t\tthis.alPut('redMultiplier', redMultiplier);\n\t\t\tthis.alPut('greenMultiplier', greenMultiplier);\n\t\t\tthis.alPut('blueMultiplier', blueMultiplier);\n\t\t\tthis.alPut('alphaMultiplier', alphaMultiplier);\n\t\t\tthis.alPut('redOffset', redOffset);\n\t\t\tthis.alPut('greenOffset', greenOffset);\n\t\t\tthis.alPut('blueOffset', blueOffset);\n\t\t\tthis.alPut('alphaOffset', alphaOffset);\n\t\t}\n\n\t\tstatic fromAS3ColorTransform(context: AVM1Context, t: flash.geom.ColorTransform): AVM1ColorTransform {\n\t\t\treturn new AVM1ColorTransform(context,\n\t\t\t\tt.redMultiplier, t.greenMultiplier, t.blueMultiplier, t.alphaMultiplier,\n\t\t\t\tt.redOffset, t.greenOffset, t.blueOffset, t.alphaOffset);\n\t\t}\n\t}\n\n\texport class AVM1ColorTransformFunction extends AVM1Function {\n\t\tconstructor(context: AVM1Context) {\n\t\t\tsuper(context);\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tprototype: {\n\t\t\t\t\tvalue: new AVM1ColorTransformPrototype(context, this)\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\talConstruct(args?: any[]): AVM1Object {\n\t\t\tlet obj = Object.create(AVM1ColorTransform.prototype);\n\t\t\targs = args || [];\n\t\t\tAVM1ColorTransform.apply(obj, [this.context].concat(args));\n\t\t\treturn obj;\n\t\t}\n\t}\n\n\texport class AVM1ColorTransformPrototype extends AVM1Object {\n\t\tconstructor(context: AVM1Context, fn: AVM1Function) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Object.alGetPrototypeProperty();\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tconstructor: {\n\t\t\t\t\tvalue: fn,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\trgb: {\n\t\t\t\t\tget: this.getRgb,\n\t\t\t\t\tset: this.setRgb\n\t\t\t\t},\n\t\t\t\tconcat: {\n\t\t\t\t\tvalue: this.concat,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\ttoString: {\n\t\t\t\t\tvalue: this._toString,\n\t\t\t\t\twritable: true\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tpublic getRgb(): number {\n\t\t\treturn toAS3ColorTransform(this).color;\n\t\t}\n\n\t\tpublic setRgb(rgb: number) {\n\t\t\tlet t = toAS3ColorTransform(this);\n\t\t\tt.color = alToInt32(this.context, rgb);\n\t\t\tcopyAS3ColorTransform(t, this);\n\t\t}\n\n\t\tpublic concat(second: AVM1ColorTransform): void {\n\t\t\tlet t = toAS3ColorTransform(this);\n\t\t\tt.concat(toAS3ColorTransform(second));\n\t\t\tcopyAS3ColorTransform(t, this);\n\t\t}\n\n\t\tpublic _toString(): string {\n\t\t\treturn toAS3ColorTransform(this).toString();\n\t\t}\n\t}\n}","/**\n * Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='../references.ts' />\n\nmodule Shumway.AVM1.Lib {\n\timport flash = Shumway.AVMX.AS.flash;\n\n\texport function toAS3Matrix(v: AVM1Object): flash.geom.Matrix {\n\t\tlet context = v.context;\n\t\tlet a, b, c, d, tx, ty;\n\t\tif (v instanceof AVM1Object) {\n\t\t\ta = alCoerceNumber(context, v.alGet('a'));\n\t\t\tb = alCoerceNumber(context, v.alGet('b'));\n\t\t\tc = alCoerceNumber(context, v.alGet('c'));\n\t\t\td = alCoerceNumber(context, v.alGet('d'));\n\t\t\ttx = alCoerceNumber(context, v.alGet('tx'));\n\t\t\tty = alCoerceNumber(context, v.alGet('ty'));\n\t\t}\n\t\treturn new context.sec.flash.geom.Matrix(a, b, c, d, tx, ty);\n\t}\n\n\texport function copyAS3MatrixTo(m: flash.geom.Matrix, v: AVM1Object) {\n\t\tv.alPut('a', m.a);\n\t\tv.alPut('b', m.b);\n\t\tv.alPut('c', m.c);\n\t\tv.alPut('d', m.d);\n\t\tv.alPut('tx', m.tx);\n\t\tv.alPut('ty', m.ty);\n\t}\n\n\texport class AVM1Matrix extends AVM1Object {\n\t\tconstructor(context: AVM1Context, a: number = 1, b: number = 0, c: number = 0, d: number = 1, tx: number = 0, ty: number = 0) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.globals.Matrix.alGetPrototypeProperty();\n\t\t\tthis.alPut('a', a);\n\t\t\tthis.alPut('b', b);\n\t\t\tthis.alPut('c', c);\n\t\t\tthis.alPut('d', d);\n\t\t\tthis.alPut('tx', tx);\n\t\t\tthis.alPut('ty', ty);\n\t\t}\n\n\t\tstatic fromAS3Matrix(context: AVM1Context, m: flash.geom.Matrix): AVM1Matrix {\n\t\t\treturn new AVM1Matrix(context, m.a, m.b, m.c, m.d, m.tx, m.ty);\n\t\t}\n\t}\n\n\texport class AVM1MatrixFunction extends AVM1Function {\n\t\tconstructor(context: AVM1Context) {\n\t\t\tsuper(context);\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tprototype: {\n\t\t\t\t\tvalue: new AVM1MatrixPrototype(context, this)\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\talConstruct(args?: any[]): AVM1Object {\n\t\t\tif (args && args.length > 0) {\n\t\t\t\treturn new AVM1Matrix(this.context, args[0], args[1], args[2], args[3], args[4], args[5]);\n\t\t\t} else {\n\t\t\t\treturn new AVM1Matrix(this.context);\n\t\t\t}\n\t\t}\n\t}\n\n\texport class AVM1MatrixPrototype extends AVM1Object {\n\t\tconstructor(context: AVM1Context, fn: AVM1Function) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Object.alGetPrototypeProperty();\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tconstructor: {\n\t\t\t\t\tvalue: fn,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tclone: {\n\t\t\t\t\tvalue: this.clone,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tconcat: {\n\t\t\t\t\tvalue: this.concat,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tcreateBox: {\n\t\t\t\t\tvalue: this.createBox,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tcreateGradientBox: {\n\t\t\t\t\tvalue: this.createGradientBox,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tdeltaTransformPoint: {\n\t\t\t\t\tvalue: this.deltaTransformPoint,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tidentity: {\n\t\t\t\t\tvalue: this.identity,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tinvert: {\n\t\t\t\t\tvalue: this.invert,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\trotate: {\n\t\t\t\t\tvalue: this.rotate,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tscale: {\n\t\t\t\t\tvalue: this.scale,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\ttoString: {\n\t\t\t\t\tvalue: this._toString,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\ttransformPoint: {\n\t\t\t\t\tvalue: this.transformPoint,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\ttranslate: {\n\t\t\t\t\tvalue: this.translate,\n\t\t\t\t\twritable: true\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tpublic clone(): AVM1Matrix {\n\t\t\tlet result = new AVM1Matrix(this.context);\n\t\t\tif (this instanceof AVM1Object) {\n\t\t\t\tresult.alPut('a', this.alGet('a'));\n\t\t\t\tresult.alPut('b', this.alGet('b'));\n\t\t\t\tresult.alPut('c', this.alGet('c'));\n\t\t\t\tresult.alPut('d', this.alGet('d'));\n\t\t\t\tresult.alPut('tx', this.alGet('tx'));\n\t\t\t\tresult.alPut('ty', this.alGet('ty'));\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\tpublic concat(other: AVM1Matrix): void {\n\t\t\tlet m = toAS3Matrix(this), m2 = toAS3Matrix(other);\n\t\t\tm.concat(m2);\n\t\t\tcopyAS3MatrixTo(m, this);\n\t\t}\n\n\t\tpublic createBox(scaleX: number, scaleY: number, rotation: number = 0, tx: number = 0, ty: number = 0): void {\n\t\t\tscaleX = alCoerceNumber(this.context, scaleX);\n\t\t\tscaleY = alCoerceNumber(this.context, scaleY);\n\t\t\trotation = alCoerceNumber(this.context, rotation);\n\t\t\ttx = alCoerceNumber(this.context, tx);\n\t\t\tty = alCoerceNumber(this.context, ty);\n\t\t\tlet m = toAS3Matrix(this);\n\t\t\tm.createBox(scaleX, scaleY, rotation, tx, ty);\n\t\t\tcopyAS3MatrixTo(m, this);\n\t\t}\n\n\t\tpublic createGradientBox(width: number, height: number, rotation: number = 0, tx: number = 0, ty: number = 0): void {\n\t\t\twidth = alCoerceNumber(this.context, width);\n\t\t\theight = alCoerceNumber(this.context, height);\n\t\t\trotation = alCoerceNumber(this.context, rotation);\n\t\t\ttx = alCoerceNumber(this.context, tx);\n\t\t\tty = alCoerceNumber(this.context, ty);\n\t\t\tlet m = toAS3Matrix(this);\n\t\t\tm.createGradientBox(width, height, rotation, tx, ty);\n\t\t\tcopyAS3MatrixTo(m, this);\n\t\t}\n\n\t\tpublic deltaTransformPoint(pt: AVM1Point): AVM1Point {\n\t\t\tlet p = toAS3Point(pt);\n\t\t\tlet m = toAS3Matrix(this);\n\t\t\treturn AVM1Point.fromAS3Point(this.context, m.deltaTransformPoint(p));\n\t\t}\n\n\t\tpublic identity(): void {\n\t\t\tthis.alPut('a', 1);\n\t\t\tthis.alPut('b', 0);\n\t\t\tthis.alPut('c', 0);\n\t\t\tthis.alPut('d', 1);\n\t\t\tthis.alPut('tx', 0);\n\t\t\tthis.alPut('ty', 0);\n\t\t}\n\n\t\tpublic invert(): void {\n\t\t\tlet m = toAS3Matrix(this);\n\t\t\tm.invert();\n\t\t\tcopyAS3MatrixTo(m, this);\n\t\t}\n\n\t\tpublic rotate(angle: number): void {\n\t\t\tangle = alCoerceNumber(this.context, angle);\n\t\t\tlet m = toAS3Matrix(this);\n\t\t\tm.rotate(angle);\n\t\t\tcopyAS3MatrixTo(m, this);\n\t\t}\n\n\t\tpublic scale(sx: number, sy: number): void {\n\t\t\tsx = alCoerceNumber(this.context, sx);\n\t\t\tsy = alCoerceNumber(this.context, sy);\n\t\t\tlet m = toAS3Matrix(this);\n\t\t\tm.scale(sx, sy);\n\t\t\tcopyAS3MatrixTo(m, this);\n\t\t}\n\n\t\tpublic _toString(): string {\n\t\t\treturn toAS3Matrix(this).toString();\n\t\t}\n\n\t\tpublic transformPoint(pt: AVM1Point): AVM1Point {\n\t\t\tlet p = toAS3Point(pt);\n\t\t\tlet m = toAS3Matrix(this);\n\t\t\treturn AVM1Point.fromAS3Point(this.context, m.transformPoint(p));\n\t\t}\n\n\t\tpublic translate(tx: number, ty: number): void {\n\t\t\ttx = alCoerceNumber(this.context, tx);\n\t\t\tty = alCoerceNumber(this.context, ty);\n\t\t\tlet m = toAS3Matrix(this);\n\t\t\tm.translate(tx, ty);\n\t\t\tcopyAS3MatrixTo(m, this);\n\t\t}\n\t}\n}\n","/**\n * Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='../references.ts' />\n\nmodule Shumway.AVM1.Lib {\n\timport flash = Shumway.AVMX.AS.flash;\n\n\texport function toAS3Point(v: AVM1Object): flash.geom.Point {\n\t\tlet context = v.context;\n\t\tlet x, y;\n\t\tif (v instanceof AVM1Object) {\n\t\t\tx = alCoerceNumber(context, v.alGet('x'));\n\t\t\ty = alCoerceNumber(context, v.alGet('y'));\n\t\t}\n\t\treturn new context.sec.flash.geom.Point(x, y);\n\t}\n\n\texport function copyAS3PointTo(p: flash.geom.Point, v: AVM1Object) {\n\t\tv.alPut('x', p.x);\n\t\tv.alPut('y', p.y);\n\t}\n\n\texport class AVM1Point extends AVM1Object {\n\t\tconstructor(context: AVM1Context, x?: number, y?: number) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.globals.Point.alGetPrototypeProperty();\n\t\t\tthis.alPut('x', x);\n\t\t\tthis.alPut('y', y);\n\t\t}\n\n\t\tstatic fromAS3Point(context: AVM1Context, p: flash.geom.Point): AVM1Point {\n\t\t\treturn new AVM1Point(context, p.x, p.y);\n\t\t}\n\t}\n\n\texport class AVM1PointFunction extends AVM1Function {\n\t\tconstructor(context: AVM1Context) {\n\t\t\tsuper(context);\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tprototype: {\n\t\t\t\t\tvalue: new AVM1PointPrototype(context, this)\n\t\t\t\t},\n\t\t\t\tdistance: {\n\t\t\t\t\tvalue: this.distance,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tinterpolate: {\n\t\t\t\t\tvalue: this.interpolate,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tpolar: {\n\t\t\t\t\tvalue: this.polar,\n\t\t\t\t\twritable: true\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\talConstruct(args?: any[]): AVM1Object {\n\t\t\tif (args && args.length > 0) {\n\t\t\t\treturn new AVM1Point(this.context, args[0], args[1]);\n\t\t\t} else {\n\t\t\t\treturn new AVM1Point(this.context, 0, 0);\n\t\t\t}\n\t\t}\n\n\t\tpublic distance(pt1: AVM1Point, pt2: AVM1Point): number {\n\t\t\treturn this.context.sec.flash.geom.Point.axClass.distance(toAS3Point(pt1), toAS3Point(pt2));\n\t\t}\n\n\t\tpublic interpolate(pt1: AVM1Point, pt2: AVM1Point, f: number): AVM1Point {\n\t\t\tf = alToNumber(this.context, f);\n\t\t\tlet p = this.context.sec.flash.geom.Point.axClass.interpolate(toAS3Point(pt1), toAS3Point(pt2), f);\n\t\t\treturn AVM1Point.fromAS3Point(this.context, p);\n\t\t}\n\n\t\tpublic polar(len: number, angle: number): AVM1Point {\n\t\t\tlen = alToNumber(this.context, len);\n\t\t\tangle = alToNumber(this.context, angle);\n\t\t\treturn AVM1Point.fromAS3Point(this.context,\n\t\t\t\tthis.context.sec.flash.geom.Point.axClass.polar(len, angle));\n\t\t}\n\t}\n\n\texport class AVM1PointPrototype extends AVM1Object {\n\t\tconstructor(context: AVM1Context, fn: AVM1Function) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Object.alGetPrototypeProperty();\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tconstructor: {\n\t\t\t\t\tvalue: fn,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tlength: {\n\t\t\t\t\tget: this.getLength\n\t\t\t\t},\n\t\t\t\tadd: {\n\t\t\t\t\tvalue: this.add,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tclone: {\n\t\t\t\t\tvalue: this.clone,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tequals: {\n\t\t\t\t\tvalue: this.equals,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tnormalize: {\n\t\t\t\t\tvalue: this.normalize,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\toffset: {\n\t\t\t\t\tvalue: this.offset,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tsubtract: {\n\t\t\t\t\tvalue: this.subtract,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\ttoString: {\n\t\t\t\t\tvalue: this._toString,\n\t\t\t\t\twritable: true\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tpublic getLength(): number {\n\t\t\treturn toAS3Point(this).length;\n\t\t}\n\n\t\tpublic add(v: AVM1Point): AVM1Point {\n\t\t\treturn AVM1Point.fromAS3Point(this.context, toAS3Point(this).add(toAS3Point(v)));\n\t\t}\n\n\t\tpublic clone(): AVM1Point {\n\t\t\tlet result = new AVM1Point(this.context);\n\t\t\tif (this instanceof AVM1Object) {\n\t\t\t\tresult.alPut('x', this.alGet('x'));\n\t\t\t\tresult.alPut('y', this.alGet('y'));\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\tpublic equals(toCompare: AVM1Point): boolean {\n\t\t\treturn toAS3Point(this).equals(toAS3Point(toCompare));\n\t\t}\n\n\t\tpublic normalize(length: number): void {\n\t\t\tlength = alToNumber(this.context, length);\n\t\t\tlet p = toAS3Point(this);\n\t\t\tp.normalize(length);\n\t\t\tcopyAS3PointTo(p, this);\n\t\t}\n\n\t\tpublic offset(dx: number, dy: number): void {\n\t\t\tdx = alToNumber(this.context, dx);\n\t\t\tdy = alToNumber(this.context, dy);\n\t\t\tlet p = toAS3Point(this);\n\t\t\tp.offset(dx, dy);\n\t\t\tcopyAS3PointTo(p, this);\n\t\t}\n\n\t\tpublic subtract(v: AVM1Point): AVM1Point {\n\t\t\treturn AVM1Point.fromAS3Point(this.context, toAS3Point(this).subtract(toAS3Point(v)));\n\t\t}\n\n\t\tpublic _toString(): string {\n\t\t\treturn '(x=' + this.alGet('x') + ', y=' + this.alGet('y') + ')';\n\t\t}\n\t}\n}","/**\n * Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='../references.ts' />\n\nmodule Shumway.AVM1.Lib {\n\timport flash = Shumway.AVMX.AS.flash;\n\n\texport function toAS3Rectangle(v: AVM1Object): flash.geom.Rectangle {\n\t\tlet context = v.context;\n\t\tlet x, y, width, height;\n\t\tif (v instanceof AVM1Object) {\n\t\t\tx = alCoerceNumber(context, v.alGet('x'));\n\t\t\ty = alCoerceNumber(context, v.alGet('y'));\n\t\t\twidth = alCoerceNumber(context, v.alGet('width'));\n\t\t\theight = alCoerceNumber(context, v.alGet('height'));\n\t\t}\n\t\treturn new context.sec.flash.geom.Rectangle(x, y, width, height);\n\t}\n\n\texport function copyAS3RectangleTo(r: flash.geom.Rectangle, v: AVM1Object) {\n\t\tv.alPut('x', r.x);\n\t\tv.alPut('y', r.y);\n\t\tv.alPut('width', r.width);\n\t\tv.alPut('height', r.height);\n\t}\n\n\texport class AVM1Rectangle extends AVM1Object {\n\t\tconstructor(context: AVM1Context, x?: number, y?: number, width?: number, height?: number) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.globals.Rectangle.alGetPrototypeProperty();\n\t\t\tthis.alPut('x', x);\n\t\t\tthis.alPut('y', y);\n\t\t\tthis.alPut('width', width);\n\t\t\tthis.alPut('height', height);\n\t\t}\n\n\t\tstatic fromAS3Rectangle(context: AVM1Context, r: flash.geom.Rectangle): AVM1Point {\n\t\t\treturn new AVM1Rectangle(context, r.x, r.y, r.width, r.height);\n\t\t}\n\t}\n\n\texport class AVM1RectangleFunction extends AVM1Function {\n\t\tconstructor(context: AVM1Context) {\n\t\t\tsuper(context);\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tprototype: {\n\t\t\t\t\tvalue: new AVM1RectanglePrototype(context, this)\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\talConstruct(args?: any[]): AVM1Object {\n\t\t\tif (args && args.length > 0) {\n\t\t\t\treturn new AVM1Rectangle(this.context, args[0], args[1], args[2], args[3]);\n\t\t\t} else {\n\t\t\t\treturn new AVM1Rectangle(this.context, 0, 0, 0, 0);\n\t\t\t}\n\t\t}\n\t}\n\n\texport class AVM1RectanglePrototype extends AVM1Object {\n\t\tconstructor(context: AVM1Context, fn: AVM1Function) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Object.alGetPrototypeProperty();\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tconstructor: {\n\t\t\t\t\tvalue: fn,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tbottom: {\n\t\t\t\t\tget: this.getBottom,\n\t\t\t\t\tset: this.setBottom\n\t\t\t\t},\n\t\t\t\tbottomRight: {\n\t\t\t\t\tget: this.getBottomRight,\n\t\t\t\t\tset: this.setBottomRight\n\t\t\t\t},\n\t\t\t\tleft: {\n\t\t\t\t\tget: this.getLeft,\n\t\t\t\t\tset: this.setLeft\n\t\t\t\t},\n\t\t\t\tright: {\n\t\t\t\t\tget: this.getRight,\n\t\t\t\t\tset: this.setRight\n\t\t\t\t},\n\t\t\t\tsize: {\n\t\t\t\t\tget: this.getSize,\n\t\t\t\t\tset: this.setSize\n\t\t\t\t},\n\t\t\t\ttop: {\n\t\t\t\t\tget: this.getTop,\n\t\t\t\t\tset: this.setTop\n\t\t\t\t},\n\t\t\t\ttopLeft: {\n\t\t\t\t\tget: this.getTopLeft,\n\t\t\t\t\tset: this.setTopLeft\n\t\t\t\t},\n\t\t\t\tclone: {\n\t\t\t\t\tvalue: this.clone,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tcontains: {\n\t\t\t\t\tvalue: this.contains,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tcontainsPoint: {\n\t\t\t\t\tvalue: this.containsPoint,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tcontainsRectangle: {\n\t\t\t\t\tvalue: this.containsRectangle,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tequals: {\n\t\t\t\t\tvalue: this.equals,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tinflate: {\n\t\t\t\t\tvalue: this.inflate,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tinflatePoint: {\n\t\t\t\t\tvalue: this.inflatePoint,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tintersection: {\n\t\t\t\t\tvalue: this.intersection,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tintersects: {\n\t\t\t\t\tvalue: this.intersects,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tisEmpty: {\n\t\t\t\t\tvalue: this.isEmpty,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\toffset: {\n\t\t\t\t\tvalue: this.offset,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\toffsetPoint: {\n\t\t\t\t\tvalue: this.offsetPoint,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tsetEmpty: {\n\t\t\t\t\tvalue: this.setEmpty,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\ttoString: {\n\t\t\t\t\tvalue: this._toString,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tunion: {\n\t\t\t\t\tvalue: this.union,\n\t\t\t\t\twritable: true\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tpublic getBottom(): number {\n\t\t\treturn alToNumber(this.context, this.alGet('y')) + alToNumber(this.context, this.alGet('height'));\n\t\t}\n\n\t\tpublic setBottom(value: number) {\n\t\t\tthis.alPut('height', alToNumber(this.context, value) - alToNumber(this.context, this.alGet('y')));\n\t\t}\n\n\t\tpublic getBottomRight(): AVM1Point {\n\t\t\treturn new AVM1Point(this.context,\n\t\t\t\tAVM1RectanglePrototype.prototype.getRight.call(this),\n\t\t\t\tAVM1RectanglePrototype.prototype.getBottom.call(this));\n\t\t}\n\n\t\tpublic setBottomRight(pt: AVM1Point) {\n\t\t\tAVM1RectanglePrototype.prototype.setRight.call(this, pt.alGet('x'));\n\t\t\tAVM1RectanglePrototype.prototype.setBottom.call(this, pt.alGet('y'));\n\t\t}\n\n\t\tpublic getLeft(): number {\n\t\t\treturn alToNumber(this.context, this.alGet('x'));\n\t\t}\n\n\t\tpublic setLeft(value: number) {\n\t\t\tthis.alPut('x', alToNumber(this.context, value));\n\t\t}\n\n\t\tpublic getSize(): AVM1Point {\n\t\t\treturn new AVM1Point(this.context, this.alGet('width'), this.alGet('height'));\n\t\t}\n\n\t\tpublic setSize(pt: AVM1Point) {\n\t\t\tthis.alPut('width', pt.alGet('x'));\n\t\t\tthis.alPut('height', pt.alGet('y'));\n\t\t}\n\n\t\tpublic getRight(): number {\n\t\t\treturn alToNumber(this.context, this.alGet('x')) + alToNumber(this.context, this.alGet('width'));\n\t\t}\n\n\t\tpublic setRight(value: number) {\n\t\t\tthis.alPut('width', alToNumber(this.context, value) - alToNumber(this.context, this.alGet('x')));\n\t\t}\n\n\t\tpublic getTop(): number {\n\t\t\treturn alToNumber(this.context, this.alGet('y'));\n\t\t}\n\n\t\tpublic setTop(value: number) {\n\t\t\tthis.alPut('y', alToNumber(this.context, value));\n\t\t}\n\n\t\tpublic getTopLeft(): AVM1Point {\n\t\t\treturn new AVM1Point(this.context,\n\t\t\t\tAVM1RectanglePrototype.prototype.getLeft.call(this),\n\t\t\t\tAVM1RectanglePrototype.prototype.getTop.call(this));\n\t\t}\n\n\t\tpublic setTopLeft(pt: AVM1Point) {\n\t\t\tAVM1RectanglePrototype.prototype.setLeft.call(this, pt.alGet('x'));\n\t\t\tAVM1RectanglePrototype.prototype.setTop.call(this, pt.alGet('y'));\n\t\t}\n\n\t\tpublic clone(): AVM1Rectangle {\n\t\t\tlet result = new AVM1Rectangle(this.context);\n\t\t\tif (this instanceof AVM1Object) {\n\t\t\t\tresult.alPut('x', this.alGet('x'));\n\t\t\t\tresult.alPut('y', this.alGet('y'));\n\t\t\t\tresult.alPut('width', this.alGet('width'));\n\t\t\t\tresult.alPut('height', this.alGet('height'));\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\tpublic contains(x: number, y: number): boolean {\n\t\t\tx = alToNumber(this.context, x);\n\t\t\ty = alToNumber(this.context, y);\n\t\t\tlet r = toAS3Rectangle(this);\n\t\t\treturn r.contains(x, y);\n\t\t}\n\n\t\tpublic containsPoint(pt: AVM1Point): boolean {\n\t\t\tlet r = toAS3Rectangle(this), p = toAS3Point(pt);\n\t\t\treturn r.containsPoint(p);\n\t\t}\n\n\t\tpublic containsRectangle(rect: AVM1Rectangle): boolean {\n\t\t\tlet r = toAS3Rectangle(this), other = toAS3Rectangle(rect);\n\t\t\treturn r.containsRect(other);\n\t\t}\n\n\t\tpublic equals(toCompare: AVM1Rectangle): boolean {\n\t\t\tlet r = toAS3Rectangle(this), other = toAS3Rectangle(toCompare);\n\t\t\treturn r.equals(other);\n\t\t}\n\n\t\tpublic inflate(dx: number, dy: number): void {\n\t\t\tdx = alToNumber(this.context, dx);\n\t\t\tdy = alToNumber(this.context, dy);\n\t\t\tlet r = toAS3Rectangle(this);\n\t\t\tr.inflate(dx, dy);\n\t\t\tcopyAS3RectangleTo(r, this);\n\t\t}\n\n\t\tpublic inflatePoint(pt: AVM1Point): void {\n\t\t\tlet r = toAS3Rectangle(this), p = toAS3Point(pt);\n\t\t\tr.inflatePoint(p);\n\t\t\tcopyAS3RectangleTo(r, this);\n\t\t}\n\n\t\tpublic intersection(toIntersect: AVM1Rectangle): AVM1Rectangle {\n\t\t\tlet r = toAS3Rectangle(this), other = toAS3Rectangle(toIntersect);\n\t\t\treturn AVM1Rectangle.fromAS3Rectangle(this.context, r.intersection(other));\n\t\t}\n\n\t\tpublic intersects(toIntersect: AVM1Rectangle): boolean {\n\t\t\tlet r = toAS3Rectangle(this), other = toAS3Rectangle(toIntersect);\n\t\t\treturn r.intersects(other);\n\t\t}\n\n\t\tpublic isEmpty(): boolean {\n\t\t\treturn toAS3Rectangle(this).isEmpty();\n\t\t}\n\n\t\tpublic offset(dx: number, dy: number): void {\n\t\t\tdx = alToNumber(this.context, dx);\n\t\t\tdy = alToNumber(this.context, dy);\n\t\t\tlet r = toAS3Rectangle(this);\n\t\t\tr.offset(dx, dy);\n\t\t\tcopyAS3RectangleTo(r, this);\n\t\t}\n\n\t\tpublic offsetPoint(pt: AVM1Point): void {\n\t\t\tlet r = toAS3Rectangle(this), p = toAS3Point(pt);\n\t\t\tr.offsetPoint(p);\n\t\t\tcopyAS3RectangleTo(r, this);\n\t\t}\n\n\t\tpublic setEmpty(): void {\n\t\t\tthis.alPut('x', 0);\n\t\t\tthis.alPut('y', 0);\n\t\t\tthis.alPut('width', 0);\n\t\t\tthis.alPut('height', 0);\n\t\t}\n\n\t\tpublic _toString(): string {\n\t\t\treturn '(x=' + this.alGet('x') + ', y=' + this.alGet('y') +\n\t\t\t\t', w=' + this.alGet('width') + ', h=' + this.alGet('height') + ')';\n\t\t}\n\n\t\tpublic union(toUnion: AVM1Rectangle): AVM1Rectangle {\n\t\t\tlet r = toAS3Rectangle(this), other = toAS3Rectangle(toUnion);\n\t\t\treturn AVM1Rectangle.fromAS3Rectangle(this.context, r.union(other));\n\t\t}\n\t}\n}","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='../references.ts' />\n\nmodule Shumway.AVM1.Lib {\n\timport flash = Shumway.AVMX.AS.flash;\n\n\texport class AVM1Transform extends AVM1Object {\n\t\tstatic createAVM1Class(context: AVM1Context): AVM1Object {\n\t\t\treturn wrapAVM1NativeClass(context, true, AVM1Transform,\n\t\t\t\t[],\n\t\t\t\t['matrix#', 'concatenatedMatrix#', 'colorTransform#', 'pixelBounds#'],\n\t\t\t\tnull, AVM1Transform.prototype.avm1Constructor);\n\t\t}\n\n\t\tprivate _target: IAVM1SymbolBase;\n\t\tprivate _targetAS3Object: flash.display.DisplayObject;\n\n\t\tget as3Transform(): flash.geom.Transform {\n\t\t\treturn this._targetAS3Object.transform;\n\t\t}\n\n\t\tpublic avm1Constructor(target_mc: any) {\n\t\t\tthis._target = this.context.resolveTarget(target_mc);\n\t\t\tthis._targetAS3Object = <flash.display.InteractiveObject>getAS3Object(this._target);\n\t\t}\n\n\t\tpublic getMatrix(): AVM1Object {\n\t\t\tlet transform = this._targetAS3Object.transform;\n\t\t\treturn AVM1Matrix.fromAS3Matrix(this.context, transform.matrix);\n\t\t}\n\n\t\tpublic setMatrix(value: AVM1Matrix) {\n\t\t\tlet transform = this._targetAS3Object.transform;\n\t\t\ttransform.matrix = toAS3Matrix(value);\n\t\t}\n\n\t\tpublic getConcatenatedMatrix(): AVM1Matrix {\n\t\t\tlet transform = this._targetAS3Object.transform;\n\t\t\treturn AVM1Matrix.fromAS3Matrix(this.context, transform.concatenatedMatrix);\n\t\t}\n\n\t\tpublic getColorTransform(): AVM1ColorTransform {\n\t\t\tlet transform = this._targetAS3Object.transform;\n\t\t\treturn AVM1ColorTransform.fromAS3ColorTransform(this.context, transform.colorTransform);\n\t\t}\n\n\t\tpublic setColorTransform(value: AVM1ColorTransform) {\n\t\t\tlet transform = this._targetAS3Object.transform;\n\t\t\ttransform.colorTransform = toAS3ColorTransform(value);\n\t\t}\n\n\t\tpublic getPixelBounds(): AVM1Rectangle {\n\t\t\tlet transform = this._targetAS3Object.transform;\n\t\t\treturn AVM1Rectangle.fromAS3Rectangle(this.context, transform.pixelBounds);\n\t\t}\n\t}\n}\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='../references.ts' />\n\nmodule Shumway.AVM1.Lib {\n\timport flash = Shumway.AVMX.AS.flash;\n\n\texport class AVM1TextFormat extends AVM1Object implements IHasAS3ObjectReference {\n\t\tstatic createAVM1Class(context: AVM1Context): AVM1Object {\n\t\t\tlet members = ['align#', 'blockIndent#', 'bold#', 'bullet#', 'color#', 'font#',\n\t\t\t\t'getTextExtent', 'indent#', 'italic#', 'kerning#', 'leading#',\n\t\t\t\t'leftMargin#', 'letterSpacing#', 'rightMargin#', 'size#', 'tabStops#',\n\t\t\t\t'target#', 'underline#', 'url#'];\n\t\t\tlet wrapped = wrapAVM1NativeClass(context, true, AVM1TextFormat,\n\t\t\t\t[],\n\t\t\t\tmembers,\n\t\t\t\tnull, AVM1TextFormat.prototype.avm1Constructor);\n\t\t\tlet proto = wrapped.alGetPrototypeProperty();\n\t\t\tmembers.forEach((x) => {\n\t\t\t\tif (x[x.length - 1] === '#') {\n\t\t\t\t\tx = x.slice(0, -1);\n\t\t\t\t}\n\t\t\t\tlet p = proto.alGetOwnProperty(x);\n\t\t\t\tp.flags &= ~AVM1PropertyFlags.DONT_ENUM;\n\t\t\t\tproto.alSetOwnProperty(x, p);\n\t\t\t});\n\t\t\treturn wrapped;\n\t\t}\n\n\t\tstatic createFromNative(context: AVM1Context, as3Object: flash.text.TextFormat): AVM1Object {\n\t\t\tlet TextFormat = context.globals.TextFormat;\n\t\t\tlet obj = new AVM1TextFormat(context);\n\t\t\tobj.alPrototype = TextFormat.alGetPrototypeProperty();\n\t\t\t(<AVM1TextFormat>obj)._as3Object = as3Object;\n\t\t\treturn obj;\n\t\t}\n\n\t\t_as3Object: any; // TODO flash.text.TextFormat;\n\n\t\tpublic avm1Constructor(font?: string, size?: number, color?: number, bold?: boolean,\n\t\t                       italic?: boolean, underline?: boolean, url?: string, target?: string,\n\t\t                       align?: string, leftMargin?: number, rightMargin?: number,\n\t\t                       indent?: number, leading?: number) {\n\t\t\tlet context = this.context;\n\t\t\tfont = isNullOrUndefined(font) ? null : alToString(context, font);\n\t\t\tsize = isNullOrUndefined(size) ? null : alToNumber(context, size);\n\t\t\tcolor = isNullOrUndefined(color) ? null : alToNumber(context, color);\n\t\t\tbold = isNullOrUndefined(bold) ? null : alToBoolean(context, bold);\n\t\t\titalic = isNullOrUndefined(italic) ? null : alToBoolean(context, italic);\n\t\t\tunderline = isNullOrUndefined(underline) ? null : alToBoolean(context, underline);\n\t\t\turl = isNullOrUndefined(url) ? null : alToString(context, url);\n\t\t\ttarget = isNullOrUndefined(target) ? null : alToString(context, target);\n\t\t\talign = isNullOrUndefined(align) ? null : alToString(context, align);\n\t\t\tleftMargin = isNullOrUndefined(leftMargin) ? null : alToNumber(context, leftMargin);\n\t\t\trightMargin = isNullOrUndefined(rightMargin) ? null : alToNumber(context, rightMargin);\n\t\t\tindent = isNullOrUndefined(indent) ? null : alToNumber(context, indent);\n\t\t\tleading = isNullOrUndefined(leading) ? null : alToNumber(context, leading);\n\t\t\tlet as3Object = new this.context.sec.flash.text.TextFormat(\n\t\t\t\tfont, size, color, bold, italic, underline, url, target,\n\t\t\t\talign, leftMargin, rightMargin, indent, leading);\n\t\t\tthis._as3Object = as3Object;\n\t\t}\n\n\t\tprivate static _measureTextField: flash.text.TextField; // REDUX security domain\n\n\t\tstatic alInitStatic(context: AVM1Context): void {\n\t\t\t// See _measureTextField usage in the getTextExtent() below.\n\t\t\tlet measureTextField = new context.sec.flash.text.TextField();\n\t\t\tmeasureTextField.multiline = true;\n\t\t\tthis._measureTextField = measureTextField;\n\t\t}\n\n\t\tpublic getAlign(): string {\n\t\t\treturn this._as3Object.align;\n\t\t}\n\n\t\tpublic setAlign(value: string): void {\n\t\t\tthis._as3Object.align = alToString(this.context, value);\n\t\t}\n\n\t\tpublic getBlockIndent(): any {\n\t\t\treturn this._as3Object.blockIndent;\n\t\t}\n\n\t\tpublic setBlockIndent(value: any): void {\n\t\t\tthis._as3Object.blockIndent = alToNumber(this.context, value);\n\t\t}\n\n\t\tpublic getBold(): any {\n\t\t\treturn this._as3Object.bold;\n\t\t}\n\n\t\tpublic setBold(value: any): void {\n\t\t\tthis._as3Object.bold = alToBoolean(this.context, value);\n\t\t}\n\n\t\tpublic getBullet(): any {\n\t\t\treturn this._as3Object.bullet;\n\t\t}\n\n\t\tpublic setBullet(value: any): void {\n\t\t\tthis._as3Object.bullet = alToBoolean(this.context, value);\n\t\t}\n\n\t\tpublic getColor(): any {\n\t\t\treturn this._as3Object.color;\n\t\t}\n\n\t\tpublic setColor(value: any): void {\n\t\t\tthis._as3Object.color = alToNumber(this.context, value);\n\t\t}\n\n\t\tpublic getFont(): string {\n\t\t\treturn this._as3Object.font;\n\t\t}\n\n\t\tpublic setFont(value: string): void {\n\t\t\tthis._as3Object.font = alToString(this.context, value);\n\t\t}\n\n\t\tpublic getIndent(): any {\n\t\t\treturn this._as3Object.indent;\n\t\t}\n\n\t\tpublic setIndent(value: any): void {\n\t\t\tthis._as3Object.indent = alToNumber(this.context, value);\n\t\t}\n\n\t\tpublic getItalic(): any {\n\t\t\treturn this._as3Object.italic;\n\t\t}\n\n\t\tpublic setItalic(value: any): void {\n\t\t\tthis._as3Object.italic = alToBoolean(this.context, value);\n\t\t}\n\n\t\tpublic getKerning(): any {\n\t\t\treturn this._as3Object.kerning;\n\t\t}\n\n\t\tpublic setKerning(value: any): void {\n\t\t\tthis._as3Object.kerning = alToBoolean(this.context, value);\n\t\t}\n\n\t\tpublic getLeading(): any {\n\t\t\treturn this._as3Object.leading;\n\t\t}\n\n\t\tpublic setLeading(value: any): void {\n\t\t\tthis._as3Object.leading = alToNumber(this.context, value);\n\t\t}\n\n\t\tpublic getLeftMargin(): any {\n\t\t\treturn this._as3Object.leftMargin;\n\t\t}\n\n\t\tpublic setLeftMargin(value: any): void {\n\t\t\tthis._as3Object.leftMargin = alToNumber(this.context, value);\n\t\t}\n\n\t\tpublic getLetterSpacing(): any {\n\t\t\treturn this._as3Object.letterSpacing;\n\t\t}\n\n\t\tpublic setLetterSpacing(value: any): void {\n\t\t\tthis._as3Object.letterSpacing = alToNumber(this.context, value);\n\t\t}\n\n\t\tpublic getRightMargin(): any {\n\t\t\treturn this._as3Object.rightMargin;\n\t\t}\n\n\t\tpublic setRightMargin(value: any): void {\n\t\t\tthis._as3Object.rightMargin = alToNumber(this.context, value);\n\t\t}\n\n\t\tpublic getSize(): any {\n\t\t\treturn this._as3Object.size;\n\t\t}\n\n\t\tpublic setSize(value: any): void {\n\t\t\tthis._as3Object.size = alToNumber(this.context, value);\n\t\t}\n\n\t\tpublic getTabStops(): any {\n\t\t\tlet tabStops = this._as3Object.tabStops;\n\t\t\treturn tabStops ? tabStops.value : null;\n\t\t}\n\n\t\tpublic setTabStops(value: any): void {\n\t\t\tif (!(value instanceof Natives.AVM1ArrayNative) &&\n\t\t\t\t!isNullOrUndefined(value)) {\n\t\t\t\treturn; // TODO\n\t\t\t}\n\t\t\tlet tabStops = value && this.context.sec.createArray(value);\n\t\t\tthis._as3Object.tabStops = tabStops;\n\t\t}\n\n\t\tpublic getTarget(): string {\n\t\t\treturn this._as3Object.target;\n\t\t}\n\n\t\tpublic setTarget(value: string): void {\n\t\t\tthis._as3Object.target = alToString(this.context, value);\n\t\t}\n\n\t\tpublic getTextExtent(text: string, width?: number) {\n\t\t\ttext = alCoerceString(this.context, text);\n\t\t\twidth = +width;\n\n\t\t\tlet staticState: typeof AVM1TextFormat = this.context.getStaticState(AVM1TextFormat);\n\t\t\tlet measureTextField = staticState._measureTextField;\n\t\t\tif (!isNaN(width) && width > 0) {\n\t\t\t\tmeasureTextField.width = width + 4;\n\t\t\t\tmeasureTextField.wordWrap = true;\n\t\t\t} else {\n\t\t\t\tmeasureTextField.wordWrap = false;\n\t\t\t}\n\t\t\tmeasureTextField.defaultTextFormat = this._as3Object;\n\t\t\tmeasureTextField.text = text;\n\t\t\tlet result: AVM1Object = alNewObject(this.context);\n\t\t\tlet textWidth = measureTextField.textWidth;\n\t\t\tlet textHeight = measureTextField.textHeight;\n\t\t\tresult.alPut('width', textWidth);\n\t\t\tresult.alPut('height', textHeight);\n\t\t\tresult.alPut('textFieldWidth', textWidth + 4);\n\t\t\tresult.alPut('textFieldHeight', textHeight + 4);\n\t\t\tlet metrics = measureTextField.getLineMetrics(0);\n\t\t\tresult.alPut('ascent',\n\t\t\t\tmetrics.axGetPublicProperty('ascent'));\n\t\t\tresult.alPut('descent',\n\t\t\t\tmetrics.axGetPublicProperty('descent'));\n\t\t\treturn result;\n\t\t}\n\n\t\tpublic getUnderline(): any {\n\t\t\treturn this._as3Object.underline;\n\t\t}\n\n\t\tpublic setUnderline(value: any): void {\n\t\t\tthis._as3Object.underline = alToBoolean(this.context, value);\n\t\t}\n\n\t\tpublic getUrl(): string {\n\t\t\treturn this._as3Object.url;\n\t\t}\n\n\t\tpublic setUrl(value: string): void {\n\t\t\tthis._as3Object.url = alToString(this.context, value);\n\t\t}\n\t}\n}\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='../references.ts' />\n\nmodule Shumway.AVM1.Lib {\n\timport flash = Shumway.AVMX.AS.flash;\n\n\texport function toAS3BitmapData(as2Object: AVM1BitmapData): flash.display.BitmapData {\n\t\tif (!(as2Object instanceof AVM1BitmapData)) {\n\t\t\treturn null;\n\t\t}\n\t\treturn as2Object.as3BitmapData;\n\t}\n\n\texport class AVM1BitmapData extends AVM1Object implements IHasAS3ObjectReference {\n\t\tstatic createAVM1Class(context: AVM1Context): AVM1Object {\n\t\t\treturn wrapAVM1NativeClass(context, true, AVM1BitmapData,\n\t\t\t\t['loadBitmap'],\n\t\t\t\t['height#', 'rectangle#', 'transparent#', 'width#',\n\t\t\t\t\t'applyFilter', 'clone', 'colorTransform', 'compare', 'copyChannel',\n\t\t\t\t\t'copyPixels', 'dispose', 'draw', 'fillRect', 'floodFill',\n\t\t\t\t\t'generateFilterRect', 'getColorBoundsRect', 'getPixel', 'getPixel32',\n\t\t\t\t\t'hitTest', 'merge', 'noise', 'paletteMap', 'perlinNoise',\n\t\t\t\t\t'pixelDissolve', 'scroll', 'setPixel', 'setPixel32', 'threshold'\n\t\t\t\t],\n\t\t\t\tnull, AVM1BitmapData.prototype.avm1Constructor);\n\t\t}\n\n\t\t_as3Object: flash.display.BitmapData;\n\n\t\tget as3BitmapData(): flash.display.BitmapData {\n\t\t\treturn this._as3Object;\n\t\t}\n\n\t\tpublic avm1Constructor(width: number, height: number, transparent?: boolean, fillColor?: number) {\n\t\t\twidth = alToNumber(this.context, width);\n\t\t\theight = alToNumber(this.context, height);\n\t\t\ttransparent = arguments.length < 3 ? true : alToBoolean(this.context, transparent);\n\t\t\tfillColor = arguments.length < 4 ? 0xFFFFFFFF : alToInt32(this.context, fillColor);\n\t\t\tlet as3Object = new this.context.sec.flash.display.BitmapData(width, height, transparent, fillColor);\n\t\t\tthis._as3Object = as3Object;\n\t\t}\n\n\t\tstatic fromAS3BitmapData(context: AVM1Context, as3Object: flash.display.BitmapData): AVM1Object {\n\t\t\tlet as2Object = new AVM1BitmapData(context);\n\t\t\tas2Object.alPrototype = context.globals.BitmapData.alGetPrototypeProperty();\n\t\t\tas2Object._as3Object = as3Object;\n\t\t\treturn as2Object;\n\t\t}\n\n\t\tstatic loadBitmap(context: AVM1Context, symbolId: string): AVM1BitmapData {\n\t\t\tsymbolId = alToString(context, symbolId);\n\t\t\tlet symbol = context.getAsset(symbolId);\n\t\t\t// REDUX verify\n\t\t\tlet symbolClass = symbol.symbolProps.symbolClass;\n\t\t\tlet bitmapClass = context.sec.flash.display.BitmapData.axClass;\n\t\t\tif (symbol && (bitmapClass === symbolClass ||\n\t\t\t\t\tbitmapClass.dPrototype.isPrototypeOf((<any>symbolClass).dPrototype))) {\n\t\t\t\tlet as3Object = Shumway.AVMX.AS.constructClassFromSymbol(symbol.symbolProps, bitmapClass) as any;\n\t\t\t\tlet bitmap = new AVM1BitmapData(context);\n\t\t\t\tbitmap.alPrototype = context.globals.BitmapData.alGetPrototypeProperty();\n\t\t\t\tbitmap._as3Object = as3Object;\n\t\t\t\treturn bitmap;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tpublic getHeight(): number {\n\t\t\treturn this._as3Object.height;\n\t\t}\n\n\t\tpublic getRectangle(): AVM1Object {\n\t\t\tlet rect = this.as3BitmapData;\n\t\t\treturn new AVM1Rectangle(this.context, 0, 0, rect.width, rect.height);\n\t\t}\n\n\t\tpublic getTransparent(): boolean {\n\t\t\treturn this._as3Object.transparent;\n\t\t}\n\n\t\tpublic getWidth(): number {\n\t\t\treturn this._as3Object.width;\n\t\t}\n\n\t\tpublic applyFilter(sourceBitmap: AVM1BitmapData, sourceRect: AVM1Object, destPoint: AVM1Object, filter: AVM1Object): number {\n\t\t\t// TODO handle incorrect arguments\n\t\t\tlet as3BitmapData = sourceBitmap.as3BitmapData;\n\t\t\tlet as3SourceRect = toAS3Rectangle(sourceRect);\n\t\t\tlet as3DestPoint = toAS3Point(destPoint);\n\t\t\tlet as3Filter = convertToAS3Filter(this.context, filter);\n\n\t\t\tthis.as3BitmapData.applyFilter(as3BitmapData, as3SourceRect, as3DestPoint, as3Filter);\n\t\t\treturn 0;\n\t\t}\n\n\t\tpublic clone(): AVM1BitmapData {\n\t\t\tlet bitmap = new AVM1BitmapData(this.context);\n\t\t\tbitmap.alPrototype = this.context.globals.BitmapData.alGetPrototypeProperty();\n\t\t\tbitmap._as3Object = this._as3Object.clone() as any;\n\t\t\treturn bitmap;\n\t\t}\n\n\t\tpublic colorTransform(rect: AVM1Object, colorTransform: AVM1Object): void {\n\t\t\tlet as3Rect = toAS3Rectangle(rect);\n\t\t\tlet as3ColorTransform = toAS3ColorTransform(colorTransform);\n\t\t\tthis._as3Object.colorTransform(as3Rect, as3ColorTransform);\n\t\t}\n\n\t\tpublic compare(other: AVM1BitmapData): boolean {\n\t\t\tif (!(other instanceof AVM1BitmapData)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn this._as3Object.compare((<AVM1BitmapData>other)._as3Object);\n\t\t}\n\n\t\tpublic copyChannel(sourceBitmap: AVM1BitmapData, sourceRect: AVM1Object, destPoint: AVM1Object,\n\t\t                   sourceChannel: number, destChannel: number): void {\n\t\t\tlet as3BitmapData = sourceBitmap.as3BitmapData;\n\t\t\tlet as3SourceRect = toAS3Rectangle(sourceRect);\n\t\t\tlet as3DestPoint = toAS3Point(destPoint);\n\t\t\tsourceChannel = alCoerceNumber(this.context, sourceChannel);\n\t\t\tdestChannel = alCoerceNumber(this.context, destChannel);\n\t\t\tthis.as3BitmapData.copyChannel(as3BitmapData, as3SourceRect, as3DestPoint, sourceChannel,\n\t\t\t\tdestChannel);\n\t\t}\n\n\t\tpublic copyPixels(sourceBitmap: AVM1BitmapData, sourceRect: AVM1Object, destPoint: AVM1Object,\n\t\t                  alphaBitmap?: AVM1BitmapData, alphaPoint?: AVM1Object,\n\t\t                  mergeAlpha?: boolean): void {\n\t\t\tlet as3BitmapData = sourceBitmap.as3BitmapData;\n\t\t\tlet as3SourceRect = toAS3Rectangle(sourceRect);\n\t\t\tlet as3DestPoint = toAS3Point(destPoint);\n\t\t\tlet as3AlphaData = alphaBitmap ? alphaBitmap.as3BitmapData : null;\n\t\t\tlet as3AlphaPoint = alphaPoint ? toAS3Point(alphaPoint) : null;\n\t\t\tmergeAlpha = alToBoolean(this.context, mergeAlpha);\n\n\t\t\tthis.as3BitmapData.copyPixels(as3BitmapData, as3SourceRect, as3DestPoint, as3AlphaData,\n\t\t\t\tas3AlphaPoint, mergeAlpha);\n\t\t}\n\n\t\tdispose(): void {\n\t\t\tthis.as3BitmapData.dispose();\n\t\t}\n\n\t\tdraw(source: AVM1Object, matrix?: AVM1Object, colorTransform?: AVM1Object, blendMode?: any,\n\t\t     clipRect?: AVM1Object, smooth?: boolean): void {\n\t\t\tlet as3BitmapData = (<any>source)._as3Object; // movies and bitmaps\n\t\t\tlet as3Matrix = matrix ? toAS3Matrix(matrix) : null;\n\t\t\tlet as3ColorTransform = colorTransform ? toAS3ColorTransform(colorTransform) : null;\n\t\t\tlet as3ClipRect = clipRect ? toAS3Rectangle(clipRect) : null;\n\t\t\tblendMode = typeof blendMode === 'number' ? BlendModesMap[blendMode] : alCoerceString(this.context, blendMode);\n\t\t\tblendMode = blendMode || null;\n\t\t\tsmooth = alToBoolean(this.context, smooth);\n\n\t\t\tthis.as3BitmapData.draw(as3BitmapData, as3Matrix, as3ColorTransform, blendMode, as3ClipRect, smooth);\n\t\t}\n\n\t\tfillRect(rect: AVM1Object, color: number): void {\n\t\t\tlet as3Rect = toAS3Rectangle(rect);\n\t\t\tcolor = alToInt32(this.context, color);\n\n\t\t\tthis.as3BitmapData.fillRect(as3Rect, color);\n\t\t}\n\n\t\tfloodFill(x: number, y: number, color: number): void {\n\t\t\tx = alCoerceNumber(this.context, x);\n\t\t\ty = alCoerceNumber(this.context, y);\n\t\t\tcolor = alToInt32(this.context, color);\n\t\t\tthis._as3Object.floodFill(x, y, color);\n\t\t}\n\n\t\tgenerateFilterRect(sourceRect: AVM1Object, filter: AVM1Object): AVM1Object {\n\t\t\tDebug.notImplemented('AVM1BitmapData.generateFilterRect');\n\t\t\treturn undefined;\n\t\t}\n\n\t\tgetColorBoundsRect(mask: number, color: number, findColor?: boolean): AVM1Object {\n\t\t\tmask = alToInt32(this.context, mask);\n\t\t\tcolor = alToInt32(this.context, color);\n\t\t\tfindColor = alToBoolean(this.context, findColor);\n\t\t\tlet rect = this._as3Object.getColorBoundsRect(mask, color, findColor);\n\t\t\treturn new AVM1Rectangle(this.context, rect.x, rect.y, rect.width, rect.height);\n\t\t}\n\n\t\tgetPixel(x: number, y: number): number {\n\t\t\treturn this._as3Object.getPixel(x, y);\n\t\t}\n\n\t\tgetPixel32(x: number, y: number): number {\n\t\t\treturn this._as3Object.getPixel32(x, y);\n\t\t}\n\n\t\thitTest(firstPoint: AVM1Object, firstAlphaThreshold: number, secondObject: AVM1Object,\n\t\t        secondBitmapPoint?: AVM1Object, secondAlphaThreshold?: number): boolean {\n\t\t\tDebug.somewhatImplemented('AVM1BitmapData.hitTest');\n\t\t\tlet as3FirstPoint = toAS3Point(firstPoint);\n\t\t\tfirstAlphaThreshold = alToInt32(this.context, firstAlphaThreshold);\n\t\t\t// TODO: Check for Rectangle, Point, Bitmap, or BitmapData here. Or whatever AVM1 allows.\n\t\t\tlet as3SecondObject = (<any>secondObject)._as3Object; // movies and bitmaps\n\t\t\tif (arguments.length < 4) {\n\t\t\t\treturn this._as3Object.hitTest(as3FirstPoint, firstAlphaThreshold, as3SecondObject);\n\t\t\t}\n\t\t\tlet as3SecondBitmapPoint = secondBitmapPoint != null ? toAS3Point(secondBitmapPoint) : null;\n\t\t\tif (arguments.length < 4) {\n\t\t\t\treturn this._as3Object.hitTest(as3FirstPoint, firstAlphaThreshold, as3SecondObject,\n\t\t\t\t\tas3SecondBitmapPoint);\n\t\t\t}\n\t\t\tsecondAlphaThreshold = alToInt32(this.context, secondAlphaThreshold);\n\t\t\treturn this._as3Object.hitTest(as3FirstPoint, firstAlphaThreshold, as3SecondObject,\n\t\t\t\tas3SecondBitmapPoint, secondAlphaThreshold);\n\t\t}\n\n\t\tmerge(sourceBitmap: AVM1BitmapData, sourceRect: AVM1Object, destPoint: AVM1Object,\n\t\t      redMult: number, greenMult: number, blueMult: number, alphaMult: number): void {\n\t\t\tlet as3BitmapData = sourceBitmap.as3BitmapData;\n\t\t\tlet as3SourceRect = toAS3Rectangle(sourceRect);\n\t\t\tlet as3DestPoint = toAS3Point(destPoint);\n\t\t\tredMult = alToInt32(this.context, redMult);\n\t\t\tgreenMult = alToInt32(this.context, greenMult);\n\t\t\tblueMult = alToInt32(this.context, blueMult);\n\t\t\talphaMult = alToInt32(this.context, alphaMult);\n\n\t\t\tthis.as3BitmapData.merge(as3BitmapData, as3SourceRect, as3DestPoint, redMult, greenMult,\n\t\t\t\tblueMult, alphaMult);\n\t\t}\n\n\t\tnoise(randomSeed: number, low?: number, high?: number, channelOptions?: number,\n\t\t      grayScale?: boolean): void {\n\t\t\trandomSeed = alToInt32(this.context, randomSeed);\n\t\t\tlow = arguments.length < 2 ? 0 : alToInt32(this.context, low);\n\t\t\thigh = arguments.length < 3 ? 255 : alToInt32(this.context, high);\n\t\t\tchannelOptions = arguments.length < 4 ? 1 | 2 | 4 : alToInt32(this.context, channelOptions);\n\t\t\tgrayScale = arguments.length < 5 ? false : alToBoolean(this.context, grayScale);\n\t\t\tthis._as3Object.noise(randomSeed, low, high, channelOptions, grayScale);\n\t\t}\n\n\t\tpaletteMap(sourceBitmap: AVM1BitmapData, sourceRect: AVM1Object, destPoint: AVM1Object, redArray?: AVM1Object, greenArray?: AVM1Object, blueArray?: AVM1Object, alphaArray?: AVM1Object): void {\n\t\t\tDebug.notImplemented('AVM1BitmapData.paletteMap');\n\t\t}\n\n\t\tperlinNoise(baseX: number, baseY: number, numOctaves: number, randomSeed: number, stitch: boolean, fractalNoise: boolean, channelOptions?: number, grayScale?: boolean, offsets?: AVM1Object): void {\n\t\t\tbaseX = alCoerceNumber(this.context, baseX);\n\t\t\tbaseY = alCoerceNumber(this.context, baseY);\n\t\t\tnumOctaves = alCoerceNumber(this.context, numOctaves);\n\t\t\trandomSeed = alCoerceNumber(this.context, randomSeed);\n\t\t\tstitch = alToBoolean(this.context, stitch);\n\t\t\tfractalNoise = alToBoolean(this.context, fractalNoise);\n\t\t\tchannelOptions = channelOptions === undefined ? 7 : alCoerceNumber(this.context, channelOptions);\n\t\t\tgrayScale = alToBoolean(this.context, grayScale);\n\t\t\tlet as3Offsets = isNullOrUndefined(offsets) ? null : this.context.sec.createArray(\n\t\t\t\tNatives.AVM1ArrayNative.mapToJSArray(offsets, (item) => alCoerceNumber(this.context, item), this));\n\n\t\t\tthis.as3BitmapData.perlinNoise(baseX, baseY, numOctaves, randomSeed, stitch, fractalNoise, channelOptions, grayScale, as3Offsets);\n\t\t}\n\n\t\tpixelDissolve(sourceBitmap: AVM1BitmapData, sourceRect: AVM1Object, destPoint: AVM1Object,\n\t\t              randomSeed?: number, numberOfPixels?: number, fillColor?: number): number {\n\t\t\tlet as3BitmapData = sourceBitmap.as3BitmapData;\n\t\t\tlet as3SourceRect = toAS3Rectangle(sourceRect);\n\t\t\tlet as3DestPoint = toAS3Point(destPoint);\n\t\t\trandomSeed = arguments.length < 4 ? 0 : alToInt32(this.context, randomSeed);\n\t\t\tnumberOfPixels = arguments.length < 5 ?\n\t\t\t\tas3SourceRect.width * as3SourceRect.height / 30 :\n\t\t\t\talToInt32(this.context, numberOfPixels);\n\t\t\tfillColor = arguments.length < 6 ? 0 : alToInt32(this.context, fillColor);\n\n\t\t\treturn this.as3BitmapData.pixelDissolve(as3BitmapData, as3SourceRect, as3DestPoint,\n\t\t\t\trandomSeed, numberOfPixels, fillColor);\n\t\t}\n\n\t\tscroll(x: number, y: number): void {\n\t\t\tx = alCoerceNumber(this.context, x);\n\t\t\ty = alCoerceNumber(this.context, y);\n\t\t\tthis._as3Object.scroll(x, y);\n\t\t}\n\n\t\tsetPixel(x: number, y: number, color: number): void {\n\t\t\tx = alCoerceNumber(this.context, x);\n\t\t\ty = alCoerceNumber(this.context, y);\n\t\t\tcolor = alToInt32(this.context, color);\n\t\t\tthis._as3Object.setPixel(x, y, color);\n\t\t}\n\n\t\tsetPixel32(x: number, y: number, color: number): void {\n\t\t\tx = alCoerceNumber(this.context, x);\n\t\t\ty = alCoerceNumber(this.context, y);\n\t\t\tcolor = alToInt32(this.context, color);\n\t\t\tthis._as3Object.setPixel32(x, y, color);\n\t\t}\n\n\t\tthreshold(sourceBitmap: AVM1BitmapData, sourceRect: AVM1Object, destPoint: AVM1Object,\n\t\t          operation: string, threshold: number, color?: number, mask?: number,\n\t\t          copySource?: boolean): number {\n\t\t\tlet as3BitmapData = sourceBitmap.as3BitmapData;\n\t\t\tlet as3SourceRect = toAS3Rectangle(sourceRect);\n\t\t\tlet as3DestPoint = toAS3Point(destPoint);\n\t\t\toperation = alCoerceString(this.context, operation);\n\t\t\tthreshold = alToInt32(this.context, threshold);\n\t\t\tcolor = arguments.length < 6 ? 0 : alToInt32(this.context, color);\n\t\t\tmask = arguments.length < 7 ? 0xFFFFFFFF : alToInt32(this.context, mask);\n\t\t\tcopySource = arguments.length < 8 ? false : alToBoolean(this.context, copySource);\n\t\t\treturn this._as3Object.threshold(as3BitmapData, as3SourceRect, as3DestPoint, operation,\n\t\t\t\tthreshold, color, mask, copySource);\n\t\t}\n\t}\n}\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='../references.ts' />\n\nmodule Shumway.AVM1.Lib {\n\timport flash = Shumway.AVMX.AS.flash;\n\n\texport class AVM1ExternalInterface extends AVM1Object {\n\t\tstatic createAVM1Class(context: AVM1Context): AVM1Object {\n\t\t\treturn wrapAVM1NativeClass(context, true, AVM1ExternalInterface,\n\t\t\t\t['available#', 'addCallback', 'call'],\n\t\t\t\t[]);\n\t\t}\n\n\t\tpublic static getAvailable(context: AVM1Context): boolean {\n\t\t\treturn context.sec.flash.external.ExternalInterface.axClass.available;\n\t\t}\n\n\t\tpublic static addCallback(context: AVM1Context, methodName: string, instance: any, method: AVM1Function): boolean {\n\t\t\tmethodName = alCoerceString(context, methodName);\n\t\t\tif (!alIsFunction(method)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tcontext.sec.flash.external.ExternalInterface.axClass.addCallback(methodName, function () {\n\t\t\t\t\tlet args = Array.prototype.slice.call(arguments, 0);\n\t\t\t\t\tlet result = context.executeFunction(method, instance, args);\n\t\t\t\t\treturn result;\n\t\t\t\t});\n\t\t\t\treturn true;\n\t\t\t} catch (e) {\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tpublic static call(context: AVM1Context, methodName: string, ...parameters: any[]): any {\n\t\t\tlet args = [alCoerceString(context, methodName)];\n\t\t\tfor (let i = 0; i < parameters.length; i++) {\n\t\t\t\t// TODO convert AVM1 objects to AVM2\n\t\t\t\targs.push(parameters[i]);\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tlet result = context.sec.flash.external.ExternalInterface.axClass.call.apply(\n\t\t\t\t\tcontext.sec.flash.external.ExternalInterface.axClass, args);\n\t\t\t\t// TODO convert AVM2 result to AVM1\n\t\t\t\treturn result;\n\t\t\t} catch (e) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}\n\t}\n}\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='../references.ts' />\n\nmodule Shumway.AVM1.Lib {\n\timport flash = Shumway.AVMX.AS.flash;\n\timport ASObject = Shumway.AVMX.AS.ASObject;\n\n\texport class AVM1Sound extends AVM1Object {\n\t\tstatic createAVM1Class(context: AVM1Context): AVM1Object {\n\t\t\treturn wrapAVM1NativeClass(context, true, AVM1Sound,\n\t\t\t\t[],\n\t\t\t\t['attachSound', 'duration#', 'getBytesLoaded', 'getBytesTotal',\n\t\t\t\t\t'getPan', 'setPan', 'getTransform', 'setTransform', 'getVolume', 'setVolume',\n\t\t\t\t\t'start', 'stop'],\n\t\t\t\tnull, AVM1Sound.prototype.avm1Constructor);\n\t\t}\n\n\t\tprivate _target: IAVM1SymbolBase;\n\t\tprivate _sound: flash.media.Sound;\n\t\tprivate _channel: flash.media.SoundChannel;\n\t\tprivate _linkageID: string;\n\n\t\tpublic avm1Constructor(target_mc: any) {\n\t\t\tthis._target = this.context.resolveTarget(target_mc);\n\t\t\tthis._sound = null;\n\t\t\tthis._channel = null;\n\t\t\tthis._linkageID = null;\n\t\t}\n\n\t\tpublic attachSound(id: string): void {\n\t\t\tlet symbol = (<any>this).context.getAsset(id);\n\t\t\tif (!symbol) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet props: flash.media.SoundSymbol = Object.create(symbol.symbolProps);\n\t\t\tlet sound: flash.media.Sound = Shumway.AVMX.AS.constructClassFromSymbol(props, this.context.sec.flash.media.Sound.axClass) as any;\n\t\t\tthis._linkageID = id;\n\t\t\tthis._sound = sound;\n\t\t}\n\n\t\tpublic loadSound(url: string, isStreaming: boolean): void {\n\t\t}\n\n\t\tpublic getBytesLoaded(): number {\n\t\t\treturn 0;\n\t\t}\n\n\t\tpublic getBytesTotal(): number {\n\t\t\treturn 0;\n\t\t}\n\n\t\tpublic getDuration(): number {\n\t\t\treturn 0;\n\t\t}\n\n\t\tpublic getPan(): number {\n\t\t\tlet transform: ASObject = this._channel && this._channel.soundTransform;\n\t\t\treturn transform ? transform.axGetPublicProperty('pan') * 100 : 0;\n\t\t}\n\n\t\tpublic setPan(value: number): void {\n\t\t\tlet transform: ASObject = this._channel && this._channel.soundTransform;\n\t\t\tif (transform) {\n\t\t\t\ttransform.axSetPublicProperty('pan', value / 100);\n\t\t\t\tthis._channel.soundTransform = transform;\n\t\t\t}\n\t\t}\n\n\t\tpublic getTransform(): any {\n\t\t\treturn null;\n\t\t}\n\n\t\tpublic setTransform(transformObject: any): void {\n\t\t}\n\n\t\tpublic getVolume(): number {\n\t\t\tlet transform: ASObject = this._channel && this._channel.soundTransform;\n\t\t\treturn transform ? transform.axGetPublicProperty('volume') * 100 : 0;\n\t\t}\n\n\t\tpublic setVolume(value: number): void {\n\t\t\tlet transform: ASObject = this._channel && this._channel.soundTransform;\n\t\t\tif (transform) {\n\t\t\t\ttransform.axSetPublicProperty('volume', value / 100);\n\t\t\t\tthis._channel.soundTransform = transform;\n\t\t\t}\n\t\t}\n\n\t\tpublic start(secondOffset?: number, loops?: number): void {\n\t\t\tif (!this._sound) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsecondOffset = isNaN(secondOffset) || secondOffset < 0 ? 0 : +secondOffset;\n\t\t\tloops = isNaN(loops) || loops < 1 ? 1 : Math.floor(loops);\n\n\t\t\tthis._stopSoundChannel();\n\t\t\tthis._channel = this._sound.play(secondOffset, loops - 1);\n\t\t}\n\n\t\tprivate _stopSoundChannel(): void {\n\t\t\tif (!this._channel) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._channel.stop();\n\t\t\tthis._channel = null;\n\t\t}\n\n\t\tpublic stop(linkageID?: string): void {\n\t\t\tif (!linkageID || linkageID === this._linkageID) {\n\t\t\t\tthis._stopSoundChannel();\n\t\t\t}\n\t\t}\n\t}\n}\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='../references.ts' />\n\nmodule Shumway.AVM1.Lib {\n\timport flash = Shumway.AVMX.AS.flash;\n\n\tlet capabilitiesProperties = [\n\t\t'avHardwareDisable', 'hasAccessibility', 'hasAudio', 'hasAudioEncoder',\n\t\t'hasEmbeddedVideo', 'hasIME', 'hasMP3', 'hasPrinting', 'hasScreenBroadcast',\n\t\t'hasScreenPlayback', 'hasStreamingAudio', 'hasStreamingVideo',\n\t\t'hasVideoEncoder', 'isDebugger', 'language', 'localFileReadDisable',\n\t\t'manufacturer', 'os', 'pixelAspectRatio', 'playerType', 'screenColor',\n\t\t'screenDPI', 'screenResolutionX', 'screenResolutionY', 'serverString',\n\t\t'version'\n\t];\n\n\tclass AVM1Capabilities extends AVM1Object {\n\t\tconstructor(context: AVM1Context) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Object.alGetPrototypeProperty();\n\t\t\tlet as3Capabilities = context.sec.flash.system.Capabilities.axClass;\n\t\t\tcapabilitiesProperties.forEach((name) => {\n\t\t\t\tlet getter = {\n\t\t\t\t\talCall: function () {\n\t\t\t\t\t\treturn as3Capabilities.axGetPublicProperty(name);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tlet desc = new AVM1PropertyDescriptor(AVM1PropertyFlags.ACCESSOR |\n\t\t\t\t\tAVM1PropertyFlags.DONT_DELETE |\n\t\t\t\t\tAVM1PropertyFlags.DONT_ENUM,\n\t\t\t\t\tnull, getter);\n\t\t\t\tthis.alSetOwnProperty(name, desc);\n\t\t\t}, this);\n\t\t}\n\t}\n\n\tclass AVM1Security extends AVM1Object {\n\t\tconstructor(context: AVM1Context) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Object.alGetPrototypeProperty();\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tsandboxType: {\n\t\t\t\t\tget: this.getSandboxType\n\t\t\t\t},\n\t\t\t\tallowDomain: {\n\t\t\t\t\tvalue: this.allowDomain\n\t\t\t\t},\n\t\t\t\tallowInsecureDomain: {\n\t\t\t\t\tvalue: this.allowInsecureDomain\n\t\t\t\t},\n\t\t\t\tloadPolicyFile: {\n\t\t\t\t\tvalue: this.loadPolicyFile\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tgetSandboxType(): string {\n\t\t\treturn this.context.sec.flash.system.Security.axClass.sandboxType;\n\t\t}\n\n\t\tallowDomain(domain: string): void {\n\t\t\tdomain = alCoerceString(this.context, domain);\n\t\t\tthis.context.sec.flash.system.Security.axClass.allowDomain(domain);\n\t\t}\n\n\t\tallowInsecureDomain(domain: string): void {\n\t\t\tdomain = alCoerceString(this.context, domain);\n\t\t\tthis.context.sec.flash.system.Security.axClass.allowInsecureDomain(domain);\n\t\t}\n\n\t\tloadPolicyFile(url: string): void {\n\t\t\turl = alCoerceString(this.context, url);\n\t\t\tthis.context.sec.flash.system.Security.axClass.loadPolicyFile(url);\n\t\t}\n\t}\n\n\texport class AVM1System extends AVM1Object {\n\t\tstatic _capabilities: AVM1Object;\n\t\tstatic _security: AVM1Object;\n\n\t\tstatic alInitStatic(context: AVM1Context): void {\n\t\t\tthis._capabilities = new AVM1Capabilities(context);\n\t\t\tthis._security = new AVM1Security(context);\n\t\t}\n\n\t\tstatic createAVM1Class(context: AVM1Context): AVM1Object {\n\t\t\treturn wrapAVM1NativeClass(context, false, AVM1System,\n\t\t\t\t['capabilities#', 'security#'],\n\t\t\t\t[]);\n\t\t}\n\n\t\tpublic static getCapabilities(context: AVM1Context) {\n\t\t\tlet staticState: typeof AVM1System = context.getStaticState(AVM1System);\n\t\t\treturn staticState._capabilities;\n\t\t}\n\n\t\tpublic static getSecurity(context: AVM1Context) {\n\t\t\tlet staticState: typeof AVM1System = context.getStaticState(AVM1System);\n\t\t\treturn staticState._security;\n\t\t}\n\t}\n}\n","/**\n * Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='../references.ts' />\n\nmodule Shumway.AVM1.Lib {\n\timport flash = Shumway.AVMX.AS.flash;\n\n\texport class AVM1SharedObject extends AVM1Object {\n\t\tprivate _as3SharedObject: flash.net.SharedObject;\n\n\t\tconstructor(context: AVM1Context, as3SharedObject: flash.net.SharedObject) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.globals.SharedObject.alGetPrototypeProperty();\n\t\t\tthis._as3SharedObject = as3SharedObject;\n\t\t}\n\t}\n\n\texport class AVM1SharedObjectFunction extends AVM1Function {\n\t\tconstructor(context: AVM1Context) {\n\t\t\tsuper(context);\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tprototype: {\n\t\t\t\t\tvalue: new AVM1SharedObjectPrototype(context, this)\n\t\t\t\t},\n\t\t\t\tgetLocal: {\n\t\t\t\t\tvalue: this.getLocal,\n\t\t\t\t\twritable: true\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tpublic getLocal(name: string, localPath?: string, secure?: boolean): AVM1SharedObject {\n\t\t\tname = alCoerceString(this.context, name);\n\t\t\tlocalPath = alCoerceString(this.context, localPath);\n\t\t\tsecure = alToBoolean(this.context, secure);\n\t\t\tlet as3SharedObject = this.context.sec.flash.net.SharedObject.axClass.getLocal(name, localPath, secure);\n\t\t\treturn new AVM1SharedObject(this.context, as3SharedObject);\n\t\t}\n\n\t}\n\n\texport class AVM1SharedObjectPrototype extends AVM1Object {\n\t\tconstructor(context: AVM1Context, fn: AVM1Function) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Object.alGetPrototypeProperty();\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tconstructor: {\n\t\t\t\t\tvalue: fn,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tdata: {\n\t\t\t\t\tget: this.getData\n\t\t\t\t},\n\t\t\t\tclear: {\n\t\t\t\t\tvalue: this.clear,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tflush: {\n\t\t\t\t\tvalue: this.flush,\n\t\t\t\t\twritable: true\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tprivate _as3SharedObject: flash.net.SharedObject; // mirror of AVM1SharedObject's one\n\n\t\tpublic getData(): any {\n\t\t\t// TODO implement transform from AVM2 -> AVM1 objects\n\t\t\tDebug.somewhatImplemented('AVM1SharedObject.getData');\n\t\t\tlet data = (<any>this).__data || ((<any>this).__data = alNewObject(this.context));\n\t\t\treturn data;\n\t\t}\n\n\t\tpublic clear(): void {\n\t\t\tthis._as3SharedObject.clear();\n\t\t}\n\n\t\tpublic flush(minDiskSpace?: number): any {\n\t\t\tminDiskSpace = alCoerceNumber(this.context, minDiskSpace);\n\t\t\tthis._as3SharedObject.flush(minDiskSpace);\n\t\t\tDebug.somewhatImplemented('AVM1SharedObject.flush');\n\t\t\treturn false; // can be a string 'pending' or boolean\n\t\t}\n\n\t\tpublic getSize(): number {\n\t\t\tDebug.somewhatImplemented('AVM1SharedObject.getSize');\n\t\t\treturn (<any>this).__data ? 10 : 0;\n\t\t}\n\n\t\tpublic setFps(updatesPerSecond: number): boolean {\n\t\t\tupdatesPerSecond = alCoerceNumber(this.context, updatesPerSecond) || 0;\n\t\t\tthis._as3SharedObject.fps = updatesPerSecond;\n\t\t\treturn this._as3SharedObject.fps === updatesPerSecond;\n\t\t}\n\t}\n\n\t// TODO event handlers for\n\t// onStatus(infoObject: AVM1Object)\n\t// onSync(objArray: AVM1Array)\n}\n","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='../references.ts' />\n\nmodule Shumway.AVM1.Lib {\n\timport flash = Shumway.AVMX.AS.flash;\n\n\texport class AVM1MovieClipLoader extends AVM1Object {\n\t\tstatic createAVM1Class(context: AVM1Context): AVM1Object {\n\t\t\treturn wrapAVM1NativeClass(context, true, AVM1MovieClipLoader,\n\t\t\t\t[],\n\t\t\t\t['loadClip', 'unloadClip', 'getProgress'],\n\t\t\t\tnull, AVM1MovieClipLoader.prototype.avm1Constructor);\n\t\t}\n\n\t\tprivate _loaderHelper: AVM1LoaderHelper;\n\t\tprivate _target: AVM1MovieClip;\n\n\t\tpublic avm1Constructor() {\n\t\t\tAVM1Broadcaster.initialize(this.context, this);\n\t\t}\n\n\t\tpublic loadClip(url: string, target: any): Boolean {\n\t\t\tlet loadLevel: boolean = typeof target === 'number';\n\t\t\tlet level: number;\n\t\t\tlet target_mc: AVM1MovieClip;\n\t\t\tif (loadLevel) {\n\t\t\t\tlevel = <number>target;\n\t\t\t\tif (level === 0) {\n\t\t\t\t\trelease || Debug.notImplemented('MovieClipLoader.loadClip at _level0');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttarget_mc = this.context.resolveTarget(target);\n\t\t\t\tif (!target_mc) {\n\t\t\t\t\treturn false; // target was not found -- doing nothing\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet loaderHelper = new AVM1LoaderHelper(this.context);\n\t\t\tthis._loaderHelper = loaderHelper;\n\t\t\tthis._target = null;\n\n\t\t\tlet loaderInfo = loaderHelper.loaderInfo;\n\t\t\tloaderInfo.addEventListener(flash.events.Event.OPEN, this.openHandler.bind(this));\n\t\t\tloaderInfo.addEventListener(flash.events.ProgressEvent.PROGRESS, this.progressHandler.bind(this));\n\t\t\tloaderInfo.addEventListener(flash.events.IOErrorEvent.IO_ERROR, this.ioErrorHandler.bind(this));\n\t\t\tloaderInfo.addEventListener(flash.events.Event.COMPLETE, this.completeHandler.bind(this));\n\t\t\tloaderInfo.addEventListener(flash.events.Event.INIT, this.initHandler.bind(this));\n\n\t\t\tloaderHelper.load(url, null).then(function () {\n\t\t\t\tlet newChild = loaderHelper.content;\n\t\t\t\tthis._target = getAVM1Object(newChild, this.context);\n\n\t\t\t\tif (loadLevel) {\n\t\t\t\t\tlet avm1LevelHolder = this.context.levelsContainer;\n\t\t\t\t\tavm1LevelHolder._addRoot(level, newChild);\n\t\t\t\t} else {\n\t\t\t\t\t// TODO fix newChild name to match target_mc\n\t\t\t\t\tlet parent = target_mc._as3Object.parent;\n\t\t\t\t\tlet depth = target_mc._as3Object._depth;\n\t\t\t\t\tparent.removeChild(target_mc._as3Object);\n\t\t\t\t\tparent.addTimelineObjectAtDepth(newChild, depth);\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t\treturn true;\n\t\t}\n\n\t\tpublic unloadClip(target: any): Boolean {\n\t\t\tif (!this._loaderHelper) {\n\t\t\t\treturn false; // nothing was loaded by this loader\n\t\t\t}\n\t\t\tlet loadLevel: boolean = typeof target === 'number';\n\t\t\tlet level: number;\n\t\t\tlet target_mc: AVM1MovieClip;\n\t\t\tlet originalLoader = this._loaderHelper.loader;\n\t\t\tif (loadLevel) {\n\t\t\t\tlevel = <number>target;\n\t\t\t\tif (level === 0) {\n\t\t\t\t\trelease || Debug.notImplemented('MovieClipLoader.unloadClip at _level0');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet avm1LevelHolder = this.context.levelsContainer;\n\t\t\t\tif (avm1LevelHolder._getRootForLevel(level) !== originalLoader.content) {\n\t\t\t\t\treturn false; // did not load this root\n\t\t\t\t}\n\t\t\t\tavm1LevelHolder._removeRoot(level);\n\t\t\t} else {\n\t\t\t\ttarget_mc = target ? this.context.resolveTarget(target) : undefined;\n\t\t\t\tif (!target_mc) {\n\t\t\t\t\treturn false; // target was not found -- doing nothing\n\t\t\t\t}\n\t\t\t\tif (target_mc._as3Object !== originalLoader.content) {\n\t\t\t\t\treturn false; // did not load this movie clip\n\t\t\t\t}\n\t\t\t\ttarget_mc.unloadMovie();\n\t\t\t}\n\t\t\tthis._target = null;\n\t\t\tthis._loaderHelper = null;\n\t\t\t// TODO: find out under which conditions unloading a clip can fail\n\t\t\treturn true;\n\t\t}\n\n\t\tpublic getProgress(target: any): number {\n\t\t\treturn this._loaderHelper.loaderInfo.bytesLoaded;\n\t\t}\n\n\t\tprivate _broadcastMessage(message: string, args: any[] = null) {\n\t\t\tavm1BroadcastEvent(this.context, this, message, args);\n\t\t}\n\n\t\tprivate openHandler(event: flash.events.Event): void {\n\t\t\tthis._broadcastMessage('onLoadStart', [this._target]);\n\t\t}\n\n\t\tprivate progressHandler(event: flash.events.ProgressEvent): void {\n\t\t\tthis._broadcastMessage('onLoadProgress', [this._target, event.bytesLoaded, event.bytesTotal]);\n\t\t}\n\n\t\tprivate ioErrorHandler(event: flash.events.IOErrorEvent): void {\n\t\t\tthis._broadcastMessage('onLoadError', [this._target, event.errorID, 501]);\n\t\t}\n\n\t\tprivate completeHandler(event: flash.events.Event): void {\n\t\t\tthis._broadcastMessage('onLoadComplete', [this._target]);\n\t\t}\n\n\t\tprivate initHandler(event: flash.events.Event): void {\n\t\t\tlet exitFrameCallback = function () {\n\t\t\t\ttargetAS3Object.removeEventListener(flash.events.Event.EXIT_FRAME, exitFrameCallback);\n\t\t\t\tthis._broadcastMessage('onLoadInit', [this._target]);\n\t\t\t}.bind(this);\n\t\t\t// MovieClipLoader's init event is dispatched after all frame scripts of the AVM1 instance\n\t\t\t// have run for one additional iteration.\n\t\t\tlet targetAS3Object = this._loaderHelper.content;\n\t\t\ttargetAS3Object.addEventListener(flash.events.Event.EXIT_FRAME, exitFrameCallback)\n\t\t}\n\t}\n}\n","/**\n * Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='../references.ts' />\n\nmodule Shumway.AVM1.Lib {\n\timport ASObject = Shumway.AVMX.AS.ASObject;\n\timport AXClass = Shumway.AVMX.AXClass;\n\n\t// Base class/function for all AVM1 filters.\n\tclass AVM1BitmapFilterFunction extends AVM1Function {\n\t\tconstructor(context: AVM1Context) {\n\t\t\tsuper(context);\n\t\t\tthis.alSetOwnPrototypeProperty(new AVM1BitmapFilterPrototype(context, this));\n\t\t}\n\n\t\talConstruct(args?: any[]): AVM1Object {\n\t\t\tlet obj = new AVM1Object(this.context);\n\t\t\tobj.alPrototype = this.alGetPrototypeProperty();\n\t\t\treturn obj;\n\t\t}\n\t}\n\n\tclass AVM1BitmapFilterPrototype extends AVM1Object {\n\t\tasFilterConverter: IFilterConverter;\n\n\t\tconstructor(context: AVM1Context, fn: AVM1Function) {\n\t\t\tsuper(context);\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tconstructor: {\n\t\t\t\t\tvalue: fn,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tclone: {\n\t\t\t\t\tvalue: this.clone,\n\t\t\t\t\twritable: true\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tclone(): AVM1Object {\n\t\t\tlet obj = new AVM1Object(this.context);\n\t\t\tobj.alPrototype = this.alGetPrototypeProperty();\n\t\t\treturn obj;\n\t\t}\n\t}\n\n\tinterface IFilterConverter {\n\t\ttoAS3Filter(as2Object: AVM1Object): ASObject;\n\n\t\tfromAS3Filter(as3Object: ASObject): AVM1Object;\n\n\t\tgetAS3Class(): AXClass;\n\t}\n\n\t// Automates creation of the AVM1 filter classes.\n\tfunction createFilterClass(context: AVM1Context, filtersObj: AVM1Object, base: AVM1Function,\n\t                           name: string, fields: string[]): void {\n\t\t// Simple constructor for the class function.\n\t\tfunction construct(args?: any[]): AVM1Object {\n\t\t\tlet as2Object = new AVM1Object(context);\n\t\t\tas2Object.alPrototype = wrappedProto;\n\t\t\tif (args) {\n\t\t\t\tfor (let i = 0; i < args.length; i++) {\n\t\t\t\t\tas2Object.alPut(fields[i << 1], args[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn as2Object;\n\t\t}\n\n\t\tfunction clone(): AVM1Object {\n\t\t\tlet as2Object = new AVM1Object(context);\n\t\t\tas2Object.alPrototype = wrappedProto;\n\t\t\tfor (let i = 0; i < fields.length; i += 2) {\n\t\t\t\tas2Object.alPut(fields[i], this.alGet(fields[i]));\n\t\t\t}\n\t\t\treturn as2Object;\n\t\t}\n\n\t\tfunction getAS3Class(): AXClass {\n\t\t\t// The AS3 class name shall match\n\t\t\treturn context.sec.flash.filters[name].axClass;\n\t\t}\n\n\t\tfunction toAS3Filter(as2Object: AVM1Object): ASObject {\n\t\t\tlet as3Object: ASObject = <any> getAS3Class().axConstruct([]);\n\t\t\t// Just copying all defined properties.\n\t\t\tfor (let i = 0; i < fields.length; i += 2) {\n\t\t\t\tlet as2Value = as2Object.alGet(fields[i]);\n\t\t\t\tif (as2Value === undefined) {\n\t\t\t\t\tcontinue; // skipping undefined\n\t\t\t\t}\n\t\t\t\tas3Object.axSetPublicProperty(fields[i],\n\t\t\t\t\tconvertToAS3Field(context, as2Value, fields[i + 1]));\n\t\t\t}\n\t\t\treturn as3Object;\n\t\t}\n\n\t\tfunction fromAS3Filter(as3Object: ASObject): AVM1Object {\n\t\t\tlet as2Object = new AVM1Object(context);\n\t\t\tas2Object.alPrototype = wrappedProto;\n\t\t\tfor (let i = 0; i < fields.length; i += 2) {\n\t\t\t\tas2Object.alPut(fields[i],\n\t\t\t\t\tconvertFromAS3Field(context, as3Object.axGetPublicProperty(fields[i]), fields[i + 1]));\n\t\t\t}\n\t\t\treturn as2Object;\n\t\t}\n\n\t\t// Creates new prototype object and function for the class.\n\t\tlet proto = base.alGetPrototypeProperty();\n\t\tlet wrappedProto: AVM1BitmapFilterPrototype = Object.create(AVM1BitmapFilterPrototype.prototype);\n\t\tAVM1Object.call(wrappedProto, context);\n\t\twrappedProto.alPrototype = proto;\n\n\t\tlet wrapped: AVM1BitmapFilterFunction = Object.create(AVM1BitmapFilterFunction.prototype);\n\t\tAVM1Function.call(wrapped, context);\n\t\twrapped.alSetOwnPrototypeProperty(wrappedProto);\n\t\twrapped.alConstruct = construct;\n\n\t\talDefineObjectProperties(wrappedProto, {\n\t\t\tconstructor: {\n\t\t\t\tvalue: wrapped,\n\t\t\t\twritable: true\n\t\t\t},\n\t\t\tclone: {\n\t\t\t\tvalue: clone,\n\t\t\t\twritable: true\n\t\t\t}\n\t\t});\n\n\t\t// ... and also attaches conversion utility.\n\t\twrappedProto.asFilterConverter = {\n\t\t\ttoAS3Filter: toAS3Filter,\n\t\t\tfromAS3Filter: fromAS3Filter,\n\t\t\tgetAS3Class: getAS3Class\n\t\t};\n\n\t\tfiltersObj.alPut(name, wrapped);\n\t}\n\n\texport function createFiltersClasses(context: AVM1Context): AVM1Object {\n\t\tlet filters = alNewObject(context);\n\t\tlet base = new AVM1BitmapFilterFunction(context);\n\t\tfilters.alPut('BitmapFilter', base);\n\t\t// TODO make field types non-string\n\t\tcreateFilterClass(context, filters, base, 'BevelFilter',\n\t\t\t['distance', 'Number', 'angle', 'Number', 'highlightColor', 'Number',\n\t\t\t\t'highlightAlpha', 'Number', 'shadowColor', 'Number', 'shadowAlpha', 'Number',\n\t\t\t\t'blurX', 'Number', 'blurY', 'Number', 'strength', 'Number', 'quality', 'Number',\n\t\t\t\t'type', 'String', 'knockout', 'Boolean']);\n\t\tcreateFilterClass(context, filters, base, 'BlurFilter',\n\t\t\t['blurX', 'Number', 'blurY', 'Number', 'quality', 'Number']);\n\t\tcreateFilterClass(context, filters, base, 'ColorMatrixFilter',\n\t\t\t['matrix', 'Numbers']);\n\t\tcreateFilterClass(context, filters, base, 'ConvolutionFilter',\n\t\t\t['matrixX', 'Number', 'matrixY', 'Number', 'matrix', 'Numbers',\n\t\t\t\t'divisor', 'Number', 'bias', 'Number', 'preserveAlpha', 'Boolean',\n\t\t\t\t'clamp', 'Boolean', 'color', 'Number', 'alpha', 'Number']);\n\t\tcreateFilterClass(context, filters, base, 'DisplacementMapFilter',\n\t\t\t['mapBitmap', 'BitmapData', 'mapPoint', 'Point', 'componentX', 'Number',\n\t\t\t\t'componentY', 'Number', 'scaleX', 'Number', 'scaleY', 'Number',\n\t\t\t\t'mode', 'String', 'color', 'Number', 'alpha', 'Number']);\n\t\tcreateFilterClass(context, filters, base, 'DropShadowFilter',\n\t\t\t['distance', 'Number', 'angle', 'Number', 'color', 'Number',\n\t\t\t\t'alpha', 'Number', 'blurX', 'Number', 'blurY', 'Number',\n\t\t\t\t'strength', 'Number', 'quality', 'Number', 'inner', 'Boolean',\n\t\t\t\t'knockout', 'Boolean', 'hideObject', 'Boolean']);\n\t\tcreateFilterClass(context, filters, base, 'GlowFilter',\n\t\t\t['color', 'Number', 'alpha', 'Number', 'blurX', 'Number', 'blurY', 'Number',\n\t\t\t\t'strength', 'Number', 'quality', 'Number', 'inner', 'Boolean', 'knockout', 'Boolean']);\n\t\tcreateFilterClass(context, filters, base, 'GradientBevelFilter',\n\t\t\t['distance', 'Number', 'angle', 'Number', 'colors', 'Numbers',\n\t\t\t\t'alphas', 'Numbers', 'ratios', 'Numbers', 'blurX', 'Number', 'blurY', 'Number',\n\t\t\t\t'strength', 'Number', 'quality', 'Number', 'type', 'String', 'knockout', 'Boolean']);\n\t\tcreateFilterClass(context, filters, base, 'GradientGlowFilter',\n\t\t\t['distance', 'Number', 'angle', 'Number', 'colors', 'Numbers',\n\t\t\t\t'alphas', 'Numbers', 'ratios', 'Numbers', 'blurX', 'Number', 'blurY', 'Number',\n\t\t\t\t'strength', 'Number', 'quality', 'Number', 'type', 'String', 'knockout', 'Boolean']);\n\t\treturn filters;\n\t}\n\n\tfunction convertToAS3Field(context: AVM1Context, value: any, type: string): any {\n\t\tswitch (type) {\n\t\t\tcase 'String':\n\t\t\t\treturn alToString(context, value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn alToBoolean(context, value);\n\t\t\tcase 'Number':\n\t\t\t\treturn alToNumber(context, value);\n\t\t\tcase 'Numbers':\n\t\t\t\tlet arr = [];\n\t\t\t\tif (value) {\n\t\t\t\t\tfor (let i = 0, length = value.alGet('length'); i < length; i++) {\n\t\t\t\t\t\tarr[i] = alToNumber(context, value.alGet(i));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn context.sec.createArray(arr);\n\t\t\tcase 'BitmapData':\n\t\t\t\treturn toAS3BitmapData(value);\n\t\t\tcase 'Point':\n\t\t\t\treturn toAS3Point(value);\n\t\t\tdefault:\n\t\t\t\trelease || Debug.assert(false, 'Unknown convertToAS3Field type: ' + type);\n\t\t}\n\t}\n\n\tfunction convertFromAS3Field(context: AVM1Context, value: any, type: string): any {\n\t\tswitch (type) {\n\t\t\tcase 'String':\n\t\t\tcase 'Boolean':\n\t\t\tcase 'Number':\n\t\t\t\treturn value;\n\t\t\tcase 'Numbers':\n\t\t\t\tlet arr = [];\n\t\t\t\tif (value) {\n\t\t\t\t\tfor (let i = 0, length = value.value.length; i < length; i++) {\n\t\t\t\t\t\tarr[i] = +value.value[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn new Natives.AVM1ArrayNative(context, arr);\n\t\t\tcase 'BitmapData':\n\t\t\t\treturn AVM1BitmapData.fromAS3BitmapData(context, value);\n\t\t\tcase 'Point':\n\t\t\t\treturn AVM1Point.fromAS3Point(context, value);\n\t\t\tdefault:\n\t\t\t\trelease || Debug.assert(false, 'Unknown convertFromAS3Field type: ' + type);\n\t\t}\n\t}\n\n\tlet knownFilters: string[] = ['BevelFilter', 'BlurFilter', 'ColorMatrixFilter',\n\t\t'ConvolutionFilter', 'DisplacementMapFilter', 'DropShadowFilter', 'GlowFilter',\n\t\t'GradientBevelFilter', 'GradientGlowFilter'];\n\n\texport function convertToAS3Filter(context: AVM1Context, as2Filter: AVM1Object): ASObject {\n\t\tlet proto = as2Filter ? as2Filter.alPrototype : null;\n\t\twhile (proto && !(<AVM1BitmapFilterPrototype>proto).asFilterConverter) {\n\t\t\tproto = proto.alPrototype;\n\t\t}\n\t\tif (proto) {\n\t\t\treturn (<AVM1BitmapFilterPrototype>proto).asFilterConverter.toAS3Filter(as2Filter);\n\t\t}\n\t\treturn undefined;\n\t}\n\n\texport function convertToAS3Filters(context: AVM1Context, as2Filters: AVM1Object): ASObject {\n\t\tlet arr = [];\n\t\tif (as2Filters) {\n\t\t\tfor (let i = 0, length = as2Filters.alGet('length'); i < length; i++) {\n\t\t\t\tlet as3Filter = convertToAS3Filter(context, as2Filters.alGet(i));\n\t\t\t\tif (as3Filter) {\n\t\t\t\t\tarr.push(as3Filter);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn context.sec.createArrayUnsafe(arr);\n\t}\n\n\texport function convertFromAS3Filters(context: AVM1Context, as3Filters: ASObject): AVM1Object {\n\t\tlet arr: Array<AVM1Object> = [];\n\t\tif (as3Filters) {\n\t\t\tlet classes = context.globals.filters;\n\t\t\tfor (let i = 0, length = as3Filters.axGetPublicProperty('length'); i < length; i++) {\n\t\t\t\tlet as3Filter = as3Filters.axGetPublicProperty(i);\n\t\t\t\t// TODO inefficient search, refactor\n\t\t\t\tknownFilters.forEach((filterName: string) => {\n\t\t\t\t\tlet filterClass = classes.alGet(filterName);\n\t\t\t\t\tlet proto: AVM1BitmapFilterPrototype = filterClass.alGetPrototypeProperty();\n\t\t\t\t\tif (proto.asFilterConverter && proto.asFilterConverter.getAS3Class().axIsType(as3Filter)) {\n\t\t\t\t\t\tarr.push(proto.asFilterConverter.fromAS3Filter(as3Filter));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn new Natives.AVM1ArrayNative(context, arr);\n\t}\n}\n","/**\n * Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='../references.ts' />\n\nmodule Shumway.AVM1.Lib {\n\timport ASObject = Shumway.AVMX.AS.ASObject;\n\timport flash = Shumway.AVMX.AS.flash;\n\timport axCoerceString = Shumway.AVMX.axCoerceString;\n\n\texport interface IAVM1DataObject {\n\t\tisAVM1DataObject: boolean;\n\t\t_as3Loader: flash.net.URLLoader;\n\n\t\tgetBytesLoaded(): number;\n\n\t\tgetBytesTotal(): number;\n\t}\n\n\texport function loadAVM1DataObject(context: AVM1Context, url: string,\n\t                                   method: string, contentType: string,\n\t                                   data: any, target: IAVM1DataObject): void {\n\t\tlet request = new context.sec.flash.net.URLRequest(url);\n\t\tif (method) {\n\t\t\trequest.method = method;\n\t\t}\n\t\tif (contentType) {\n\t\t\trequest.contentType = contentType;\n\t\t}\n\t\tif (data) {\n\t\t\trelease || Debug.assert(typeof data === 'string');\n\t\t\trequest.data = data;\n\t\t}\n\t\tlet loader = new context.sec.flash.net.URLLoader(request);\n\t\tloader.dataFormat = 'text'; // flash.net.URLLoaderDataFormat.TEXT;\n\t\tlet completeHandler = context.sec.boxFunction(function (event: flash.events.Event): void {\n\t\t\tloader.removeEventListener(flash.events.Event.COMPLETE, completeHandler);\n\t\t\trelease || Debug.assert(typeof loader.data === 'string');\n\t\t\tavm1BroadcastEvent(context, target, 'onData', [loader.data]);\n\t\t});\n\t\tloader.addEventListener(flash.events.Event.COMPLETE, completeHandler);\n\t\ttarget._as3Loader = loader;\n\t}\n\n\texport class AVM1LoadVarsFunction extends AVM1Function {\n\t\tconstructor(context: AVM1Context) {\n\t\t\tsuper(context);\n\t\t\tthis.alSetOwnPrototypeProperty(new AVM1LoadVarsPrototype(context, this));\n\t\t}\n\n\t\talConstruct(args?: any[]): AVM1Object {\n\t\t\tlet obj = new AVM1Object(this.context);\n\t\t\tobj.alPrototype = this.alGetPrototypeProperty();\n\t\t\t(<IAVM1DataObject><any>obj).isAVM1DataObject = true;\n\t\t\treturn obj;\n\t\t}\n\n\t\talCall(thisArg: any, args?: any[]): any {\n\t\t\treturn this.alConstruct(args);\n\t\t}\n\t}\n\n\texport class AVM1LoadVarsPrototype extends AVM1Object implements IAVM1DataObject {\n\t\tconstructor(context: AVM1Context, fn: AVM1LoadVarsFunction) {\n\t\t\tsuper(context);\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tconstructor: {\n\t\t\t\t\tvalue: fn,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\ttoString: {\n\t\t\t\t\tvalue: this._toString\n\t\t\t\t},\n\t\t\t\tload: {\n\t\t\t\t\tvalue: this.load\n\t\t\t\t},\n\t\t\t\tonData: {\n\t\t\t\t\tvalue: this.defaultOnData\n\t\t\t\t},\n\t\t\t\tdecode: {\n\t\t\t\t\tvalue: this.decode\n\t\t\t\t},\n\t\t\t\tsend: {\n\t\t\t\t\tvalue: this.load\n\t\t\t\t},\n\t\t\t\tsendAndload: {\n\t\t\t\t\tvalue: this.load\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tisAVM1DataObject: boolean;\n\t\t_as3Loader: flash.net.URLLoader;\n\n\t\tgetBytesLoaded(): number {\n\t\t\tif (!this._as3Loader) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn this._as3Loader.bytesLoaded;\n\t\t}\n\n\t\tgetBytesTotal(): number {\n\t\t\tif (!this._as3Loader) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn this._as3Loader.bytesTotal;\n\t\t}\n\n\t\tload(url: string): boolean {\n\t\t\turl = alCoerceString(this.context, url);\n\t\t\tif (!url) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tloadAVM1DataObject(this.context, url, null, null, null, this);\n\t\t\treturn true;\n\t\t}\n\n\t\tdefaultOnData(src: string) {\n\t\t\tif (isNullOrUndefined(src)) {\n\t\t\t\tavm1BroadcastEvent(this.context, this, 'onLoad', [false]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tAVM1LoadVarsPrototype.prototype.decode.call(this, src);\n\t\t\tthis.alPut('loaded', true);\n\t\t\tavm1BroadcastEvent(this.context, this, 'onLoad', [true]);\n\t\t}\n\n\t\tdecode(queryString: string): void {\n\t\t\tqueryString = alCoerceString(this.context, queryString);\n\t\t\tlet as3Variables = new this.context.sec.flash.net.URLVariables();\n\t\t\tas3Variables._ignoreDecodingErrors = true;\n\t\t\tas3Variables.decode(queryString);\n\t\t\tAVMX.forEachPublicProperty(as3Variables, function (name, value) {\n\t\t\t\t// TODO Are we leaking some AS3 properties/fields here?\n\t\t\t\tif (typeof value === 'string') {\n\t\t\t\t\tthis.alPut(name, value);\n\t\t\t\t}\n\t\t\t}, this);\n\t\t}\n\n\t\t_toString(): string {\n\t\t\tlet context = this.context;\n\t\t\tlet as3Variables = new context.sec.flash.net.URLVariables();\n\t\t\talForEachProperty(this, function (name) {\n\t\t\t\tif (this.alHasOwnProperty(name)) {\n\t\t\t\t\tas3Variables.axSetPublicProperty(name, alToString(context, this.alGet(name)));\n\t\t\t\t}\n\t\t\t}, this);\n\t\t\treturn as3Variables.axCallPublicProperty('toString', null);\n\t\t}\n\n\t\tsend(url: string, target: string, method?: string): boolean {\n\t\t\turl = alCoerceString(this.context, url);\n\t\t\tmethod = isNullOrUndefined(method) ? 'POST' : alCoerceString(this.context, method);\n\t\t\tDebug.notImplemented('AVM1LoadVarsPrototype.send');\n\t\t\treturn false;\n\t\t}\n\n\t\tsendAndLoad(url: string, target: AVM1Object, method?: string): boolean {\n\t\t\turl = alCoerceString(this.context, url);\n\t\t\tmethod = isNullOrUndefined(method) ? 'POST' : alCoerceString(this.context, method);\n\t\t\tif (!url || !(target instanceof AVM1Object)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!(<IAVM1DataObject><any>target).isAVM1DataObject) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet contentType = this.alGet('contentType');\n\t\t\tcontentType = isNullOrUndefined(contentType) ?\n\t\t\t\t'application/x-www-form-urlencoded' :\n\t\t\t\talCoerceString(this.context, contentType);\n\t\t\tlet data = alToString(this.context, this);\n\t\t\tloadAVM1DataObject(this.context, url, method, contentType, data, <IAVM1DataObject><any>target);\n\t\t\treturn true;\n\t\t}\n\t}\n}","/**\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='../references.ts' />\n\nmodule Shumway.AVM1.Lib {\n\timport ASObject = Shumway.AVMX.AS.ASObject;\n\timport flash = Shumway.AVMX.AS.flash;\n\timport axCoerceString = Shumway.AVMX.axCoerceString;\n\n\tenum AVM1XMLNodeType {\n\t\tELEMENT_NODE = 1,\n\t\tTEXT_NODE = 3\n\t}\n\n\tfunction toAS3XMLNode(as2Node: AVM1Object): flash.xml.XMLNode {\n\t\tif (!(as2Node instanceof AVM1Object)) {\n\t\t\treturn null;\n\t\t}\n\t\tlet context = as2Node.context;\n\t\tif (!alInstanceOf(context, as2Node, context.globals.XMLNode)) {\n\t\t\treturn null;\n\t\t}\n\t\trelease || Debug.assert((<AVM1XMLNodePrototype>as2Node).as3XMLNode);\n\t\treturn (<AVM1XMLNodePrototype>as2Node).as3XMLNode;\n\t}\n\n\tfunction fromAS3XMLNode(context: AVM1Context, as3Node: flash.xml.XMLNode): AVM1Object {\n\t\tif (isNullOrUndefined(as3Node)) {\n\t\t\treturn undefined;\n\t\t}\n\t\tlet as2Node: AVM1Object = (<any>as3Node)._as2Node;\n\t\tif (!as2Node) {\n\t\t\tas2Node = new AVM1Object(context);\n\t\t\tas2Node.alPrototype = context.globals.XMLNode.alGetPrototypeProperty();\n\t\t\tAVM1XMLNodePrototype.prototype.initializeFromAS3Node.call(as2Node, as3Node);\n\t\t} else {\n\t\t\trelease || Debug.assert(as2Node.context === context);\n\t\t}\n\t\treturn as2Node;\n\t}\n\n\texport class AVM1XMLNodeFunction extends AVM1Function {\n\t\tconstructor(context: AVM1Context) {\n\t\t\tsuper(context);\n\t\t\tthis.alSetOwnPrototypeProperty(new AVM1XMLNodePrototype(context, this));\n\n\t\t}\n\n\t\talConstruct(args?: any[]): AVM1Object {\n\t\t\tif (!args && args.length < 2) {\n\t\t\t\tDebug.notImplemented('Unsupported amount of parameters for AVM1XMLNode constructor');\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tlet type = alCoerceNumber(this.context, args[0]);\n\t\t\tlet value = alCoerceString(this.context, args[1]);\n\t\t\tif (type !== AVM1XMLNodeType.ELEMENT_NODE && type !== AVM1XMLNodeType.TEXT_NODE) {\n\t\t\t\tDebug.notImplemented('Unsupported AVM1XMLNode type: ' + type);\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tlet obj = new AVM1Object(this.context);\n\t\t\tobj.alPrototype = this.alGetPrototypeProperty();\n\t\t\tAVM1XMLNodePrototype.prototype.initializeNode.call(obj, type, value);\n\t\t\treturn obj;\n\t\t}\n\n\t\talCall(thisArg: any, args?: any[]): any {\n\t\t\treturn this.alConstruct(args);\n\t\t}\n\t}\n\n\tclass AVM1XMLNodeChildNodes extends AVM1Object {\n\t\tprivate _as3XMLNode: flash.xml.XMLNode;\n\t\tprivate _cachedNodePropertyDescriptor: AVM1PropertyDescriptor;\n\n\t\tconstructor(context: AVM1Context, as3XMLNode: flash.xml.XMLNode) {\n\t\t\tsuper(context);\n\t\t\tthis._as3XMLNode = as3XMLNode;\n\t\t\tthis._cachedNodePropertyDescriptor = new AVM1PropertyDescriptor(AVM1PropertyFlags.DATA |\n\t\t\t\tAVM1PropertyFlags.DONT_DELETE |\n\t\t\t\tAVM1PropertyFlags.READ_ONLY,\n\t\t\t\tundefined);\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tlength: {\n\t\t\t\t\tget: this.getLength\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tget as3ChildNodes(): any[] {\n\t\t\treturn this._as3XMLNode.axGetPublicProperty('childNodes').value; // TODO .childNodes\n\t\t}\n\n\t\tgetLength(): number {\n\t\t\treturn this.as3ChildNodes.length;\n\t\t}\n\n\t\talGetOwnProperty(p: any): AVM1PropertyDescriptor {\n\t\t\tif (alIsIndex(this.context, p)) {\n\t\t\t\tlet index = alToInteger(this.context, p);\n\t\t\t\tif (index >= 0 && index < this.as3ChildNodes.length) {\n\t\t\t\t\tthis._cachedNodePropertyDescriptor.value = fromAS3XMLNode(this.context, this.as3ChildNodes[index]);\n\t\t\t\t\treturn this._cachedNodePropertyDescriptor;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn super.alGetOwnProperty(p);\n\t\t}\n\t}\n\n\tclass AVM1XMLNodeAttributes extends AVM1Object {\n\t\tprivate _as3Attributes: ASObject;\n\t\tprivate _cachedNodePropertyDescriptor: AVM1PropertyDescriptor;\n\n\t\tconstructor(context: AVM1Context, as3Attributes: ASObject) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = context.builtins.Object.alGetPrototypeProperty();\n\t\t\tthis._as3Attributes = as3Attributes;\n\t\t\tthis._cachedNodePropertyDescriptor = new AVM1PropertyDescriptor(AVM1PropertyFlags.DATA,\n\t\t\t\tundefined);\n\t\t}\n\n\t\tpublic alGetOwnProperty(p: any): AVM1PropertyDescriptor {\n\t\t\tlet name = alCoerceString(this.context, p);\n\t\t\tif (this._as3Attributes.axHasPublicProperty(name)) {\n\t\t\t\tthis._cachedNodePropertyDescriptor.value =\n\t\t\t\t\tthis._as3Attributes.axGetPublicProperty(name);\n\t\t\t\treturn this._cachedNodePropertyDescriptor;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\n\t\tpublic alSetOwnProperty(p: any, desc: AVM1PropertyDescriptor): void {\n\t\t\tlet name = alCoerceString(this.context, p);\n\t\t\tif ((desc.flags & AVM1PropertyFlags.DATA)) {\n\t\t\t\tlet value = alCoerceString(this.context, desc.value);\n\t\t\t\tthis._as3Attributes.axSetPublicProperty(name, value);\n\t\t\t}\n\t\t}\n\n\t\tpublic alHasOwnProperty(p: any): boolean {\n\t\t\tlet name = alCoerceString(this.context, p);\n\t\t\treturn this._as3Attributes.axHasPublicProperty(name);\n\t\t}\n\n\t\tpublic alDeleteOwnProperty(p: any) {\n\t\t\tlet name = alCoerceString(this.context, p);\n\t\t\tthis._as3Attributes.axDeletePublicProperty(name);\n\t\t}\n\n\t\tpublic alGetOwnPropertiesKeys(): string[] {\n\t\t\tlet as3Keys = this._as3Attributes.axGetEnumerableKeys();\n\t\t\treturn as3Keys.map((key) => axCoerceString(key));\n\t\t}\n\t}\n\n\tclass AVM1XMLNodePrototype extends AVM1Object {\n\t\tprivate _childNodes: AVM1XMLNodeChildNodes;\n\t\tprivate _attributes: AVM1Object;\n\n\t\tas3XMLNode: flash.xml.XMLNode;\n\n\t\tconstructor(context: AVM1Context, fn: AVM1Function) {\n\t\t\tsuper(context);\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tconstructor: {\n\t\t\t\t\tvalue: fn,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tattributes: {\n\t\t\t\t\tget: this.getAttributes,\n\t\t\t\t\tset: this.setAttributes\n\t\t\t\t},\n\t\t\t\tchildNodes: {\n\t\t\t\t\tget: this.getChildNodes\n\t\t\t\t},\n\t\t\t\tfirstChild: {\n\t\t\t\t\tget: this.getFirstChild\n\t\t\t\t},\n\t\t\t\tlastChild: {\n\t\t\t\t\tget: this.getLastChild\n\t\t\t\t},\n\t\t\t\tlocalName: {\n\t\t\t\t\tget: this.getLocalName\n\t\t\t\t},\n\t\t\t\tnamespaceURI: {\n\t\t\t\t\tget: this.getNamespaceURI\n\t\t\t\t},\n\t\t\t\tnextSibling: {\n\t\t\t\t\tget: this.getNextSibling\n\t\t\t\t},\n\t\t\t\tnodeName: {\n\t\t\t\t\tget: this.getNodeName,\n\t\t\t\t\tset: this.setNodeName\n\t\t\t\t},\n\t\t\t\tnodeType: {\n\t\t\t\t\tget: this.getNodeType\n\t\t\t\t},\n\t\t\t\tnodeValue: {\n\t\t\t\t\tget: this.getNodeValue,\n\t\t\t\t\tset: this.setNodeValue\n\t\t\t\t},\n\t\t\t\tparentNode: {\n\t\t\t\t\tget: this.getParentNode\n\t\t\t\t},\n\t\t\t\tprefix: {\n\t\t\t\t\tget: this.getPrefix\n\t\t\t\t},\n\t\t\t\tpreviousSibling: {\n\t\t\t\t\tget: this.getPreviousSibling\n\t\t\t\t},\n\n\t\t\t\tappendChild: {\n\t\t\t\t\tvalue: this.appendChild\n\t\t\t\t},\n\t\t\t\tcloneNode: {\n\t\t\t\t\tvalue: this.cloneNode\n\t\t\t\t},\n\t\t\t\tgetNamespaceForPrefix: {\n\t\t\t\t\tvalue: this.getNamespaceForPrefix\n\t\t\t\t},\n\t\t\t\tgetPrefixForNamespace: {\n\t\t\t\t\tvalue: this.getPrefixForNamespace\n\t\t\t\t},\n\t\t\t\thasChildNodes: {\n\t\t\t\t\tvalue: this.hasChildNodes\n\t\t\t\t},\n\t\t\t\tinsertBefore: {\n\t\t\t\t\tvalue: this.insertBefore\n\t\t\t\t},\n\t\t\t\tremoveNode: {\n\t\t\t\t\tvalue: this.removeNode\n\t\t\t\t},\n\t\t\t\ttoString: {\n\t\t\t\t\tvalue: this._toString\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tinitializeNode(type: number, value: string): void {\n\t\t\tthis.as3XMLNode = new this.context.sec.flash.xml.XMLNode(type, value);\n\t\t\tthis._attributes = undefined;\n\t\t\tthis._childNodes = undefined;\n\t\t\tAVM1XMLNodePrototype.addMap(this.as3XMLNode, this);\n\t\t}\n\n\t\tinitializeFromAS3Node(as3XMLNode: flash.xml.XMLNode): void {\n\t\t\tthis.as3XMLNode = as3XMLNode;\n\t\t\tthis._attributes = undefined;\n\t\t\tthis._childNodes = undefined;\n\t\t\tAVM1XMLNodePrototype.addMap(this.as3XMLNode, this);\n\t\t}\n\n\t\t_toString(): string {\n\t\t\treturn this.as3XMLNode.axCallPublicProperty('toString', null);\n\t\t}\n\n\t\tappendChild(newChild: AVM1Object): void {\n\t\t\tthis.as3XMLNode.axCallPublicProperty('appendChild', [toAS3XMLNode(newChild)]);\n\t\t}\n\n\t\tgetAttributes(): AVM1Object {\n\t\t\tlet as3Attributes = this.as3XMLNode.axGetPublicProperty('attributes');\n\t\t\tif (isNullOrUndefined(as3Attributes)) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\t// TODO create a proxy to map AVM2 object stuff to AVM1\n\t\t\tif (!this._attributes) {\n\t\t\t\tthis._attributes = new AVM1XMLNodeAttributes(this.context, as3Attributes);\n\t\t\t}\n\t\t\treturn this._attributes;\n\t\t}\n\n\t\tsetAttributes(value: AVM1Object) {\n\t\t\tif (isNullOrUndefined(value)) {\n\t\t\t\tthis._attributes = undefined;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (value instanceof AVM1XMLNodeAttributes) {\n\t\t\t\tthis._attributes = value;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet context = this.context;\n\t\t\tlet as3Attributes = context.sec.createObject();\n\t\t\talForEachProperty(value, (prop) => {\n\t\t\t\tlet name = alCoerceString(context, prop);\n\t\t\t\tlet value = alCoerceString(context, this.alGet(prop));\n\t\t\t\tas3Attributes.axSetPublicProperty(name, value);\n\t\t\t}, this);\n\t\t\tthis._attributes = new AVM1XMLNodeAttributes(context, as3Attributes);\n\t\t}\n\n\t\tgetChildNodes(): AVM1Object {\n\t\t\tif (!this._childNodes) {\n\t\t\t\tthis._childNodes = new AVM1XMLNodeChildNodes(this.context, this.as3XMLNode);\n\t\t\t}\n\t\t\treturn this._childNodes;\n\t\t}\n\n\t\tcloneNode(deepClone: boolean): AVM1Object {\n\t\t\tdeepClone = alToBoolean(this.context, deepClone);\n\t\t\tlet clone = this.as3XMLNode.axCallPublicProperty('cloneNode', [deepClone]);\n\t\t\treturn fromAS3XMLNode(this.context, clone);\n\t\t}\n\n\t\tgetFirstChild(): AVM1Object {\n\t\t\treturn fromAS3XMLNode(this.context, this.as3XMLNode.axGetPublicProperty('firstChild'));\n\t\t}\n\n\t\tgetNamespaceForPrefix(prefix: string): string {\n\t\t\treturn this.as3XMLNode.axCallPublicProperty('getNamespaceForPrefix', [prefix]);\n\t\t}\n\n\t\tgetPrefixForNamespace(nsURI: string): string {\n\t\t\treturn this.as3XMLNode.axCallPublicProperty('getNamespaceForPrefix', [nsURI]);\n\t\t}\n\n\t\thasChildNodes(): boolean {\n\t\t\treturn this.as3XMLNode.axCallPublicProperty('hasChildNodes', null);\n\t\t}\n\n\t\tinsertBefore(newChild: AVM1Object, insertPoint: AVM1Object): void {\n\t\t\tthis.as3XMLNode.axCallPublicProperty('insertBefore',\n\t\t\t\t[toAS3XMLNode(newChild), toAS3XMLNode(insertPoint)]);\n\t\t}\n\n\t\tgetLastChild(): AVM1Object {\n\t\t\treturn fromAS3XMLNode(this.context, this.as3XMLNode.axGetPublicProperty('lastChild'));\n\t\t}\n\n\t\tgetLocalName(): string {\n\t\t\treturn this.as3XMLNode.axGetPublicProperty('localName');\n\t\t}\n\n\t\tgetNamespaceURI(): string {\n\t\t\treturn this.as3XMLNode.axGetPublicProperty('namespaceURI');\n\t\t}\n\n\t\tgetNextSibling(): AVM1Object {\n\t\t\treturn fromAS3XMLNode(this.context, this.as3XMLNode.axGetPublicProperty('nextSibling'));\n\t\t}\n\n\t\tgetNodeName(): string {\n\t\t\treturn this.as3XMLNode.axGetPublicProperty('nodeName');\n\t\t}\n\n\t\tsetNodeName(value: string) {\n\t\t\tvalue = alCoerceString(this.context, value);\n\t\t\tthis.as3XMLNode.axSetPublicProperty('nodeName', value);\n\t\t}\n\n\t\tgetNodeType(): number {\n\t\t\treturn this.as3XMLNode.axGetPublicProperty('nodeType');\n\t\t}\n\n\t\tgetNodeValue(): string {\n\t\t\treturn this.as3XMLNode.axGetPublicProperty('nodeValue');\n\t\t}\n\n\t\tsetNodeValue(value: string) {\n\t\t\tvalue = alCoerceString(this.context, value);\n\t\t\tthis.as3XMLNode.axSetPublicProperty('nodeValue', value);\n\t\t}\n\n\t\tgetParentNode(): AVM1Object {\n\t\t\treturn fromAS3XMLNode(this.context, this.as3XMLNode.axGetPublicProperty('parentNode'));\n\t\t}\n\n\t\tgetPrefix(): string {\n\t\t\treturn this.as3XMLNode.axGetPublicProperty('prefix');\n\t\t}\n\n\t\tgetPreviousSibling(): AVM1Object {\n\t\t\treturn fromAS3XMLNode(this.context, this.as3XMLNode.axGetPublicProperty('previousSibling'));\n\t\t}\n\n\t\tremoveNode(): void {\n\t\t\tthis.as3XMLNode.axCallPublicProperty('removeNode', null);\n\t\t}\n\n\t\tstatic addMap(as3Node: flash.xml.XMLNode, as2Node: AVM1Object): void {\n\t\t\trelease || Debug.assert(!(<any>as3Node)._as2Node);\n\t\t\t(<any>as3Node)._as2Node = as2Node;\n\t\t}\n\t}\n\n\texport class AVM1XMLFunction extends AVM1Function {\n\t\tconstructor(context: AVM1Context, xmlNodeClass: AVM1XMLNodeFunction) {\n\t\t\tsuper(context);\n\t\t\tthis.alSetOwnPrototypeProperty(new AVM1XMLPrototype(context, this, xmlNodeClass));\n\t\t}\n\n\t\talConstruct(args?: any[]): AVM1Object {\n\t\t\tlet text = args && alCoerceString(this.context, args[0]);\n\t\t\tlet obj = new AVM1Object(this.context);\n\t\t\tobj.alPrototype = this.alGetPrototypeProperty();\n\t\t\t(<IAVM1DataObject><any>obj).isAVM1DataObject = true;\n\t\t\tAVM1XMLPrototype.prototype.initializeDocument.call(obj, text);\n\t\t\treturn obj;\n\t\t}\n\n\t\talCall(thisArg: any, args?: any[]): any {\n\t\t\treturn this.alConstruct(args);\n\t\t}\n\t}\n\n\tclass AVM1XMLPrototype extends AVM1Object implements IAVM1DataObject {\n\t\tconstructor(context: AVM1Context, fn: AVM1Function, xmlNodeClass: AVM1XMLNodeFunction) {\n\t\t\tsuper(context);\n\t\t\tthis.alPrototype = xmlNodeClass.alGetPrototypeProperty();\n\t\t\talDefineObjectProperties(this, {\n\t\t\t\tconstructor: {\n\t\t\t\t\tvalue: fn,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\taddRequestHeader: {\n\t\t\t\t\tvalue: this.addRequestHeader\n\t\t\t\t},\n\t\t\t\tcreateElement: {\n\t\t\t\t\tvalue: this.createElement\n\t\t\t\t},\n\t\t\t\tcreateTextNode: {\n\t\t\t\t\tvalue: this.createTextNode\n\t\t\t\t},\n\t\t\t\tgetBytesLoaded: {\n\t\t\t\t\tvalue: this.getBytesLoaded\n\t\t\t\t},\n\t\t\t\tgetBytesTotal: {\n\t\t\t\t\tvalue: this.getBytesTotal\n\t\t\t\t},\n\t\t\t\tignoreWhite: {\n\t\t\t\t\tvalue: false,\n\t\t\t\t\twritable: true\n\t\t\t\t},\n\t\t\t\tload: {\n\t\t\t\t\tvalue: this.load\n\t\t\t\t},\n\t\t\t\tparseXML: {\n\t\t\t\t\tvalue: this.parseXML\n\t\t\t\t},\n\t\t\t\tsend: {\n\t\t\t\t\tvalue: this.send\n\t\t\t\t},\n\t\t\t\tsendAndLoad: {\n\t\t\t\t\tvalue: this.sendAndLoad\n\t\t\t\t},\n\t\t\t\tonData: {\n\t\t\t\t\tvalue: this.defaultOnData,\n\t\t\t\t\twritable: true\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tas3XMLDocument: flash.xml.XMLDocument;\n\t\tisAVM1DataObject: boolean;\n\t\t_as3Loader: flash.net.URLLoader;\n\n\t\tinitializeDocument(text: string) {\n\t\t\ttext = alCoerceString(this.context, text) || null;\n\t\t\tlet as3Doc = new this.context.sec.flash.xml.XMLDocument(text);\n\t\t\tAVM1XMLNodePrototype.prototype.initializeFromAS3Node.call(this, as3Doc);\n\t\t\tthis.as3XMLDocument = as3Doc;\n\t\t}\n\n\t\taddRequestHeader(headers: any, headerValue?: String): void {\n\t\t\tDebug.notImplemented('AVM1XMLPrototype.addRequestHeader');\n\t\t}\n\n\t\tcreateElement(name: string): AVM1Object {\n\t\t\tname = alCoerceString(this.context, name);\n\t\t\tlet as3Node = this.as3XMLDocument.axCallPublicProperty('createElement', [name]);\n\t\t\treturn fromAS3XMLNode(this.context, as3Node);\n\t\t}\n\n\t\tcreateTextNode(value: string): AVM1Object {\n\t\t\tvalue = alCoerceString(this.context, value);\n\t\t\tlet as3Node = this.as3XMLDocument.axCallPublicProperty('createTextNode', [value]);\n\t\t\treturn fromAS3XMLNode(this.context, as3Node);\n\t\t}\n\n\t\tgetBytesLoaded(): number {\n\t\t\tif (!this._as3Loader) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn this._as3Loader.bytesLoaded;\n\t\t}\n\n\t\tgetBytesTotal(): number {\n\t\t\tif (!this._as3Loader) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn this._as3Loader.bytesTotal;\n\t\t}\n\n\t\tload(url: string): boolean {\n\t\t\turl = alCoerceString(this.context, url);\n\t\t\tif (!url) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tloadAVM1DataObject(this.context, url, null, null, null, <IAVM1DataObject><any>this);\n\t\t\treturn true;\n\t\t}\n\n\t\tdefaultOnData(src: string) {\n\t\t\tif (isNullOrUndefined(src)) {\n\t\t\t\tavm1BroadcastEvent(this.context, this, 'onLoad', [false]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tAVM1XMLPrototype.prototype.parseXML.call(this, src);\n\t\t\tthis.alPut('loaded', true);\n\t\t\tavm1BroadcastEvent(this.context, this, 'onLoad', [true]);\n\t\t}\n\n\t\tparseXML(value: string): void {\n\t\t\tvalue = alCoerceString(this.context, value);\n\t\t\tthis.as3XMLDocument.axSetPublicProperty('ignoreWhite',\n\t\t\t\talToBoolean(this.context, this.alGet('ignoreWhite')));\n\t\t\tthis.as3XMLDocument.axCallPublicProperty('parseXML', [value]);\n\t\t}\n\n\t\tsend(url: string, target?: string, method?: string): boolean {\n\t\t\turl = alCoerceString(this.context, url);\n\t\t\ttarget = isNullOrUndefined(target) ? undefined : alCoerceString(this.context, target);\n\t\t\tmethod = isNullOrUndefined(method) ? undefined : alCoerceString(this.context, method);\n\t\t\tDebug.notImplemented('AVM1XMLPrototype.send');\n\t\t\treturn false;\n\t\t}\n\n\t\tsendAndLoad(url: string, resultXML: AVM1Object): void {\n\t\t\turl = alCoerceString(this.context, url);\n\t\t\tif (!url) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!(<IAVM1DataObject><any>resultXML).isAVM1DataObject) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tDebug.somewhatImplemented('AVM1XMLPrototype.send');\n\t\t\t// TODO check content types and test\n\t\t\tlet contentType = this.alGet('contentType');\n\t\t\tcontentType = isNullOrUndefined(contentType) ? undefined : alCoerceString(this.context, contentType);\n\t\t\tlet data = alToString(this.context, this);\n\t\t\tloadAVM1DataObject(this.context, url, 'POST', contentType, data, <IAVM1DataObject><any>resultXML);\n\t\t}\n\t}\n}\n","/*\n * Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n///<reference path='settings.ts' />\n///<reference path='stream.ts' />\n///<reference path='parser.ts' />\n///<reference path='analyze.ts' />\n///<reference path='runtime.ts' />\n///<reference path='natives.ts' />\n///<reference path='context.ts' />\n///<reference path='interpreter.ts' />\n///<reference path='baseline.ts' />\n///<reference path='lib/AVM1Utils.ts' />\n///<reference path='lib/AVM1Globals.ts' />\n///<reference path='lib/AVM1Broadcaster.ts' />\n///<reference path='lib/AVM1Key.ts' />\n///<reference path='lib/AVM1Mouse.ts' />\n///<reference path='lib/AVM1Stage.ts' />\n///<reference path='lib/AVM1MovieClip.ts' />\n///<reference path='lib/AVM1Button.ts' />\n///<reference path='lib/AVM1TextField.ts' />\n///<reference path='lib/AVM1Color.ts' />\n///<reference path='lib/AVM1ColorTransform.ts' />\n///<reference path='lib/AVM1Matrix.ts' />\n///<reference path='lib/AVM1Point.ts' />\n///<reference path='lib/AVM1Rectangle.ts' />\n///<reference path='lib/AVM1Transform.ts' />\n///<reference path='lib/AVM1TextFormat.ts' />\n///<reference path='lib/AVM1BitmapData.ts' />\n///<reference path='lib/AVM1ExternalInterface.ts' />\n///<reference path='lib/AVM1Sound.ts' />\n///<reference path='lib/AVM1System.ts' />\n///<reference path='lib/AVM1SharedObject.ts' />\n///<reference path='lib/AVM1MovieClipLoader.ts' />\n///<reference path='lib/AVM1Filters.ts' />\n///<reference path='lib/AVM1LoadVars.ts' />\n///<reference path='lib/AVM1XML.ts' />\n"]}